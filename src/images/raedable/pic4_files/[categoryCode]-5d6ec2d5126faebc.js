(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4866,4490],{3083:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search/[categoryCode]",function(){return n(53729)}])},43972:function(e,t,n){"use strict";n.d(t,{k:function(){return c}});var s=n(52322),i=n(43997),r=n(31909),a=n(98723),l=n(6013),o=n(72677),d=n(53548);function c(e){var t=e.deepLink,n=e.CROId,c=e.className,u=e.target,m=e.onClick,p=(0,i.v9)(l.p.isLoggedIn),x=t||{},f=x.deepLinksIconUrl,h=x.deepLinksTitle,v=x.deepLinksUrl,g=(0,o.d)("flex flex-col items-center user-select-none my-2 lg:my-0 lg:w-35 w-1/8",c);return(0,s.jsxs)(a.r,{onClick:m,shouldHandleUrlAndOnClick:!0,target:/#supermarkets|#digiplus/.test(v)?"_self":u,to:/my-digipay/.test(v)&&!p?(0,d.U)({toLoginRegisterRoute:!0}):v,className:g,CROId:void 0===n?"hp-ventures-icons":n,children:[(0,s.jsx)(r.E,{src:f,width:52,height:52,alt:h}),(0,s.jsx)("span",{className:"text-caption-strong text-neutral-700 mt-1 text-center px-3 lg:px-4",children:h})]})}},11390:function(e,t,n){"use strict";n.d(t,{u:function(){return o}});var s=n(82075),i=n(8398),r=n(1324),a=n(62069),l=n(56632),o=(0,r.q)({url:function(e){var t=e.categoryCode;return"/dynamic-category-page/".concat("".concat(t).replace("category-",""),"/")},transformer:function(e){var t=e.data;return(0,s.r)({data:t,isDynamicCategory:!0})},inputTransformer:(0,l.c_)(i.d,a.D),isPageGetRequest:!0})},48060:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var s=n(52322),i=n(15973),r=n(19587);function a(e){var t=e.ssrData,n=e.pending,a=(0,r.K)({data:null==t?void 0:t.data,widgetProps:{}});return(0,s.jsx)(i.E,{data:a,pending:n})}},14247:function(e,t,n){"use strict";n.d(t,{H:function(){return b}});var s=n(70865),i=n(96670),r=n(52322),a=n(5632),l=n(62739),o=n(51359),d=n(4818),c=n(21497),u=n(22848),m=n(41435),p=n(6378),x=n(94292),f=n(75185),h=n(24360),v=n(11390),g=n(48060),j=["category-book-and-magazines","category-perfume-all","2048","2050","2051","2052","2053","test-dynamic-cat","category-coffee","category-beauty","category-face-and-body-cream"],b=(0,d.D)({component:function e(t){var n,l,o=(0,a.useRouter)();return!(0,c.$i)()&&!(0,u.J)()&&j.includes(o.query.categoryCode)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.u,{title:null===(n=t.ssrData)||void 0===n?void 0:null===(l=n.seoData)||void 0===l?void 0:l.seoTitle}),(0,r.jsx)(g.k,(0,i.Z)((0,s.Z)({},t),{getSSRMethods:e.getAPIMethods}))]}):(0,r.jsx)(p.c,{})},getAPIMethods:function(e){var t=e.query;return!(0,c.$i)()&&!(0,u.J)()&&j.includes(t.categoryCode)?[{apiMethod:v.u,apiData:t}]:[]},dataProps:function(e){var t=e.query;return!(0,c.$i)()&&!(0,u.J)()&&j.includes(t.categoryCode)?void 0:{apiMethod:l.s,disabled:!1,shouldUseLocation:!0,onSuccess:function(e){var t=e.mutateItem,n=e.mutateItems,s=e.params,i=e.response;(0,x.F)({mutateItem:t,mutateItems:n,params:s,response:i}).then(function(e){(0,m.x)(i)||((0,o.h)({data:i,cpcData:e,queryParams:s}),(0,h.e)({params:s,response:i,identifier:function(e){var t;return{categoryId:null==e?void 0:null===(t=e.category)||void 0===t?void 0:t.categoryId}},cpcData:e}))})}}},layoutProps:function(e){var t=e.query,n=!(0,c.$i)()&&!(0,u.J)()&&j.includes(null==t?void 0:t.categoryCode);return{showDigiplusSubscriptionRenewal:!0,chatKey:"search",noContentPadding:!0,desktopFullWidth:n,desktopContentWidth:n?null:"4xl",hasMobileHeader:!1}},noDefaultLoader:!0})},24034:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var s=n(52322),i=n(57931),r=n(31909),a=n(50603),l=n(66781),o=n(57394),d=n(40565),c=n(80803),u=n(99125),m={src:"/_next/static/media/magnet.144bcb91.svg",height:100,width:84},p=[{title:"امکان تولید محتوا",image:{src:"/_next/static/media/1.3170e1a9.svg",height:56,width:57}},{title:"ویدیوهای نقد و بررسی",image:{src:"/_next/static/media/2.01e66d70.svg",height:56,width:56}},{title:"مشاهده لایو‌ها",image:{src:"/_next/static/media/3.3a18949f.svg",height:56,width:57}}];function x(){var e=(0,c.d)(),t=e.isOpen,n=e.onOpen,x=e.onClose,f=(0,o.J)({action:u.nL,successCallback:x}),h=f.request,v=f.pending;return(0,d.x)([{event:l.bl,handler:n}]),(0,s.jsxs)(a.Modal,{headerTitle:"فعال‌سازی مگنت",isOpen:t,onDismiss:x,hasFooterTopShadow:!1,footer:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(i.z,{className:"flex-1 ml-2",size:"large",color:"primary",onClick:function(){return h({})},loading:v,disabled:v,children:"فعال‌سازی"}),(0,s.jsx)(i.z,{size:"large",className:"flex-1",color:"primary",shape:"outlined",onClick:x,children:"فعلا نه"})]}),childrenClassName:"flex flex-col items-center px-5 py-4",children:[(0,s.jsx)(r.E,{src:m,className:"mb-4"}),(0,s.jsx)("p",{className:"mb-4 text-body-1 text-neutral-900",children:"برای استفاده کامل از امکانات مگنت باید آن را فعال کنید."}),(0,s.jsx)("div",{className:"flex items-center gap-3 w-full",children:p.map(function(e,t){var n=e.title,i=e.image;return(0,s.jsxs)("div",{className:"flex flex-col items-center flex-1 text-center",children:[(0,s.jsx)(r.E,{src:i,className:"mb-2"}),(0,s.jsx)("span",{children:n})]},t)})})]})}},31192:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var s=n(52322),i=n(98780),r=n(72677),a=n(73186),l=n.n(a);function o(e){var t=e.className,n=e.direction,a=e.onClick,o="chevron".concat(n[0].toUpperCase()).concat(n.slice(1));return(0,s.jsx)("div",{onClick:a,className:(0,r.d)(t,"p-2 rounded-circle border-complete absolute bottom-0 top-0 m-auto h-max bg-neutral-000 cursor-pointer",l()[n]),children:(0,s.jsx)(i.J,{icon:o,color:"low-emphasis",size:24})})}},48442:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var s=n(52322),i=n(31909),r=n(98723),a=n(371),l=n(26442),o=n(72677),d=n(71390),c=n(51383),u=n(99036);function m(e){var t=e.className,n=e.user,m=e.descriptionSlot,p=e.backButtonOnClick,x=e.onSuccessFollowed,f=n||{},h=f.username,v=f.photo,g=f.isFollowing;return(0,s.jsxs)("div",{className:(0,o.d)(t,"flex justify-between items-center w-full"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(a.x,{color:"white",onClick:p}),(0,s.jsxs)(r.r,{className:"mr-5 flex items-center",to:(0,l.kK)(h),children:[(0,s.jsx)(i.E,{className:"shrink-0",imageClassName:"rounded-circle",image:v,src:d.C,height:40,width:40}),(0,s.jsxs)("div",{className:"mr-2",children:[(0,s.jsx)("p",{className:"text-h5 text-neutral-100",children:h}),m]})]})]}),(0,s.jsx)(c.P,{children:(0,s.jsx)(u.n,{isFollowing:g,username:h,color:"white",size:"small",onSuccess:x})})]})}},73066:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var s={NOT_STARTED:"not_started",STARTED:"started"}},48607:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var s=n(66383),i=n(2784);function r(e){var t=e.onSwipedRight,n=e.onSwipedLeft,r=e.onSwipedUp,a=e.onSwipedDown,l=e.minSwipeDistance,o=void 0===l?75:l,d=(0,s.Z)((0,i.useState)(0),2),c=d[0],u=d[1],m=(0,s.Z)((0,i.useState)(0),2),p=m[0],x=m[1],f=(0,s.Z)((0,i.useState)(0),2),h=f[0],v=f[1],g=(0,s.Z)((0,i.useState)(0),2),j=g[0],b=g[1];return{onTouchStart:function(e){x(0),b(0),u(e.targetTouches[0].clientX),v(e.targetTouches[0].clientY)},onTouchMove:function(e){x(e.targetTouches[0].clientX),b(e.targetTouches[0].clientY)},onTouchEnd:function(){if(c&&p&&h&&j){var e=c-p,s=h-j;e>o&&n&&n(),e<-o&&t&&t(),s>o&&r&&r(),s<-o&&a&&a()}}}}},84941:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var s=n(70582),i=n(79968),r=n(96207);function a(e){var t=e.data||{},n=t.id,a=t.title,l=t.slug,o=t.cover,d=t.start_time,c=t.persian_calendar,u=t.countdown_text,m=t.badge_text,p=t.status,x=t.user,f=t.subscribed,h=t.link;return{dkLiveId:n,dkLiveTitle:a,dkLiveSlug:l,dkLiveCover:(0,s.W)({data:o}),dkLiveStartTime:d,dkLivePersianStartTime:c,dkLiveCountdownText:u,dkLiveBadgeText:m,dkLiveStatus:p,dkLiveUser:(0,r.s)({data:x}),dkLiveSubscribed:f,dkLiveLink:(0,i.f)({data:h})}}},47715:function(e,t,n){"use strict";n.d(t,{r:function(){return C}});var s=n(70865),i=n(96670),r=n(66383),a=n(50930),l=n(52322),o=n(2784),d=n(31909),c=n(50603),u=n(23248),m=n(51383),p=n(98780),x=n(11559),f=n(87049),h=n(6013),v=n(72677),g=n(71390),j=n(45227),b=n(1324),N=n(39368),_=(0,b.q)({url:function(e){var t=e.postId;return"/magnet/posts/".concat(t,"/comments/create/")},transformer:function(e){var t=(e.data||{}).comment;return{comment:(0,N.T)({data:t})}},inputTransformer:function(e){return{comment:e.commentBody}},type:j.XN.POST}),w=n(62075),y=(0,b.q)({url:function(e){var t=e.postId;return"/magnet/posts/".concat(t,"/comments/create/")},transformer:function(e){var t=(e.data||{}).comment;return{comment:(0,N.T)({data:t})}},inputTransformer:function(e){return{comment:e.commentBody,base_comment_id:e.commentId}},type:j.XN.POST});function k(e){var t=e.className,n=e.post,s=e.onCommentSent,i=e.inputDisabled,a=e.inputOnClick,c=e.replyTo,u=n||{},j=u.postId,b=u.postAuthor,N=(0,r.Z)((0,o.useState)(""),2),k=N[0],C=N[1],P=(0,f.v)(h.p.socialData).socialProfile,I=(0,x.E)({apiMethod:_,onSuccess:function(e){return s(e.comment)}}),S=I.request,L=I.pending,T=(0,x.E)({apiMethod:y,onSuccess:function(e){return s(e.comment)}}),M=T.request,D=T.pending,E=""===k.trim();(0,o.useEffect)(function(){c&&C("@".concat(null==c?void 0:c.username," "))},[c]);var R=function(e){e.preventDefault(),L||D||E||(c?M({postId:j,commentBody:k,commentId:null==c?void 0:c.commentId}):S({postId:j,commentBody:k}),C(""),(0,w.f3)({postId:j,postAuthorId:null==b?void 0:b.authorId}))};return(0,l.jsxs)("form",{onSubmit:R,className:(0,v.d)(t,"p-3 flex items-center gap-3 bg-neutral-100 border-complete rounded-large"),onClick:a,children:[(0,l.jsx)(d.E,{className:"shrink-0",imageClassName:"rounded-circle",image:null==P?void 0:P.socialProfileImage,src:g.C,height:24,width:24}),(0,l.jsx)("input",{className:"w-full border-none text-neutral-600 placeholder-neutral-300",placeholder:"دیدگاه خود را بنویسید ...",onChange:function(e){return C(e.target.value)},value:k,disabled:void 0!==i&&i}),!E&&(0,l.jsx)(m.P,{children:(0,l.jsx)(p.J,{icon:"send",color:L||D?"low-emphasis":"secondary",size:18,onClick:R})})]})}var C=(0,o.memo)(function(e){var t=e.post,n=e.isOpen,m=e.onClose,p=e.commentItemClassName,x=e.commentItemContainerClassName,f=e.inputDisabled,h=e.inputOnClick,v=e.modalClassName,g=e.onBigDataTracker,j=(t||{}).postId,b=(0,r.Z)((0,o.useState)(null),2),N=b[0],_=b[1],w=(0,r.Z)((0,o.useState)([]),2),y=w[0],C=w[1];return(0,o.useEffect)(function(){n&&g&&g(),n||_(null)},[n]),(0,l.jsx)(c.Modal,{header:(0,l.jsx)("span",{className:"text-h5 bg-neutral-000 px-1",children:"دیدگاه‌ها"}),isOpen:n,onDismiss:m,className:v,width:540,footer:(0,l.jsx)(k,{className:"mb-3 lg:mb-0",post:t,onCommentSent:function(e){N?C(function(t){return null==t?void 0:t.map(function(t){if(t.commentId===N.commentId){var n=(0,a.Z)(t.commentTopReplies||[]).concat([e]);return(0,i.Z)((0,s.Z)({},t),{commentTopReplies:n,commentRepliesCount:(t.commentRepliesCount||0)+1})}return t})}):C(function(t){return[e].concat((0,a.Z)(t))}),_(null)},inputDisabled:f,inputOnClick:h,replyTo:N}),onTouchEnd:function(e){e.stopPropagation()},children:(0,l.jsx)(u.D,{postId:j,disabled:!n,shouldDisplayLoading:!0,loadingClassName:"my-20",commentItemClassName:p,commentItemContainerClassName:x,onReplyClick:function(e,t){_({username:e,commentId:t})},emptyStateElement:(0,l.jsxs)("div",{className:"my-15 flex flex-col gap-3 justify-center items-center",children:[(0,l.jsx)(d.E,{src:"/statics/img/svg/empty-comments.svg",width:256,height:192,alt:"empty-comments"}),(0,l.jsx)("p",{className:"text-color-700 text-body-1",children:"اولین نفری باش که دیدگاه می‌نویسد!"})]}),setAllComments:C,allComments:y})})})},98544:function(e,t,n){"use strict";n.d(t,{D:function(){return x}});var s=n(52322),i=n(57931),r=n(31909),a=n(98723),l=n(50603),o=n(97411),d=n(26442),c=n(72677),u=n(71390),m=n(83679),p=n.n(m);function x(e){var t=e.posts,n=e.isOpen,m=e.onClose,x=e.toPostWithIndex;return(0,s.jsx)(l.Modal,{width:600,isOpen:n,onDismiss:m,hasFooterTopShadow:!1,headerTitle:"تماشای دوباره!",footer:(0,s.jsx)(i.z,{to:(0,d.ws)(),className:"w-full",children:"بازگشت به دیجی کالا"}),children:(0,s.jsx)(o.l,{items:t.map(function(e,t){var n,i,l,o,f;return(0,s.jsxs)("div",{className:"relative shrink-0 rounded-large overflow-hidden ml-2",onClick:function(){x(t),m()},children:[(0,s.jsx)(r.E,{objectFit:"cover",height:280,width:150,image:null===(n=e.postMedia)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:i.postMediaSmallCover}),(0,s.jsxs)(a.r,{to:(0,d.kK)(null===(l=e.postAuthor)||void 0===l?void 0:l.authorUsername),className:(0,c.d)(p().VideoEndedModal__item,"flex flex-col gap-2 absolute bottom-0 left-0 right-0 min-h-25 px-2 pb-3 pt-2"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.E,{className:"shrink-0",imageClassName:"rounded-circle",image:null===(o=e.postAuthor)||void 0===o?void 0:o.authorPhoto,src:u.C,height:32,width:32}),(0,s.jsx)("p",{className:"text-body-1 text-white",children:null===(f=e.postAuthor)||void 0===f?void 0:f.authorUsername})]}),(0,s.jsx)("p",{className:"text-body2-strong text-white ellipsis-2",children:e.postTitle})]})]},e.postId)})})})}},59615:function(e,t,n){"use strict";n.d(t,{K:function(){return $}});var s=n(52322),i=n(2784),r=n(37149),a=n.n(r),l=n(64177),o=n(15585),d=n(72677),c=n(24034),u=n(31192),m=n(62075),p=n(70865),x=n(96670),f=n(66383),h=n(842),v=n(8830),g=n(98634),j=n(48442),b=n(42729),N=n(48607),_=n(98780),w=n(51383),y=n(96879),k=n(84714),C=n(47715),P={isLiked:{iconColor:"primary",iconName:"favoriteOn"},isDisliked:{iconColor:"white",iconName:"favoriteOff"}};function I(e){var t=e.className,n=e.post,i=e.postReaction,r=e.isOpenCommentModal,a=e.onOpenCommentModal,l=e.onCloseCommentModal,o=e.onSuccessLike,c=n||{},u=c.postCommentsCount,f=c.postId,h=c.postAuthor,v=(0,k.g)((0,x.Z)((0,p.Z)({},n),{postUserReaction:{isLiked:null==i?void 0:i.isPostLiked}}),o),g=v.handleLikePost,j=v.isLiked,b=v.likesCount,N=j?P.isLiked:P.isDisliked;return(0,s.jsxs)("div",{className:(0,d.d)(t,"flex gap-4 flex-col"),children:[(0,s.jsx)(w.P,{children:(0,s.jsxs)("span",{className:"cursor-pointer text-white flex flex-col items-center text-body-strong",onClick:function(){g(),(0,m.gj)({postId:f,postAuthorId:null==h?void 0:h.authorId})},children:[(0,s.jsx)(_.J,{color:N.iconColor,size:24,icon:N.iconName}),(0,s.jsx)(y.I,{value:b})]})}),(0,s.jsxs)("span",{className:"cursor-pointer text-white flex flex-col items-center text-body-strong",children:[(0,s.jsx)(_.J,{color:"white",size:24,icon:"comment",onClick:a}),(0,s.jsx)(y.I,{value:u})]}),(0,s.jsx)(C.r,{postId:f,post:n,isOpen:r,onClose:l,onBigDataTracker:function(){return(0,m.W0)({postId:f,postAuthorId:null==h?void 0:h.authorId})}})]})}var S=n(5046);function L(e){var t=e.className,n=e.post;return(0,s.jsx)("div",{className:(0,d.d)(t,"relative h-full"),children:(0,s.jsx)(S.l,{shouldDisplayShowMore:!1,titleColor:"text-neutral-100",captionColor:"text-neutral-100",post:n})})}var T=n(11559),M=n(92428),D=n(41435),E=n(36155),R=n(14052),O=n(52483),B=n(45227),Z=(0,n(1324).q)({url:"magnet/affiliate/",type:B.XN.POST,inputTransformer:function(e){return{post_id:e.postId,product_id:e.productId}}});function z(e){var t,n,r=e.className,a=e.products,l=e.postId,o=e.postAuthorId,c=(0,v.R)({modalId:b.f.VIDEO_BABY_PDP}),u=c.isOpen,h=c.onClose,g=c.onOpen,j=(0,f.Z)((0,i.useState)({productId:null,product:null}),2),N=j[0],_=j[1],w=(0,T.E)({apiMethod:E.z,onSuccess:function(e){var t=e.product;_(function(e){return(0,x.Z)((0,p.Z)({},e),{product:t})}),g()}}),y=w.request,k=w.pending,C=(0,T.E)({apiMethod:Z}).request,P=(0,i.useRef)(null),I=!1;return(0,D.x)(a)?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,d.d)(r,"flex gap-2 overflow-x-auto overflow-y-auto hide-scrollbar bg-neutral-900 p-2"),onMouseDown:function(e){I=!0,t=e.pageX-P.current.offsetLeft,n=P.current.scrollLeft},onMouseLeave:function(e){I=!1},onMouseUp:function(e){I=!1},onMouseMove:function(e){if(I){e.preventDefault(),e.stopPropagation();var s=e.pageX-P.current.offsetLeft;P.current.scrollLeft=n-(s-t)*3}},ref:P,children:a.map(function(e,t){var n=e.productId,i=e.productImage,r=e.productTitle;return(0,s.jsx)(R.z,{loading:k&&n===N.productId,className:"ml-2 lg:ml-0 select-none",onClick:function(){_(function(e){return(0,x.Z)((0,p.Z)({},e),{productId:n})}),y({productId:n}),C({productId:n,postId:l}),(0,m.ah)({productId:n,postId:l,postAuthorId:o,placeIndex:t})},productImage:i,productTitle:r},n)})}),N.product&&(0,s.jsx)(O.J,{onAddToCart:function(e){(0,m.q_)({productId:e,postId:l,postAuthorId:o})},onShowMoreClicked:function(e){(0,m.dE)({productId:e,postId:l,postAuthorId:o})},isOpenModal:u,closeModal:function(){_({product:null,productId:null}),h()},product:N.product,type:M.J.MAGNET_LIVE})]})}var F=n(72610),A=n(7208);function H(e){var t=e.className,n=e.postMedia,r=e.videoTimer,a=e.setVideoTimer,l=e.playerRef,o=e.isPlaying,c=e.mediaUrl,u=(0,f.Z)((0,i.useState)(!1),2),m=u[0],h=u[1],v=(n||{}).postMediaUrl;return(0,s.jsxs)("div",{className:(0,d.d)(t,"relative"),onClick:function(e){e.stopPropagation(),h(function(e){return!e})},children:[(0,s.jsx)(F.g,{className:"absolute inset-0 mx-auto my-auto z-[-1]"}),(0,s.jsx)(A.Y,{url:v||c,height:"100%",width:"100%",ref:l,playing:o,muted:m,loop:!0,onDuration:function(e){a((0,x.Z)((0,p.Z)({},r),{duration:Math.floor(e)}))},onProgress:function(e){var t=e.playedSeconds,n=e.played;o&&a((0,x.Z)((0,p.Z)({},r),{playedSeconds:t,playedPercent:Math.floor(100*n)})),n>=.997&&setTimeout(function(){n>=.997&&l.current.seekTo(0,"seconds")},1e3)}}),m&&(0,s.jsx)(_.J,{color:"white",icon:"speakerMuted",className:"absolute right-0 left-0 top-0 bottom-0 m-auto w-max h-max",size:75})]})}var U=n(34479),V=n.n(U);function J(e){var t=e.className;return(0,s.jsx)("div",{className:(0,d.d)(t,V().VideoModalContentFooterOverlay)})}var W=n(57194),q=n.n(W);function X(e){var t=e.className;return(0,s.jsx)("div",{className:(0,d.d)(t,q().VideoModalContentHeaderOverlay)})}function G(e){var t,n,r,a=e.className,l=e.post,o=e.postReaction,c=e.onCloseVideoModal,u=e.onVideoEnded,_=e.toPreviousPost,w=e.toNextPost,y=e.updateLikeReaction,k=e.updateAuthorFollowedReaction,C=(0,v.R)({modalId:b.f.VIDEO_COMMENTS}),P=C.isOpen,S=C.onOpen,T=C.onClose,M=(0,i.useRef)(null),D=(0,f.Z)((0,i.useState)({duration:0,playedSeconds:0,playedPercent:0}),2),E=D[0],R=D[1],O=(0,i.useRef)(!1);(0,i.useEffect)(function(){if(E.playedPercent>95)O.current&&(O.current=!1);else if(E.playedSeconds>3&&!O.current){var e;(0,m.Qt)({postId:null==l?void 0:l.postId,postAuthorId:null===(e=l.postAuthor)||void 0===e?void 0:e.authorId}),O.current=!0}},[E]),(0,i.useEffect)(function(){O.current=!1},[l]);var B=(0,N.Y)({onSwipedRight:w,onSwipedLeft:_}),Z=B.onTouchStart,F=B.onTouchMove,A=B.onTouchEnd,U=(0,f.Z)((0,i.useState)(!0),2),V=U[0],W=U[1],q=(0,i.useCallback)((0,g.Ds)(function(e){var t,n=e.value;null==M||null===(t=M.current)||void 0===t||t.seekTo(n[0]/100,"fraction")},300),[]);return(0,s.jsxs)("div",{className:(0,d.d)(a,"flex flex-col"),children:[(0,s.jsxs)("div",{className:"w-full h-30 relative flex-1",onTouchStart:Z,onTouchMove:F,onTouchEnd:A,children:[(0,s.jsx)(X,{className:"absolute top-0 left-0 right-0 h-20 z-1"}),(0,s.jsx)(j.A,{className:"absolute top-0 left-0 right-0 z-2 px-5 pt-4",user:(0,x.Z)((0,p.Z)({},{username:(t=(null==l?void 0:l.postAuthor)||{}).authorUsername,photo:t.authorPhoto,isFollowing:t.authorIsFollowing}),{isFollowing:null==o?void 0:o.isAuthorFollowed}),onSuccessFollowed:k,backButtonOnClick:c}),(0,s.jsx)(H,{className:"w-full h-full",postMedia:null==l?void 0:null===(n=l.postMedia)||void 0===n?void 0:n[0],videoTimer:E,setVideoTimer:R,playerRef:M,isPlaying:V,onEnded:u}),(0,s.jsxs)("div",{className:"flex flex-col px-5 absolute bottom-0 right-0 left-0 z-2",children:[(0,s.jsx)(J,{className:"absolute inset-0 z-0"}),(0,s.jsxs)("div",{className:"z-1",children:[(0,s.jsxs)("div",{className:"flex items-end justify-between lg:gap-2 gap-4",children:[(0,s.jsx)(L,{post:l}),(0,s.jsx)(I,{post:l,postReaction:o,isOpenCommentModal:P,onOpenCommentModal:S,onCloseCommentModal:T,onSuccessLike:y})]}),(0,s.jsx)(h.Q,{onChange:q,videoTimer:E,onTouchMove:function(){V&&W(!1)},onTouchEnd:function(){W(!0)}})]})]})]}),(0,s.jsx)(z,{className:"shrink-0 grow-0",postId:null==l?void 0:l.postId,postAuthorId:null==l?void 0:null===(r=l.postAuthor)||void 0===r?void 0:r.authorId,products:null==l?void 0:l.postProducts})]})}var Y={overlay:{zIndex:4,backgroundColor:"rgba(0, 0, 0, 0.8)"}};function $(e){var t=e.post,n=e.postReaction,r=e.isOpen,p=e.onClose,x=e.toNextPost,f=e.toPreviousPost,h=e.hasNextPost,v=e.hasPreviousPost,g=e.onVideoEnded,j=e.updateLikeReaction,b=e.updateAuthorFollowedReaction,N=t||{},_=N.postId,w=N.postAuthor,y=(0,i.useRef)(window.innerHeight);(0,o.N)({condition:r});var k=(0,l.C)().isDesktop;(0,i.useEffect)(function(){r&&(0,m._H)({postId:_,postAuthorId:null==w?void 0:w.authorId})},[r]);var C=function(){(0,m.Yk)({postId:_,postAuthorId:null==w?void 0:w.authorId}),p()};return(0,s.jsxs)(a(),{isOpen:r,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:C,className:(0,d.d)("relative w-fit lg:px-20 mx-auto flex justify-center items-center flex-row"),style:Y,children:[k&&h&&(0,s.jsx)(u.E,{className:"my-auto",onClick:x,direction:"left"}),(0,s.jsx)("div",{className:"grow-0 lg:w-90 w-screen",style:k?{height:y.current>760?"720px":"".concat(.95*y.current,"px")}:{height:"".concat(y.current,"px")},children:(0,s.jsx)(G,{onCloseVideoModal:C,onVideoEnded:g,post:t,postReaction:n,className:"w-full h-full",toNextPost:x,toPreviousPost:f,updateLikeReaction:j,updateAuthorFollowedReaction:b})}),k&&v&&(0,s.jsx)(u.E,{className:"my-auto",onClick:f,direction:"right"}),(0,s.jsx)(c.A,{})]})}},842:function(e,t,n){"use strict";n.d(t,{Q:function(){return d}});var s=n(52322),i=n(34990),r=n(18577),a=n(73076),l=n(90830),o=n.n(l);function d(e){var t=e.onChange,n=e.videoTimer,l=e.onTouchMove,d=e.onTouchEnd,c=e.className,u=n.playedPercent,m=n.playedSeconds,p=(0,r.ox)(m),x=p.hours,f=p.minutes,h=p.seconds,v=0===Math.floor(Number((0,a.d)(x)))?"":"".concat(x,":"),g="".concat(v).concat(f,":").concat(h);return(0,s.jsxs)("div",{className:(0,r.dh)("w-full pt-4 pb-3 flex items-center justify-between gap-1",c),onTouchEnd:function(e){return e.stopPropagation()},children:[(0,s.jsx)(i.U,{direction:"ltr",handleClassName:"!bg-white !h-4 !w-4",activeRangeClassName:"!bg-white",rangeClassName:o().VideoPlayerSeeker__range,pipClassName:"hidden",min:0,max:100,onChange:t,value:[u],onTouchMove:l,onTouchEnd:d}),(0,s.jsx)("p",{className:"text-white text-caption-strong w-12 text-left",children:g})]})}},53729:function(e,t,n){"use strict";n.r(t),n.d(t,{__getServerSideProps:function(){return eh},default:function(){return ev}});var s=n(40171),i=n(70865),r=n(96670),a=n(66383),l=n(52322),o=n(2784),d=n(5632),c=n(17156),u=n(35239),m=n(64177),p=n(55357),x=n(51359),f=n(4818),h=n(79593),v=n(41435),g=n(74740),j=n(14247),b=n(26297),N=n(23945),_=n(81188),w=n(5769),y=n(50030),k=n(15847),C=n(77353),P=n(97228),I=n(64665),S=n(88413),L=n(43202),T=n(42306),M=n(50020),D=n(65765),E=n(97638),R=n(23075),O=n(75185),B=n(60179),Z=n(76372),z={sidebarCPCProduct:null,aboveSideBarFilter:null,belowSideBarFilter:null};function F(){var e,t=(0,a.Z)((0,o.useState)(0),2),n=t[0],s=t[1],d=(0,m.C)().isDesktop,c=(0,p.et)(),u=c.data,x=c.fetchNextPage,f=c.hasNextPage,h=c.items,g=c.pending,j=c.params,F=c.pageNumber,A=c.changeParams,H=c.enableRequest,U=(0,a.Z)((0,o.useState)(z),2),V=U[0],J=U[1],W=(0,a.Z)((0,o.useState)(!1),2),q=W[0],X=W[1],G=(u||{}).widgets,Y=(null==G?void 0:G.filter(function(e){return"vertical_product_listing"!==e.type}))||[],$=null==G?void 0:G.find(function(e){return"vertical_product_listing"===e.type}),Q=(null==$?void 0:$.data)||{},K=Q.providerProducts,ee=Q.searchInstead,et=Q.didYouMeans,en=Q.advertisementSponsoredBrand,es=Q.breadcrumbs,ei=Q.category,er=Q.seoData,ea=(0,C.g)(null==Q?void 0:Q.quickFilters),el=ea.quickFilters,eo=ea.hasQuickFilters,ed=en||{},ec=ed.advertisementBrand,eu=ed.advertisementProducts,em=er||{},ep=em.seoContent,ex=em.seoMarkupSchemas,ef=em.seoFacetUrls,eh=ep||(null==ei?void 0:ei.categoryDescription),ev=(0,Z.M)(ex),eg=K||{},ej=eg.products,eb=eg.banners,eN=eg.shouldResetAds,e_=null==ej?void 0:null===(e=ej.sideBarMenuProducts)||void 0===e?void 0:e[0],ew=eb||{},ey=ew.aboveSideBarFilter,ek=ew.belowSideBarFilter,eC=j||{},eP=eC[L.uR],eI=(eC[L.tn],eC[L.fH],(0,b.Z)(eC,[L.uR,L.tn,L.fH].map(N.Z)));(0,o.useEffect)(function(){J(function(e){return eN?z:{sideBarMenuProduct:(0,M.k)(e_)?e.sideBarMenuProduct:e_,aboveSideBarFilter:(0,M.k)(ey)?e.aboveSideBarFilter:ey,belowSideBarFilter:(0,M.k)(ek)?e.belowSideBarFilter:ek}})},[ey,ek,eN,e_]),(0,o.useLayoutEffect)(function(){var e=function(){X(window.scrollY>0)};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[]);var eS=!(0,v.x)(eu)||!(0,v.x)(ec),eL=null==Q?void 0:Q.filters,eT=null==Q?void 0:Q.sort,eM=null==Q?void 0:Q.pager,eD=null==Q?void 0:Q.textLenzEligibility,eE=!(0,o.useMemo)(function(){return!g&&(0,v.x)(Q)},[g,Q]),eR=(0,o.useMemo)(function(){return(0,v.x)(eL)?null:eE&&(0,T.d)(I.X.AB_TEST_FILTER_NEW_DESIGN)&&!d?(0,l.jsx)(y.x,{sort:(0,r.Z)((0,i.Z)({},eT),{sortActiveOptionId:eP}),pager:eM,pending:g,filters:eL,params:j,changeParams:A,category:ei,isScrolledPage:q,quickFilters:el,quickFilterClassName:"mx-0",textLenzEligibility:eD,onQuickFiltersResize:s}):(0,l.jsx)(w.z,{sort:(0,r.Z)((0,i.Z)({},eT),{sortActiveOptionId:eP}),pager:eM,pending:g,filters:eL,params:eI,changeParams:A,category:ei})},[eE,ei,A,eL,d,q,eI,eM,j,g,eT,eP,eD,el]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"px-5",children:[!d&&(0,l.jsx)(O.u,{title:null==ei?void 0:ei.categoryTitle}),(0,l.jsx)(_.O,{pending:g,CROId:"plp-burger-menu",breadcrumbs:es,className:"py-0 lg:py-5 grow",hasMobilePadding:!1}),d&&(0,l.jsx)(B.u,{category:ei,pending:g}),d&&eS&&(0,l.jsx)(R.y,{advertisement:en,position:S.BE.TOP_FILTER,className:"mb-0 lg:mb-5 lg:mx-0"})]}),(0,l.jsx)("div",{className:"lg:static sticky lg:top-14 bg-neutral-000 z-2 px-5 lg:px-0 top-16",children:eR}),!d&&eo&&(0,l.jsx)("div",{style:{height:n,width:"100%"}}),!d&&eM&&(0,l.jsx)("div",{className:"px-5 lg:px-0",children:(0,l.jsx)(k.L,{totalItems:null==eM?void 0:eM.pagerTotalItems,pending:g})}),(0,l.jsx)("div",{children:Y.map(function(e){return(0,l.jsx)(E.O,{widget:e},e.id||e.type)})}),(0,l.jsx)("div",{className:"px-5 lg:px-0",children:(0,l.jsx)(D.C,{pages:h,params:j,data:Q,hasNextPage:f,fetchNextPage:x,changeParams:A,pageNumber:F,pending:g,didYouMeans:et,searchInstead:ee,stickySlot:V.sideBarMenuProduct,sidebarSlot:V.aboveSideBarFilter,stickyBottomSlot:V.belowSideBarFilter,advertisementProducts:eu,advertisementBrand:ec,advertisementSponsoredBrand:en,hasSearchInstead:ee,enableRequest:H,hideTopFilters:!0,hideMobilePagination:!0})}),(0,l.jsx)(P.R,{description:eh,questions:ev,links:ef,className:"px-5 lg:px-0"})]})}var A=n(47842),H=n(45227),U=n(80932),V=n(66319),J=n(51071),W=n(36690),q=n(60036),X=n(98884),G=n(90917),Y=n(44286),$=n(46932),Q=n(73587),K=n(89048),ee=n(9642),et=n(72394),en=n(1324),es=n(62069),ei=n(12694),er=n(13006),ea=n(56632),el=n(5759),eo=n(90460);function ed(e){var t,n,s,l,o,d,c,u,m,p,x,f,h,g,j,N,_,w,y,k,C,P,I,S,L,T,D,E,R,O,B,Z,z,F,A,H,U,J,W=e||{},en=W.type,es=W.data,ei=(0,b.Z)(W,["type","data"]);return"vertical_product_listing"===en?(u=(c=e||{}).data,m=(0,b.Z)(c,["data"]),x=(p=u||{}).widgets,f=p.search_instead,h=p.search_phase,g=p.result_type,j=p.page_label,N=p.did_you_mean,_=p.related_search_words,w=p.advertisement,y=p.category_brand,k=p.seo,C=p.search_version,P=p.text_lenz_eligibility,I=p.providers_products,S=p.quick_filters,L=p.filters,T=p.pager,D=p.sort,E=p.breadcrumb,R=p.category,O=(0,b.Z)(p,["widgets","search_instead","search_phase","result_type","page_label","did_you_mean","related_search_words","advertisement","category_brand","seo","search_version","text_lenz_eligibility","providers_products","quick_filters","filters","pager","sort","breadcrumb","category"]),Z=(B=I||{}).banners,z=(B.products||{}).sideBarMenu,A=(F=Z||{}).bottomOfSearchPage,H=F.aboveSideBarFilter,U=F.belowSideBarFilter,V.c.setSearchVersion(C),J=Object.entries(L||{}).flatMap(function(e){var t=(0,a.Z)(e,2),n=t[0],s=t[1];return(0,Y.h)({data:(0,i.Z)({key:n},s)})}),(0,r.Z)((0,i.Z)({},m),{data:{providerProducts:{products:{sideBarMenuProducts:null==z?void 0:null===(t=z.map)||void 0===t?void 0:t.call(z,function(e){return(0,Q.r)({data:e})})},banners:{normalBanners:null==A?void 0:null===(n=A.map)||void 0===n?void 0:n.call(A,function(e){return(0,eo.D)({data:e})}),aboveSideBarFilter:null==H?void 0:null===(s=H.map)||void 0===s?void 0:s.call(H,function(e){return(0,eo.D)({data:e})}),belowSideBarFilter:null==U?void 0:null===(l=U.map)||void 0===l?void 0:l.call(U,function(e){return(0,eo.D)({data:e})}),bottomOfSearchPage:null==A?void 0:null===(o=A.map)||void 0===o?void 0:o.call(A,function(e){return(0,eo.D)({data:e})})},shouldResetAds:(0,v.x)(O)&&!(0,M.k)(O)},filters:J,quickFilters:(0,K.B)(S,J),sort:(0,et.G)({data:(0,r.Z)((0,i.Z)({},O),{default:(0,el.h)(D)?D:null==D?void 0:D.default})}),breadcrumbs:null===(d=null==E?void 0:E.slice(0,-1))||void 0===d?void 0:d.map(function(e){return(0,X.W)({data:e})}),pager:(0,r.Z)((0,i.Z)({},(0,$.d)({data:T})),{pagerTotalSlots:T.total_slots}),widgets:(null==x?void 0:x.map(ed))||[],category:(0,G.n)({data:R}),searchInstead:(0,M.k)(f)?{}:{searchInsteadModifiedKeyword:f.searched_query,searchInsteadModifiedUrl:f.force_search_link},searchPhase:h,resultType:g,pageLabel:j,didYouMeans:N,relatedSearchWords:_,advertisementSponsoredBrand:function(e){var t,n=e.data;if((0,M.k)(n))return{};var s=n.brand,i=n.products,r=n.campaign_id,a=n.seller_id;return{advertisementBrand:(0,q.Q)({data:s}),advertisementCampaignId:r,advertisementSellerId:a,advertisementProducts:null==i?void 0:null===(t=i.map)||void 0===t?void 0:t.call(i,function(e){var t,n,s=(0,Q.r)({data:e}),i=((null==s?void 0:s.productProperties)||{}).productPropertiesAd,l=void 0===i?{}:i;return l.sellerId=l.sellerId||a||(null==s?void 0:null===(t=s.productDefaultVariant)||void 0===t?void 0:null===(n=t.productVariantSeller)||void 0===n?void 0:n.sellerId),l.campaignId=l.campaignId||r,s})}}({data:null==w?void 0:w.sponsored_brands}),categoryBrandDescription:null==y?void 0:y.description,seoData:(0,ee.m)({data:k}),searchVersion:C,textLenzEligibility:P}})):"product"===en?(0,r.Z)((0,i.Z)({},ei),{type:en,data:(0,Q.r)({data:es})}):(0,er.l_)(e)}function ec(e){return decodeURIComponent("".concat(e||"")).trim().toLowerCase().replace("category-","")}var eu=(0,en.q)({url:function(e){var t,n,s,i,r,a,l=(t=e.categoryCode,i=(null==(s=null==(n=J.h.getState())?void 0:n[U.e.DICTIONARY])?void 0:s[W.P.CATEGORY_TREE])||{},r=ec(t),(null==(a=Object.values(i).find(function(e){return ec(null==e?void 0:e.categoryCode)===r}))?void 0:a.categoryId)||"");return"/category/".concat(l,"/")},transformer:function(e){var t,n,s=e.data||{},i=s.widgets,r=s.event_data,a=(void 0===i?[]:i).map(ed);return{widgets:a,eventData:(0,er.l_)(r),pager:null===(t=a.find(function(e){return"vertical_product_listing"===e.type}))||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.pager}},isPageGetRequest:!0,inputTransformer:(0,ea.c_)(function(e){e.categoryCode;var t=(0,b.Z)(e,["categoryCode"]),n=(J.h.getState()||{}).user.advergeDeviceId,s=(0,i.Z)((0,A.Z)({},H.Tx.DEVICE_ID,n),t);return(0,ei.s)(s)},es.D),version:2}),em=n(24360),ep=function(e,t,n){return e||h.s||!t?(0,g.m)(j.H.dataProps)?j.H.dataProps({query:n}):j.H.dataProps:{apiMethod:eu,disabled:!1,shouldUseLocation:!0,cancelFirstRequest:!0,onSuccess:function(e){var t,n,s,i,r,a,l=e.params,o=e.response,d=new URL(window.location.href),c=d.searchParams.has("columns_per_page"),u=d.searchParams.has("previous_page_slots_count");(c||u)&&(d.searchParams.delete("columns_per_page"),d.searchParams.delete("previous_page_slots_count"),window.history.replaceState(window.history.state,"",d.toString()));var m=null===(t=null==o?void 0:null===(n=o.widgets)||void 0===n?void 0:n.find(function(e){return(null==e?void 0:e.type)==="vertical_product_listing"}))||void 0===t?void 0:t.data,p=(null===(s=null==m?void 0:null===(i=m.widgets)||void 0===i?void 0:i.filter(function(e){return(null==e?void 0:e.type)==="product"}))||void 0===s?void 0:s.map(function(e){return null==e?void 0:e.data}))||[],f=null==m?void 0:m.pager,h=null==m?void 0:m.relatedSearchWords,g=null==m?void 0:m.searchPhase,j=null==m?void 0:m.searchVersion,b=null==o?void 0:null===(r=o.eventData)||void 0===r?void 0:r.indexes,N=null==m?void 0:null===(a=m.category)||void 0===a?void 0:a.categoryId;(0,v.x)(p)||((0,x.h)({data:{pager:f,products:p,relatedSearchWords:h,searchPhase:g,searchVersion:j,contents:b,categoryId:N},cpcData:{cpcProducts:[],hasMobileSidebar:!1},queryParams:l}),(0,em.e)({params:l,response:{pager:f,products:p,relatedSearchWords:h,searchPhase:g,searchVersion:j,contents:b,categoryId:N},identifier:function(){return{categoryId:N}},cpcData:{cpcProducts:[],hasMobileSidebar:!1}}))}}},ex=function(){return h.s?ep(!0,!1,{}):void 0},ef=(0,f.D)({component:function(e){var t=(0,d.useRouter)().query,n=(0,p.et)().data,s=(0,m.C)().isDesktop,x=(0,c.cC)(u.U.WIDGET_BASED_PLP),f=(0,a.Z)((0,o.useState)(function(){return ep(s,x,t)}),2),v=f[0],g=f[1];return(0,o.useEffect)(function(){g(ep(s,x,t))},[s,x,t]),(0,l.jsx)(p.xi,(0,r.Z)((0,i.Z)({},v),{initialData:(h.s||!x)&&ex()?n:void 0,children:s||h.s||!x?(0,l.jsx)(j.H,(0,i.Z)({},e)):(0,l.jsx)(F,{})}),"".concat(s?"desktop":"mobile","-").concat(JSON.stringify(t)))},getAPIMethods:j.H.getAPIMethods,layoutProps:j.H.layoutProps,dataProps:ex,noDefaultLoader:!0}),eh=(0,s.I)({getSSRMethods:ef.getAPIMethods,queryProps:ef.dataProps}),ev=ef},64997:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(52322),i=n(39879),r=n(79593),a=n(6562);function l(e){var t=e.children,n=e.offset,l=e.runOnce,o=e.hasPlaceHolder,d=e.placeholder,c=e.height,u=e.isPending,m=e.id;return r.s?(0,s.jsx)("div",{id:m,children:t}):u?(0,s.jsx)(a.I,{id:m}):(0,s.jsx)(i.ZP,{height:void 0===c?200:c,once:void 0===l||l,offset:void 0===n?100:n,placeholder:d||(void 0===o||o)&&(0,s.jsx)(a.I,{id:m}),children:(0,s.jsx)("div",{id:m,children:t})})}},6562:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var s=n(52322),i=n(72610),r=n(72677);function a(e){var t=e.className,n=e.id,a=(0,r.d)("py-4 flex items-center justify-center border-complete rounded-small my-4",t);return(0,s.jsx)("div",{className:a,id:n,children:(0,s.jsx)(i.g,{size:36})})}},71338:function(e,t,n){"use strict";n.d(t,{S:function(){return x}});var s=n(52322),i=n(99345),r=n(43847),a=n(1324),l=(0,a.q)({url:"/social/v1/notification-center/announcement/message/",transformer:function(e){var t=e.data||{};return{title:t.title,description:t.description,icon:t.icon,color:t.color,emphasis:t.emphasis,size:t.size}},inputTransformer:function(e){return{cityId:e.cityId,stateId:e.stateId,clientPage:e.clientPage}},baseURL:function(){return r.V.GATEWAY_API_BASE_URL}}),o=n(72873),d=n(87049),c=n(83050),u=n(6013),m=n(41435),p=(0,a.q)({url:"/magnet/notification-center/announcement/message/",transformer:function(e){var t=e.data||{};return{title:t.title,description:t.description,icon:t.icon,color:t.color,emphasis:t.emphasis,size:t.size}},inputTransformer:function(e){return{cityId:e.cityId,stateId:e.stateId,clientPage:e.clientPage}}});function x(e){var t=e.className,n=e.clientPage,r=e.gateway,a=(0,d.v)(u.p.isLoggedIn),x=(0,d.v)(u.p.userCity),f=(0,d.v)(u.p.userState),h=(0,d.v)(c.E.userDefaultCity),v=a?null==x?void 0:x.cityId:null==h?void 0:h.cityId,g=a?null==f?void 0:f.stateId:null==h?void 0:h.cityStateId,j=(0,o.V)({apiMethod:r?l:p,apiData:{cityId:v,stateId:g,clientPage:n},dependencies:[v,g,n],disabled:!n}),b=j.data,N=j.pending,_=j.hasError;if(N||!v||!g||_||(0,m.x)(b)||!(null==b?void 0:b.description))return null;var w=b||{},y=w.title,k=w.description,C=w.icon,P=w.color,I=w.emphasis,S=w.size;return(0,s.jsx)("div",{className:t,children:(0,s.jsx)(i.kW,{color:P||"warning",emphasis:I||"tonal",size:S||"xl",title:y,description:k,rightIcon:C})})}},97721:function(e,t,n){"use strict";n.d(t,{B:function(){return m}});var s=n(66383),i=n(52322),r=n(5632),a=n.n(r),l=n(3005),o=n(1964),d=n(72677),c=n(3336),u={timerText:"text-subtitle-strong text-white w-1",timerSubText:"text-caption text-neutral-500",timerItem:"flex flex-col items-center justify-center bg-white w-[26px] h-[26px] rounded-sm",timer:"flex justify-center items-center text-subtitle-strong text-neutral-800 text-center w-[20px] h-[20px]",container:"flex gap-[2px] items-center right-0 h-6"};function m(e){var t=e.time,n=e.className,r=(0,l.J)(o.k.getCurrentDateTime().getTime()+t,{},a().reload),m=r&&(0,c.H)(r)&&r.split(":")||[],p=(0,s.Z)(m||[],3),x=p[0],f=p[1],h=p[2];return(0,i.jsxs)("div",{className:(0,d.d)(u.container,n),children:[(0,i.jsx)("div",{className:u.timerItem,children:(0,i.jsx)("div",{className:u.timer,children:x})}),(0,i.jsx)("div",{className:u.timerText,children:":"}),(0,i.jsx)("div",{className:u.timerItem,children:(0,i.jsx)("div",{className:u.timer,children:f})}),(0,i.jsx)("div",{className:u.timerText,children:":"}),(0,i.jsx)("div",{className:u.timerItem,children:(0,i.jsx)("div",{className:u.timer,children:h})})]})}},65765:function(e,t,n){"use strict";n.d(t,{C:function(){return X}});var s=n(47842),i=n(70865),r=n(96670),a=n(26297),l=n(66383),o=n(23945),d=n(52322),c=n(2784),u=n(5632),m=n(57931),p=n(1958),x=n(27174),f=n(73092),h=n(90713),v=n(94301),g=n(5769),j=n(38416),b=n(46621),N=n.n(b),_=n(50030),w=n(15847),y=n(96057),k=n(45227),C=n(64665),P=n(88413),I=n(93008),S=n(43202),L=n(26442),T=n(16991),M=n(64177),D=n(51275),E=n(42306),R=n(9406),O=n(22848),B=n(72762),Z=n(41435),z=n(72677),F=n(50020),A=n(5759),H=n(97638),U=n(16332),V=n(23075),J=n(59641),W={},q={};function X(e){var t,n=e.fetchNextPage,b=e.data,X=e.hasNextPage,G=e.params,Y=e.changeParams,$=e.pageNumber,Q=e.pending,K=e.pages,ee=e.stickySlot,et=e.sidebarSlot,en=e.stickyBottomSlot,es=e.didYouMeans,ei=e.pendingAutoComplete,er=e.handelDisplayResult,ea=e.categoryResultSearch,el=e.hasSearchInstead,eo=e.advertisementProducts,ed=e.advertisementBrand,ec=e.advertisementSponsoredBrand,eu=e.enableRequest,em=e.hideTopFilters,ep=e.hideMobilePagination,ex=b||W,ef=ex.sort,eh=ex.pager,ev=ex.filters,eg=ex.category,ej=ex.textLenzEligibility,eb=G||W,eN=eb[S.uR],e_=eb[S.tn],ew=(eb[S.fH],(0,a.Z)(eb,[S.uR,S.tn,S.fH].map(o.Z))),ey=(0,M.C)().isDesktop,ek=(0,R.e)(),eC=(0,A.h)(e_);(0,c.useEffect)(function(){eC&&G.previous_page_slots_count&&!Q&&Y(function(e){return e.previous_page_slots_count,(0,a.Z)(e,["previous_page_slots_count"])})},[eC,Q,Y,G.previous_page_slots_count]);var eP=(0,D.pL)()||{},eI=eP.cartPayablePrice,eS=eP.cartPrice,eL=(0,c.useRef)(),eT=(0,J.a)({term:"search/ai"});(0,c.useLayoutEffect)(function(){if((0,E.d)(C.X.LITE_PLP_PRESERVE_SCROLL)){var e=q[window.location.href];if("number"==typeof e){var t=function(){window.scrollTo(0,e),u.Router.events.off("routeChangeComplete",t)};return u.Router.events.on("routeChangeComplete",t),function(){u.Router.events.off("routeChangeComplete",t)}}}},[]),(0,c.useEffect)(function(){if((0,E.d)(C.X.LITE_PLP_PRESERVE_SCROLL)){var e=function(){q[window.location.href]=window.scrollY};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}},[]);var eM=(0,c.useMemo)(function(){return!ey||!Q&&(0,Z.x)(ev)||ek},[ey,Q,ev,ek]),eD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withSidebar,n=void 0!==t&&t,s=(0,M.C)(),i=s.windowWidth,r=s.isDesktop;return{columns:(0,c.useMemo)(function(){return n?i>=T.j.XL4?5:i>=T.j.XL3?4:i>=T.j.XL?3:i>=T.j.LG||i>=T.j.SM?2:1:i>=T.j.XL4?6:i>=T.j.XL?5:i>=T.j.LG?3:i>=T.j.SM?2:1},[i,n]),windowWidth:i,isDesktop:r}}({withSidebar:!0}),eE=eD.columns,eR=eD.windowWidth,eO=(0,c.useRef)(eE);(0,c.useEffect)(function(){Y&&0!==eR&&(eO.current!==eE||!G.columns_per_page||G.columns_per_page!==eE.toString())&&(eO.current=eE,Y(function(e){var t=e||G,n=(t.previous_page_slots_count,(0,a.Z)(t,["previous_page_slots_count"]));return(0,r.Z)((0,i.Z)({},n),{columns_per_page:eE,q:(null==G?void 0:G.q)||(null==e?void 0:e.q)})})),G.columns_per_page&&(null==eu||eu())},[eE,Y,eR,G.columns_per_page,eu]);var eB=$>=I.yo||eC,eZ=(0,c.useMemo)(function(){if(Array.isArray(K))return($>I.yo||eC?[[$.toString(),K[$-1]]]:K.map(function(e,t){return[(t+1).toString(),e]})).filter(function(e){var t=(0,l.Z)(e,2)[1];return!(0,F.k)(t)&&!(0,Z.x)(t)});var e,t=Object.entries(K||{});return($>I.yo||eC?[[$.toString(),null===(e=t.find(function(e){return(0,l.Z)(e,1)[0]===$.toString()}))||void 0===e?void 0:e[1]]]:t).filter(function(e){var t=(0,l.Z)(e,2)[1];return!(0,F.k)(t)&&!(0,Z.x)(t)})},[K,$,eC]),ez=(0,c.useMemo)(function(){var e;return!Q&&!!eh&&(null!==(e=null==eh?void 0:eh.pagerTotalItems)&&void 0!==e?e:0)===0},[Q,eh]),eF=!(0,c.useMemo)(function(){return!Q&&(0,Z.x)(b)},[Q,b]);(0,c.useEffect)(function(){return document.body.classList.add("overscroll-y-none"),function(){document.body.classList.remove("overscroll-y-none")}},[]);var eA=(0,l.Z)((0,c.useState)(!1),2),eH=eA[0],eU=eA[1];(0,c.useLayoutEffect)(function(){var e=function(){eL.current&&eU(eL.current.getBoundingClientRect().top<0)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[eL]);var eV=(0,c.useMemo)(function(){return(0,Z.x)(ev)?null:eF&&(0,E.d)(C.X.AB_TEST_FILTER_NEW_DESIGN)&&!ey?(0,d.jsx)(_.x,{sort:(0,r.Z)((0,i.Z)({},ef),{sortActiveOptionId:eN}),pager:eh,pending:Q,filters:ev,params:G,changeParams:Y,category:eg,isScrolledPage:eH,textLenzEligibility:ej}):(0,d.jsx)(g.z,{sort:(0,r.Z)((0,i.Z)({},ef),{sortActiveOptionId:eN}),pager:eh,pending:Q,filters:ev,params:ew,changeParams:Y,category:eg})},[eF,eg,Y,ev,ey,eH,ew,eh,G,Q,ef,eN,ej]);return(0,d.jsxs)("div",{id:"ProductListPagesWrapper",className:(0,z.d)("relative w-full flex flex-col lg:flex-row items-center lg:items-stretch justify-between",N().ProductList__wrapper),ref:eL,children:[(0,d.jsxs)("section",{className:"w-full grow relative",children:[!(void 0!==em&&em)&&(0,d.jsx)("div",{className:"lg:static sticky lg:top-14 bg-neutral-000 z-2 top-16",children:eV}),!ey&&(0,Z.x)(el)&&ea&&!(0,O.J)()&&!eT&&!(0,Z.x)(ev)&&(0,d.jsx)(x.m,{handelDisplayResult:er,categories:ea,pending:ei}),!ey&&(!(0,Z.x)(eo)||!(0,Z.x)(ed))&&!eT&&(0,d.jsx)(V.y,{advertisement:ec,position:P.BE.TOP_FILTER,className:(0,z.d)("mb-0 lg:mb-5 -mx-5 lg:mx-0",{"border-complete-t-200":(0,Z.x)(el)&&ea})}),!ey&&eh&&!(void 0!==ep&&ep)&&(0,d.jsx)(w.L,{totalItems:null==eh?void 0:eh.pagerTotalItems,pending:Q}),(0,d.jsxs)("div",{className:(0,z.d)(N().ProductList__pagesContainer,(t={},(0,s.Z)(t,N()["ProductList__pagesContainer--withSidebar"],!eM||ek),(0,s.Z)(t,N()["ProductList__pagesContainer--withoutSidebar"],eM||!ek),t)),children:[ez?(0,d.jsx)("div",{className:N().ProductList__emptyWrapper,children:(0,d.jsx)(f.T,{})}):eZ.map(function(e){var t=(0,l.Z)(e,2),n=t[0],s=t[1].widgets.find(function(e){return"vertical_product_listing"===e.type}),i=((null==s?void 0:s.data)||{}).widgets;return(0,d.jsx)(c.Fragment,{children:(void 0===i?[]:i).map(function(e,t){var s=e.id||"".concat(n,"-").concat(t);return"product"===e.type?(0,d.jsx)(H.O,{widget:e},s):(0,d.jsx)("div",{className:(0,z.d)("overflow-auto ",{"-mx-5 mb-4":"product"!==e.type&&!ey},N().NonProductWidgetWrapper),style:e.size?{gridColumn:"auto / span ".concat(e.size)}:{},children:(0,d.jsx)(H.O,{widget:e})},s)})},n)}),(0,d.jsx)(j.N,{fetchNextPage:function(){!eC&&$<=I.yo&&(e=null==eh?void 0:eh.pagerTotalSlots);var e,t=new URLSearchParams(window.location.search);t.set(k.Tx.PREVIOUS_PAGE_SLOTS_COUNT,e.toString()),t.set(k.Tx.COLUMNS_PER_PAGE,G.columns_per_page.toString()),window.history.replaceState(window.history.state,"","".concat(window.location.pathname,"?").concat(t.toString())),n()},hasNextPage:X,pager:eh,pageNumber:$,pending:Q,showSkeleton:(0,Z.x)(eZ),shouldShowClassicPagination:eB,changeParams:Y})]})]}),!eM&&(0,d.jsxs)("section",{className:(0,z.d)("flex flex-col",N().ProductList__sidebar),children:[(0,d.jsx)(h.I,{className:"mb-4",options:es}),!(0,F.k)(et)&&(0,d.jsx)(U.N,{banner:et,position:P.BE.TOP_FILTER,className:"mb-4"}),(0,d.jsxs)(p.L,{enabled:!0,bottomBoundary:"#ProductListPagesWrapper",children:[!(0,F.k)(ee)&&(0,d.jsx)(y.b,(0,i.Z)({className:"border-complete-200 rounded mb-4",type:I.nL.CPC,enableBigDataTrackerAdClickEvent:!0,enableBigDataTrackerAdViewEvent:!0},ee)),ey&&(0,d.jsx)(v.T,{filters:ev,params:ew,changeParams:Y,pending:Q,category:eg}),(0,d.jsx)("div",{className:"py-3"}),!(0,F.k)(en)&&(0,d.jsx)(U.N,{banner:en,position:P.BE.BOTTOM_FILTER,className:"mb-4"})]})]}),(0,R.e)()&&ey&&(0,d.jsx)("section",{className:(0,z.d)("flex flex-col mt-16",N().ProductList__coupon),children:(0,d.jsx)(p.L,{enabled:!0,bottomBoundary:"#ProductListPagesWrapper",children:(0,d.jsxs)("div",{className:(0,z.d)("border-complete border-neutral-300 p-4 rounded-lg background-white"),children:[(0,d.jsx)("div",{className:"text-neutral-500 text-lg",children:"شما در اینجا جمع هزینه‌ی کالا‌های کالابرگی را بدون احتساب تخفیف کالابرگ مشاهده می‌کنید"}),(0,d.jsx)("div",{className:"border-complete-b border-b-neutral-500 h-1 my-4"}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"flex w-full",children:[(0,d.jsx)("span",{children:"جمع مبلغ سبد کالابرگی"}),(0,d.jsxs)("div",{className:"mr-auto",children:[(0,d.jsxs)("span",{className:"bold",children:[(0,B.j)(eS)," "]}),(0,d.jsx)("span",{className:"font-bold",children:"تومان"})]})]}),(0,d.jsx)(m.z,{className:"mt-4 w-full",disabled:!eI,to:(0,L.qR)(),children:"تایید و تکمیل سفارش"})]})]})})})]})}},97638:function(e,t,n){"use strict";n.d(t,{O:function(){return tM}});var s=n(70865),i=n(96670),r=n(52322),a=n(64997),l=n(72873),o=n(41435),d=n(43847),c=n(1324),u=n(13006),m=(0,c.q)({url:function(e){return e.endpoint},transformer:function(e){var t=e.data;return(0,u.l_)(t)},baseURL:function(){return d.V.API_BASE_URL.replace("/v1","")}});function p(e){var t=e.widget,n=e.Component,i=t.url,a=(0,l.V)({apiData:{endpoint:i},apiMethod:m,disabled:!n}),d=a.data,c=a.pending,u=a.hasError;return c?n.getPlaceholder?n.getPlaceholder():null:u||(0,o.x)(d)||(0,o.x)(d.data)?null:(0,r.jsx)(n,(0,s.Z)({},d),t.type)}var x=n(26442),f=n(64177),h=n(72677),v=n(72610);function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100px";return function(){return(0,r.jsx)("div",{className:"flex items-center justify-center",style:{height:"number"==typeof e?"".concat(e,"px"):e},children:(0,r.jsx)(v.g,{size:32})})}}var j=n(98780),b=n(31909),N=n(98723),_=n(23154),w=n(50069),y=n.n(w);function k(e){var t=e.brand,n=e.isFullScreen,s=void 0!==n&&n,i=e.isDesktop,a=e.onBrandClick,l=e.isInCarouselMode;return(0,r.jsxs)("div",{className:"w-full flex justify-between items-center gap-2",children:[(0,r.jsxs)(N.r,{to:t.url.uri||"/",onClick:function(e){e.stopPropagation(),null==a||a()},shouldHandleUrlAndOnClick:!0,className:(0,h.d)("flex gap-2.5 justify-center items-center bg-app-background-dark rounded-full p-0.5 pl-1.5",{"bg-transparent border-solid border-[1px] border-[#FFFFFF33]":s}),children:[(0,r.jsx)("div",{className:(0,h.d)("flex overflow-hidden rounded-full border-solid border-[1px] border-neutral-200",{"bg-white":s,"p-1.5 bg-white":!t.logo.url[0]}),children:t.logo.url[0]?(0,r.jsx)(b.E,{src:t.logo.url[0],alt:t.titleFa||"",width:i?40:28,height:i?40:28,className:y().productCard__blendBackground}):(0,r.jsx)(j.J,{size:i?20:16,icon:"seller"})}),(0,r.jsxs)("div",{className:"flex justify-center items-center gap-1",children:[(0,r.jsx)("span",{className:(0,h.d)("lg:text-h5-180 text-body1-strong ellipsis-1 mt-[1px]",{"text-neutral-850":!s,"text-app-background-mid-dark":s}),children:t.titleFa||""}),(0,r.jsx)(j.J,{icon:"cube-nav-chevron-left",color:s?"white":"black",size:i?24:20})]})]}),(0,r.jsxs)("div",{className:(0,h.d)("gap-1.5 justify-center items-center",{"sm:flex hidden":!l,flex:l}),children:[(0,r.jsx)(j.J,{icon:"ads",size:i?20:16,color:(0,_.$)("color-ad")}),(0,r.jsx)("span",{className:"inline text-caption-180 lg:text-body-2 text-neutral-500",children:"سفارشی"})]})]})}var C=n(2784),P=n(72762),I=n(52216),S=n(76778),L=(0,C.forwardRef)(function(e,t){var n,s,i,a,l=e.product,o=e.isFullScreen,d=void 0!==o&&o,c=e.onClick,u=(0,f.C)().isDesktop;return(0,r.jsxs)("div",{ref:t,onClick:c,className:(0,h.d)("w-full flex items-start gap-2.5 bg-white rounded-md overflow-hidden",{"p-2":d,"cursor-pointer":!!c}),children:[(0,r.jsx)("div",{className:(0,h.d)("flex flex-col justify-center items-center gap-2.5 lg:rounded-md",y().productCard__image),children:(0,r.jsx)(b.E,{src:(null===(n=l.image)||void 0===n?void 0:n.url)||"",alt:l.title||"",className:(0,h.d)("w-[110px] h-[110px] sm:w-[80px] sm:h-[80px] lg:w-[163px] lg:h-[163px]",y().productCard__blendBackground)})}),(0,r.jsxs)("div",{className:"w-full h-full flex flex-col justify-start items-start gap-2",children:[(0,r.jsx)("div",{className:"sm:hidden flex",children:(0,r.jsx)(k,{brand:l.brand,isDesktop:u})}),(0,r.jsxs)("div",{className:"flex flex-col items-start gap-1.5",children:[(0,r.jsxs)("div",{className:"ellipsis-2 lg:ellipsis-3 relative w-full",children:[(0,r.jsxs)("div",{className:"absolute right-0 top-0.5 flex justify-center items-center gap-1",children:[(0,r.jsx)("div",{className:(0,h.d)("w-4 h-4",{"inline-block sm:hidden":!d,hidden:d}),children:(0,r.jsx)(j.J,{icon:"ads",size:16,color:(0,_.$)("color-ad")})}),(0,r.jsx)("span",{className:(0,h.d)("inline text-caption text-neutral-500",{"sm:hidden":!d,hidden:d}),children:"سفارشی ."})]}),(0,r.jsx)("span",{className:"text-body1-strong-180 lg:text-h5 block sm:!indent-0 text-neutral-650 indent-14 s:indent-16",children:l.title||""})]}),l.rating&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(b.E,{className:"mb-0.5",height:16,width:16,src:"/statics/img/svg/pdp/star.svg",alt:"امتیاز"}),(0,r.jsx)("p",{className:"mr-1 text-body1-strong-compact text-icon-high-emphasis",children:(0,I.U)((0,S.OC)(l.rating.rate))})]})]}),(0,r.jsxs)("div",{className:"w-full flex justify-end items-center gap-1 mt-auto",children:[(null===(s=l.price)||void 0===s?void 0:s.discountPercent)>0&&(0,r.jsx)("div",{className:"flex justify-end items-center gap-1",children:(0,r.jsxs)("span",{className:"inline-block !h-4 px-1.5 pt-0.5 bg-hint-object-error rounded-full text-white text-body1-strong-compact flex justify-center items-center gap-0.5",children:["٪ ",(0,I.U)((null===(i=l.price)||void 0===i?void 0:i.discountPercent)||0)]})}),(0,r.jsxs)("div",{className:"flex gap-1 item-center justify-end text-h3-bold-compact",children:[(0,P.j)((null===(a=l.price)||void 0===a?void 0:a.sellingPrice)||0),(0,r.jsx)(j.J,{className:"flex justify-center items-center",icon:"cube-value-toman",size:16})]})]})]})]})}),T=n(50930),M=n(97411);function D(e){var t=e.products,n=e.isDesktop,s=e.allProductsLink,i=e.onProductClick,a=e.onSeeMoreClick,l=e.useProductViewTracking;return(0,r.jsx)("div",{className:"w-full overflow-auto hide-scrollbar",children:(0,r.jsx)(M.l,{sliderProps:{spaceBetween:1},items:[(0,r.jsx)("div",{className:"pr-0.5 h-1 bg-white"},"spacer-start")].concat((0,T.Z)(t.slice(0,8).map(function(e,t){var s,a,o,d;return(0,r.jsxs)("div",{ref:null==l?void 0:l(e.id,t),onClick:function(n){n.preventDefault(),n.stopPropagation(),null==i||i(e.id,t),setTimeout(function(){window&&window.open((0,x.H1)({productId:e.id}),"_blank")},0)},className:(0,h.d)("flex lg:flex-col gap-1.5 lg:gap-3 rounded-md lg:rounded-none bg-white","sm:w-[301px] sm:min-w-[301px] lg:w-[200px] lg:min-w-[200px] overflow-visible","border-[1px] border-neutral-200 lg:border-complete cursor-pointer"),style:{borderStyle:n?"none none none solid":"solid"},children:[(0,r.jsx)("div",{className:(0,h.d)("lg:bg-white lg:flex lg:w-full lg:justify-center",y().productCard__carouselImage),children:(0,r.jsx)(b.E,{src:(null===(s=e.image)||void 0===s?void 0:s.url)||"",alt:e.title||"",className:(0,h.d)("w-[82px] h-[82px] sm:w-[96px] sm:h-[96px] lg:w-[131px] lg:h-[131px]",y().productCard__blendBackground)})}),(0,r.jsxs)("div",{className:"flex flex-col justify-between items-center gap-1.5 lg:gap-1 pl-2 py-1.5 lg:px-3",children:[(0,r.jsx)("div",{className:"ellipsis-2 lg:ellipsis-3 w-full text-right",children:(0,r.jsx)("span",{className:"inline text-body-2-180 lg:text-caption text-icon-high-emphasis",children:e.title||""})}),(0,r.jsxs)("div",{className:"w-full flex justify-end items-center gap-1 h-5 min-w-[130px]",children:[(null===(a=e.price)||void 0===a?void 0:a.discountPercent)>0&&(0,r.jsx)("div",{className:"flex justify-end items-center gap-1",children:(0,r.jsxs)("span",{className:"!h-4 px-1.5 pt-0.5 bg-hint-object-error rounded-full text-white text-body1-strong-compact flex justify-center items-center gap-0.5 whitespace-nowrap",children:["٪ ",(0,I.U)((null===(o=e.price)||void 0===o?void 0:o.discountPercent)||0)]})}),(0,r.jsxs)("div",{className:"flex gap-1 item-center justify-end text-h5-180 text-neutral-650",children:[(0,P.j)((null===(d=e.price)||void 0===d?void 0:d.sellingPrice)||0),(0,r.jsx)(j.J,{className:"flex justify-center items-center",icon:"cube-value-toman",size:16})]})]})]})]},"product-".concat(e.id||t))})),[t.length>8&&(0,r.jsxs)(N.r,{to:void 0===s?"/":s,shouldHandleUrlAndOnClick:!0,className:"flex flex-col items-center justify-center px-3 lg:px-5 py-1 h-[84px] lg:h-full text-n-800",onClick:function(e){null==a||a()},children:[(0,r.jsx)("div",{className:"p-0.5 border-solid border-[1px] border-neutral-650 rounded-circle",children:(0,r.jsx)(j.J,{icon:"arrowLeft",size:32,color:(0,_.$)("color-neutral-650")})}),(0,r.jsx)("span",{className:"whitespace-nowrap mt-2 text-caption-strong-compact text-neutral-650",children:"مشاهده فروشنده"})]},"see-more"),(0,r.jsx)("div",{className:"pr-0.5 h-1"},"spacer-end")]),navigationButtonSize:"small",hasNavigationButtonsShadow:!0,className:"gap-2.5 lg:gap-0 items-stretch"})})}function E(e){var t=e.products,n=e.isFullScreen,s=void 0!==n&&n,i=e.isDesktop,a=e.onProductClick,l=e.onBrandClick,o=e.onSeeMoreClick,d=e.useProductViewTracking;return t.length?1===t.length?(0,r.jsxs)("div",{className:(0,h.d)("flex sm:flex-col sm:gap-2 lg:gap-5 items-start px-4 pt-3 pb-2 lg:p-0",{"flex-col gap-2":s}),children:[(0,r.jsx)("div",{className:(0,h.d)("w-full",{"hidden sm:flex":!s,flex:s}),children:(0,r.jsx)(k,{brand:t[0].brand,isFullScreen:s,isDesktop:i,onBrandClick:l,isInCarouselMode:!1})}),(0,r.jsx)(L,{product:t[0],isFullScreen:s,ref:null==d?void 0:d(t[0].id,0),onClick:function(){return null==a?void 0:a(t[0].id,0)}})]}):(0,r.jsxs)("div",{className:"flex flex-col gap-2.5 lg:gap-5 items-start pt-3 pb-4 lg:p-0",children:[(0,r.jsx)("div",{className:"flex w-full justify-between items-center gap-2 px-3 lg:px-0",children:t[0]&&(0,r.jsx)(k,{brand:t[0].brand,isInCarouselMode:!0,isFullScreen:s,isDesktop:i,onBrandClick:l})}),(0,r.jsx)(D,{products:t,isDesktop:i,allProductsLink:(0,x.H1)({productId:t[0].id}),onProductClick:a,onSeeMoreClick:o,useProductViewTracking:d})]}):null}var R=n(57931),O=n(7208),B=(0,C.forwardRef)(function(e,t){var n=e.video,s=e.isFullScreen,i=e.isPlaying,a=e.isMute,l=e.showControls,o=e.currentTime,d=e.duration,c=e.progressPercentage,u=e.onProgress,m=e.onDuration,p=e.onPlay,x=e.onPause,f=e.onReady,g=e.onMouseEnter,b=e.onMouseLeave,N=e.togglePlayPause,w=e.toggleMute,k=(e.goFullScreen,e.leaveFullScreen),C=e.handleProgressChange,P=e.formatTime,S=e.videoPosterRef,L=e.videoRef;return(0,r.jsx)("div",{ref:t,className:(0,h.d)("transition-all lg:w-1/2 lg:rounded-md lg:overflow-hidden",{"fixed top-0 left-0 w-screen h-screen z-[999] bg-black flex justify-center items-center":s}),children:(0,r.jsxs)("div",{className:"aspect-[16/9] lg:aspect-[unset] w-full relative flex justify-center items-center h-full",onMouseEnter:g,onMouseLeave:b,children:[(0,r.jsx)(O.Y,{ref:L,url:(null==n?void 0:n.contentUrl)||(null==n?void 0:n.contentUrlMp4)||"",poster:(null==n?void 0:n.thumbnailUrl)||"",className:"relative object-cover object-center",width:"100%",height:"100%",loop:!0,playsinline:!0,muted:a,playing:i,onProgress:u,onDuration:m,onPlay:p,onPause:x,onReady:f}),(0,r.jsx)("div",{ref:S,className:(0,h.d)("absolute top-0 left-0 w-full h-full z-2 flex justify-center items-center",y().blurOverlay),children:(0,r.jsx)(v.g,{color:"white"})}),!s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.z,{removePadding:!0,mode:"text",onClick:N,className:"p-3 rounded-full !absolute right-0 top-0",children:(0,r.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButton),children:(0,r.jsx)(j.J,{size:20,color:(0,_.$)("color-app-background-mid-dark"),icon:i?"cube-media-pause":"cube-media-play"})})}),(0,r.jsx)(R.z,{removePadding:!0,mode:"text",onClick:w,className:"p-3 rounded-full !absolute right-0 bottom-0",children:(0,r.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButton),children:(0,r.jsx)(j.J,{size:20,color:(0,_.$)("color-app-background-mid-dark"),icon:a?"cube-device-speaker-off":"cube-device-speaker"})})})]}),s&&(0,r.jsxs)("div",{className:(0,h.d)("absolute bottom-[20px] left-0 w-full bg-gradient-to-t from-black/80 to-transparent transition-opacity duration-300",{"opacity-100":s,"opacity-0":!l&&!s}),onMouseEnter:g,onMouseLeave:b,children:[(0,r.jsx)("div",{className:"px-4",children:(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{type:"range",min:"0",max:"100",value:c,onChange:C,className:(0,h.d)("w-full h-1 bg-white/30 rounded-lg appearance-none cursor-pointer ltr",y().slider,y().progressBar),style:{"--progress-percentage":"".concat(c,"%")}})})}),(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 pb-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(R.z,{removePadding:!0,mode:"text",onClick:k,className:"p-2 rounded-full",children:(0,r.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButtonTransparent),children:(0,r.jsx)(j.J,{size:20,color:"white",icon:"cube-action-fullscreen1"})})}),(0,r.jsx)(R.z,{removePadding:!0,mode:"text",onClick:w,className:"p-2 rounded-full",children:(0,r.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButtonTransparent),children:(0,r.jsx)(j.J,{size:20,color:"white",icon:a?"cube-device-speaker-off":"cube-device-speaker"})})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 text-white text-h5-regular",children:[(0,r.jsx)("span",{children:(0,I.U)(P(o))}),(0,r.jsx)("span",{children:"/"}),(0,r.jsx)("span",{children:(0,I.U)(P(d))})]}),(0,r.jsx)(R.z,{removePadding:!0,mode:"text",onClick:N,className:"p-2 rounded-full",children:(0,r.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButtonTransparent),children:(0,r.jsx)(j.J,{size:20,color:"white",icon:i?"cube-media-pause":"cube-media-play"})})})]})]})]})]})})}),Z=n(66383),z=n(12289),F=n(8155),A=n(15585);function H(e){var t,n,s,i,a,l,o,d,c,u,m,p,v,g,j,b,N,_,w=e.data,y=w||{},k=y.products,P=void 0===k?[]:k,I=y.video,S=(0,f.C)().isDesktop,L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoPlayOnVisible,n=void 0===t||t,s=(0,C.useRef)(null),i=(0,C.useRef)(null),r=(0,Z.Z)((0,C.useState)(!0),2),a=r[0],l=r[1],o=(0,Z.Z)((0,C.useState)(!1),2),d=o[0],c=o[1],u=(0,Z.Z)((0,C.useState)(!1),2),m=u[0],p=u[1],x=(0,Z.Z)((0,C.useState)(0),2),f=x[0],h=x[1],v=(0,Z.Z)((0,C.useState)(0),2),g=v[0],j=v[1],b=(0,Z.Z)((0,C.useState)(!1),2),N=b[0],_=b[1],w=(0,Z.Z)((0,z.R)({threshold:.5,rootMargin:"0px"}),2),y=w[0],k=w[1];(0,A.N)({condition:m}),(0,C.useEffect)(function(){!m&&n&&(k?(l(!0),c(!0)):c(!1))},[k,m,n]);var P=function(){l(!1)},I=function(){l(!0)};return{state:{isMute:a,isPlaying:d,isFullScreen:m,currentTime:f,duration:g,showControls:N,progressPercentage:g>0?f/g*100:0},refs:{videoRef:s,videoPosterRef:i,containerRef:y},handlers:{handleProgress:function(e){h(e.playedSeconds)},handleDuration:function(e){j(e)},handlePlay:function(){c(!0)},handlePause:function(){c(!1)},removePoster:function(){var e;null===(e=i.current)||void 0===e||e.remove()},toggleMute:function(){l(!a)},unMute:P,mute:I,togglePlayPause:function(){c(!d)},goFullScreen:function(){p(!0),P()},leaveFullScreen:function(){p(!1),d||(c(!0),I())},handleProgressChange:function(e){var t=s.current;if(t&&g>0){var n=parseFloat(e.target.value)/100*g;t.seekTo(n,"seconds"),h(n)}},handleMouseEnter:function(){return _(!0)},handleMouseLeave:function(){return _(!1)}},formatters:{formatTime:function(e){return"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0"))}},isInViewport:k}}({autoPlayOnVisible:!0}),T=L.state,M=L.refs,D=L.handlers,R=L.formatters,O=(i=(s=w||{}).adsId,a=s.campaignId,o=void 0===(l=s.products)?[]:l,d=(0,C.useRef)(!1),c=(0,C.useRef)(!1),u=(0,C.useRef)(new Set),m=(0,C.useRef)(new Set),p=null===(t=o[0])||void 0===t?void 0:null===(n=t.brand)||void 0===n?void 0:n.id,v=void 0,j=(g=(0,Z.Z)((0,z.R)({threshold:.5,rootMargin:"0px"}),2))[0],g[1],N=(b=(0,Z.Z)((0,z.R)({threshold:.5,rootMargin:"0px"}),2))[0],_=b[1],(0,C.useEffect)(function(){_&&!c.current&&i&&a&&((0,F.e7)({adsId:i,campaignId:a,productIds:o.map(function(e){return e.id}),brandId:p,sellerId:v}),c.current=!0)},[_,i,a,o,p,v]),{videoContainerRef:j,widgetContainerRef:N,useProductViewTracking:function(e,t){var n=(0,Z.Z)((0,z.R)({threshold:.5,rootMargin:"0px"}),2),s=n[0],r=n[1];return(0,C.useEffect)(function(){r&&!u.current.has(e)&&i&&a&&((0,F.ZF)({adsId:i,campaignId:a,productId:e,brandId:p,sellerId:v,index:t>=0?t+1:void 0}),u.current.add(e))},[r,e,t,i,a,p,v]),s},handleVideoClick:function(){if(i&&a){var e="video_click";m.current.has(e)||(1===o.length?(0,F.tQ)({adsId:i,campaignId:a,productId:o[0].id,brandId:p,sellerId:v}):(0,F.tQ)({adsId:i,campaignId:a,brandId:p,sellerId:v}),m.current.add(e),setTimeout(function(){m.current.delete(e)},1e3))}},handleProductClick:function(e,t){if(i&&a){var n="product_click_".concat(e);m.current.has(n)||((0,F.CM)({adsId:i,campaignId:a,productId:e,brandId:p,sellerId:v,index:t>=0?t+1:void 0}),m.current.add(n),setTimeout(function(){m.current.delete(n)},1e3))}},handleBrandClick:function(){if(i&&a){var e="brand_click";m.current.has(e)||((0,F.BD)({adsId:i,campaignId:a,brandId:p,sellerId:v}),m.current.add(e),setTimeout(function(){m.current.delete(e)},1e3))}},checkVideoViewEvent:function(e){e>=3&&!d.current&&i&&a&&((0,F.tU)({adsId:i,campaignId:a,productIds:o.map(function(e){return e.id}),brandId:p,sellerId:v}),d.current=!0)},handleSeeMoreClick:function(){if(i&&a){var e="see_more_click";m.current.has(e)||((0,F.tQ)({adsId:i,campaignId:a,brandId:p,sellerId:v}),m.current.add(e),setTimeout(function(){m.current.delete(e)},1e3))}}}),H=O.videoContainerRef,U=O.widgetContainerRef,V=O.useProductViewTracking,J=O.handleVideoClick,W=O.handleProductClick,q=O.handleBrandClick,X=O.checkVideoViewEvent,G=O.handleSeeMoreClick,Y=1===P.length;return 0!==P.length&&I?(0,r.jsx)("div",{ref:U,className:(0,h.d)("p-4 pb-0 lg:p-0",{"cursor-pointer":Y}),children:(0,r.jsxs)("div",{ref:H,onClick:function(){J(),window&&Y&&window.open((0,x.H1)({productId:P[0].id}),"_blank")},className:"flex flex-col lg:flex-row lg:p-5 border border-neutral-200 border-solid rounded-md lg:rounded-lg overflow-hidden lg:gap-5",children:[(0,r.jsx)(B,{ref:M.containerRef,video:I,isFullScreen:T.isFullScreen,isPlaying:T.isPlaying,isMute:T.isMute,showControls:T.showControls,currentTime:T.currentTime,duration:T.duration,progressPercentage:T.progressPercentage,onProgress:function(e){D.handleProgress(e),X(e.playedSeconds)},onDuration:D.handleDuration,onPlay:D.handlePlay,onPause:D.handlePause,onReady:D.removePoster,onMouseEnter:D.handleMouseEnter,onMouseLeave:D.handleMouseLeave,togglePlayPause:D.togglePlayPause,toggleMute:D.toggleMute,goFullScreen:D.goFullScreen,leaveFullScreen:D.leaveFullScreen,handleProgressChange:D.handleProgressChange,formatTime:R.formatTime,videoPosterRef:M.videoPosterRef,videoRef:M.videoRef}),T.isFullScreen&&(0,r.jsx)("div",{className:"fixed bottom-[120px] left-0 w-full",children:(0,r.jsx)(E,{products:P,isFullScreen:!0,isDesktop:S,onProductClick:W,onBrandClick:q,onSeeMoreClick:G,useProductViewTracking:V})}),(0,r.jsx)("div",{className:"w-full lg:w-1/2 overflow-hidden",children:(0,r.jsx)(E,{products:P,isFullScreen:!1,isDesktop:S,onProductClick:W,onBrandClick:q,onSeeMoreClick:G,useProductViewTracking:V})})]})}):null}H.getPlaceholder=g("370px");var U=n(47842),V=n(8830),J=n(16514),W=n(62069);function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.utm,n=e.eventData,i=void 0===n?{}:n,r=(0,W.D)();i.pageInfo&&(i.pageInfo=(0,u.mH)(i.pageInfo||{}));var a=(0,s.Z)({cityId:r,widgetName:(null==i?void 0:i.widgetName)||t||"unknown_widget"},i);return{viewRef:(0,Z.Z)((0,J.Z)({eventData:a,callback:F.n5}),1)[0],onWidgetClick:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).itemName;(0,F.d0)((0,s.Z)({clickedItemName:e||"main"},a))},onCarouselClick:function(e){(0,F.ID)((0,s.Z)({},a,e||{}))}}}var X=n(50603);function G(e){var t,n,s=e.isOpen,i=e.onClose,a=e.debts,l=e.credit,d=e.modalWidth,c=e.debt,u=e.paymentLink,m=null==a?void 0:a.length,p=null==a?void 0:a.reduce(function(e,t){return e+(null!==(n=t.penaltyWaiverAmount)&&void 0!==n?n:0)},0);return(0,r.jsxs)(X.Modal,{shouldCloseOnPageChange:!1,isOpen:s,header:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-body2 text-neutral-800",children:m?"پرداخت بدهی‌های دیجی‌پی":"الان بخر، بعدا پرداخت کن!"})}),onDismiss:i,hasCloseIcon:!0,childrenClassName:"pt-3 px-4 pb-2",bottomSheetContentClassName:"max-h-[70vh] rounded-t-large",width:d,children:[!!m&&!c&&(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)("p",{className:"text-neutral-850 text-h5-regular-180",children:(0,o.x)(a)?"":2===a.length?"برای استفاده از تمام ظرفیت پرداخت اعتباری در خریدها و جلوگیری از جریمه، بدهی خود را زودتر پرداخت کنید.":(null===(t=a[0])||void 0===t?void 0:t.providerType)==="bnpl"?"برای جلوگیری از جریمه در وام دیجی‌پی، بدهی خود را زودتر پرداخت کنید.":"برای استفاده از تمام ظرفیت پرداخت اعتباری در خریدها و جلوگیری از جریمه، بدهی خود را زودتر پرداخت کنید."}),p?(0,r.jsxs)("div",{className:"bg-background-success px-2 py-1.5 flex items-start gap-3 rounded-md",children:[(0,r.jsx)(j.J,{icon:"cube-alert-info",className:"mt-1",size:20,color:(0,_.$)("color-hint-text-success")}),(0,r.jsxs)("p",{className:"text-body1-strong",children:[(0,P.j)(p)," تومان بخشودگی در پرداخت، در صورتی که همین الان پرداخت کنید."]})]}):null,a.map(function(e,t){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"py-2 flex items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-gradient-silver rounded-full",children:(0,r.jsx)(j.J,{icon:"bnpl"===e.providerType?"cube-payment-loan":"cube-payment-credit",size:20})}),(0,r.jsxs)("div",{className:"flex flex-col gap-0.5 flex-1",children:[(0,r.jsxs)("div",{className:"flex gap-0.5",children:[(0,r.jsx)("p",{className:"text-h4-compact text-neutral-650",children:(0,P.j)(e.debt)}),(0,r.jsx)(j.J,{icon:"toman",size:14})]}),(0,r.jsx)("p",{className:"text-body1-strong-180 text-hint-object-error",children:"bnpl"===e.providerType?"قسط وام دیجی‌پی":"بدهی خرید اعتباری"})]}),(0,r.jsx)(R.z,{className:"!p-0 !pl-1.5 !pr-3 !h-9 ",mode:"filled",appendIcon:"chevronLeft",appendIconClassName:"fill-white",size:"medium",to:e.debtPayLink,target:"_blank",children:"پرداخت"})]}),t!==a.length-1&&(0,r.jsx)("hr",{className:"mx-[7.5px] h-[1px] border-none bg-neutral-200"})]})})]}),!m&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,h.d)("mb-4 pt-3 w-full pl-4 pr-3 pb-4 rounded-md bg-right bg-contain text-white",'bg-[url("/statics/img/png/bnpl-bg.png")] bg-no-repeat',{"bg-digipay":!c,"bg-hint-object-error":c}),children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-h4-180 ml-auto",children:c?"مقدار بدهی":"موجودی اعتبار"}),(0,r.jsx)("div",{className:"flex items-center mr-auto",children:c?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-h4-180 ml-1",children:(0,I.U)((0,P.j)(c))}),(0,r.jsx)(j.J,{icon:"toman",size:16,color:"white",className:"mb-1"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-h4-180",children:(0,I.U)((0,P.j)(l))}),(0,r.jsx)(j.J,{icon:"toman",size:"20",className:"mr-0.5 mb-1",color:"white"})]})})]}),(0,r.jsxs)("div",{className:"flex w-full items-center justify-start",children:[(0,r.jsx)("span",{className:"ml-2 text-body-1-compact mt-0.5",children:"قدرت گرفته از"}),(0,r.jsx)(j.J,{icon:"cube-brand-digipay-logotype-en",color:"white",size:16,style:{height:"16px",width:"56px"}}),(0,r.jsx)(j.J,{icon:"cube-brand-digipay-logo",color:"white",size:16,style:{height:"16px"}})]})]})}),c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-h5 text-neutral-800",children:"شما به دیجی‌پی بدهکار هستید"}),(0,r.jsx)("p",{className:"text-body-1-180 mt-0.5",children:"برای استفاده از تمام ظرفیت پرداخت اعتباری در خریدها، بدهی خود را از یکم تا پنجم همین ماه پرداخت کنید تا شامل جریمه نشوید."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h5",{className:"text-h5",children:"چطور با اعتبارم خرید کنم؟"}),(0,r.jsx)("p",{className:"text-body-1-180 mt-0.5",children:"با موجودی اعتبارت، الان بخر و بعدا پرداخت کن. بازپرداخت آن را بین یک تا چهار قسط از اول تا پنجم ماه بعد انجام دهید. فقط کافی است در مرحله پرداخت، گزینه \xabپرداخت اعتباری دیجی‌پی\xbb را انتخاب کنید."})]}),c?(0,r.jsx)(R.z,{className:"!border-none mt-4 !bg-button-primary !text-white",mode:"filled",size:"large",to:u,target:"_blank",children:"پرداخت بدهی"}):(0,r.jsx)(R.z,{className:"!border-none mt-4 !bg-neutral-100 !text-black",mode:"filled",size:"large",onClick:i,children:"باشه، فهمیدم"})]})]})}var Y=n(82276),$=n.n(Y);function Q(e){var t,n=e.data,s=e.eventData;e.utm;var i=n.credit,a=n.debt,l=n.bnplCreditData,o=n.paymentLink,d=n.threshold,c=q({eventData:s}),u=c.onWidgetClick,m=c.viewRef,p=(0,f.C)().isDesktop,x=(0,V.R)({modalId:"bnpl"}),v=x.isOpen,g=x.onClose,b=x.onOpen,N=(null==l?void 0:l.length)||a;return p||!N&&i<=d?null:(0,r.jsxs)("div",{className:"container-2xl-w mx-auto lg:px-4 2xl:px-0 mt-4",ref:m,children:[(0,r.jsx)("div",{className:((0,h.d)($().Bnpl__animation),"overflow-hidden"),onClick:function(){u({itemName:"widget_body"}),b()},children:(0,r.jsxs)("div",{className:(0,h.d)((t={},(0,U.Z)(t,$()["Bnpl__card--debt"],N),(0,U.Z)(t,$().Bnpl__card,!N),t),"mx-4 py-3 pl-2 pr-3 items-center rounded-medium border-neutral-200 border-solid border-[1px] flex justify-between"),children:[N?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(j.J,{icon:"calendarCard",className:"ml-3",color:(0,_.$)("color-hint-object-error")}),(0,r.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("p",{className:"text-body1-strong-compact text-hint-object-error",children:"پرداخت بدهی دیجی‌پی"})}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-body2-strong-compact text-hint-object-error",children:"بدهی شما به دیجی‌پی در انتظار پرداخت است."})})]})]}):(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(j.J,{icon:"calendarCard",className:"ml-3",color:(0,_.$)("color-digipay")}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("p",{className:"text-body1-strong-compact text-neutral-800",children:"الان بخر، بعدا پرداخت کن!"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-body-1-compact ml-1 text-icon-high-emphasis",children:"موجودی اعتبار:"}),(0,r.jsx)("span",{className:"text-body1-strong-compact text-neutral-800",children:(0,I.U)((0,P.j)(i))}),(0,r.jsx)(j.J,{icon:"toman",size:"16",className:"mr-0.5 fill-neutral-800 mb-0.5"})]})]})]}),(0,r.jsxs)("div",{className:"flex mr-3 items-center",children:[!!N&&(0,r.jsx)("span",{className:"text-body1-strong-compact text-hint-object-error",children:"پرداخت"}),(0,r.jsx)(j.J,{icon:"chevronLeft",color:N?(0,_.$)("color-hint-object-error"):(0,_.$)("color-digipay")})]})]})}),(0,r.jsx)(G,{isOpen:v,credit:i,debts:l,onClose:g,debt:a,paymentLink:o})]})}Q.getPlaceholder=g("79px");var K=n(97721),ee=n(57306);function et(e){var t=e.id,n=e.image,s=e.price,i=e.title,a=e.className,l=e.onClick;return(0,r.jsxs)(N.r,{target:"_blank",shouldHandleUrlAndOnClick:!0,to:(0,x.H1)({productId:t}),onClick:l,className:(0,h.d)("min-w-[130px] overflow-hidden ","flex flex-col justify-between bg-white p-2",a),children:[(0,r.jsx)("div",{className:"overfow-hidden rounded-md",children:(0,r.jsx)(b.E,{width:114,height:114,src:n.url,alt:n.alt||i,imageClassName:"rounded-md"})}),(0,r.jsxs)("div",{className:"h-full mt-2 flex flex-col gap-2 w-full justify-between items-start",children:[(0,r.jsx)("p",{className:"text-body1-strong-180 text-neutral-650 h-10 w-full ellipsis-2",children:i}),(0,r.jsx)(ee.t,{className:(0,h.d)("bg-red flex flex-col h-10.5 pt-0.5",{"!justify-start !items-start":s.discountPercent,"!flex-row !justify-start !items-end":!s.discountPercent}),price:s.rrpPrice,sellingPrice:s.sellingPrice,discount:s.discountPercent,productDiscountPercent:s.discountPercent,discountOnTop:!0,compactPrice:!0})]})]},t)}function en(e){var t=e.data,n=q({eventData:(e.utm,e.eventData)}),a=n.viewRef,l=n.onWidgetClick,d=t.products,c=t.style,u=t.headerImage,m=t.icon,p=t.seeMore,x=t.shouldOpenNewTab,f=(c||{}).backgroundColors,v=(0,C.useMemo)(function(){var e=0;return(d||[]).forEach(function(t){var n,s=+((null===(n=t.price)||void 0===n?void 0:n.timer)||0);e=s>0&&(s<e||0===e)?s:e}),1e3*e},[d]),g=function(){return l({itemName:"مشاهده همه"})},_=function(e){var t=e.productItem;return function(){l({itemName:t.title})}},w=(d||[]).map(function(e,t){return(0,r.jsx)(et,(0,i.Z)((0,s.Z)({},e),{onClick:_({productItem:e}),className:(0,h.d)({"rounded-r-md":0===t})}))}),y=(0,C.useMemo)(function(){return{background:"linear-gradient(225deg, ".concat(f.map(function(e,t){var n=t/(f.length-1)*100;return"".concat(e," ").concat(n,"%")}).join(", "),")")}},[f]);return w.push((0,r.jsx)(N.r,{target:x?"_blank":"_self",shouldHandleUrlAndOnClick:!0,to:(null==p?void 0:p.url)||"",onClick:g,className:"min-w-[140px] overflow-hidden rounded-l-md bg-white",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,r.jsx)("div",{className:"rounded-circle p-1 border-2 border-icon-high-emphasis border-solid",children:(0,r.jsx)(j.J,{icon:"arrowLeft",size:32})}),(0,r.jsx)("p",{className:"text-neutral-700 mt-3 text-body1-strong",children:"مشاهده همه"})]})})),(0,r.jsxs)("div",{ref:a,className:"pb-4 mt-4",style:y,children:[(0,r.jsxs)("div",{className:"pt-5 px-4 pb-3 flex justify-start items-center",children:[(0,r.jsx)(b.E,{className:"ml-2",src:m.url,width:24,height:24,alt:m.alt}),(0,r.jsx)(b.E,{className:"ml-4 max-w-[220px] max-h-[26px]",src:u.url,width:108,height:20,alt:u.alt}),!(0,o.x)(v)&&!Number.isNaN(v)&&(0,r.jsx)(K.B,{time:v}),(0,r.jsxs)(N.r,{to:(null==p?void 0:p.url)||"",target:x?"_blank":"_self",shouldHandleUrlAndOnClick:!0,onClick:g,className:"flex justify-center items-center text-button-2 text-white mr-auto",children:["همه",(0,r.jsx)(j.J,{icon:"chevronLeft",size:18,color:"white"})]})]}),(0,r.jsx)(M.l,{items:[(0,r.jsx)("div",{className:"pr-2"})].concat((0,T.Z)(w),[(0,r.jsx)("div",{className:"pr-2"})]),className:"gap-0.5 w-full mt-1",sliderProps:{slidesOffsetAfter:0,slidesOffsetBefore:0}})]})}en.getPlaceholder=g("354px");var es=n(64665),ei=n(88413),er=n(42306),ea=n(43997),el=n(6013),eo=n(53548);function ed(e){var t=e.deepLink,n=e.CROId,s=e.className,i=e.target,a=e.onClick,l=(0,ea.v9)(el.p.isLoggedIn),o=t||{},d=o.deepLinksIconUrl,c=o.deepLinksTitle,u=o.deepLinksUrl,m=(0,h.d)("flex flex-col items-center user-select-none max-w-15",s);return(0,r.jsxs)(N.r,{onClick:a,shouldHandleUrlAndOnClick:!0,target:/#supermarkets|#digiplus/.test(u)?"_self":i,to:/my-digipay/.test(u)&&!l?(0,eo.U)({toLoginRegisterRoute:!0}):u,className:m,CROId:void 0===n?"hp-ventures-icons":n,children:[(0,r.jsx)(b.E,{src:d,width:52,height:52,alt:c}),(0,r.jsx)("span",{className:"text-caption-strong-180 w-full text-neutral-700 mt-1 text-center ellipsis-2",children:c})]})}var ec=n(47072),eu=n(43972),em=n(73585),ep=n.n(em);function ex(e){var t=e.isOpen,n=e.onClose,s=e.services,i=e.groupServices,a=(0,ea.v9)(el.p.isLoggedIn);return(0,r.jsx)(X.Modal,{shouldCloseOnPageChange:!1,isOpen:t,onDismiss:n,headerClassName:"py-0 px-5",header:(0,r.jsx)(ec.D,{title:"خدمات دیجی‌کالا",rightIcon:"dkSmile",rightIconColor:"primary"}),rounded:"large",children:(0,r.jsxs)("div",{className:"w-full relative lg:min-w-145 mt-5",children:[(0,r.jsx)("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-y-3",children:null==s?void 0:s.map(function(e){return(0,r.jsx)(eu.k,{CROId:e.deepLinksTitle,deepLink:e,className:"lg:w-[80px]"},e.deepLinksId)})}),(null==i?void 0:i.length)>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{className:"text-body1-strong text-neutral-500 mt-6",children:"سرویس‌های گروه دیجی‌کالا"}),(0,r.jsx)("div",{className:"lg:grid grid-cols-2 gap-3 mt-2",children:null==i?void 0:i.map(function(e){return(0,r.jsxs)(N.r,{target:/#supermarkets|#digiplus/.test(e.deepLinksUrl)?"_self":"_blank",to:/my-digipay/.test(e.deepLinksUrl)&&!a?(0,eo.U)({toLoginRegisterRoute:!0}):e.deepLinksUrl,className:(0,h.d)("flex items-start border-complete-b lg:rounded-large lg:border-complete-200 py-3 lg:px-3",ep().shortcutsModal__serviceBox),CROId:"hp-ventures-icons",children:[(0,r.jsx)(b.E,{src:e.deepLinksIconUrl,width:52,height:52,alt:e.deepLinksTitle,className:"rounded-large shrink-0"}),(0,r.jsxs)("div",{className:"mr-3 grow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("p",{className:"text-subtitle-strong text-neutral-700",children:e.deepLinksTitle}),(0,r.jsx)(j.J,{icon:"arrowLeft",size:24,className:"mr-4",color:"low-emphasis"})]}),(0,r.jsx)("p",{className:"text-body-2 text-neutral-500",children:e.deepLinksDescription})]})]},e.deepLinksId)})})]})]})})}var ef=n(88238),eh=n.n(ef);function ev(e){var t,n,s,i,a,l,o=e.data,d=q({eventData:(e.utm,e.eventData)}).viewRef,c={services:null==(n=(null==(t=({items:o.items}).items)?void 0:t.map(function(e){var t,n,s,i,r;return n=(t=e||{}).description,s=t.id,i=t.image,r=t.isDigikalaService,{deepLinksId:s,deepLinksTitle:t.title,deepLinksUrl:t.url.url,deepLinksIconUrl:i.url,deepLinksDescription:n,deepLinksIsDigikalaGroupService:r}}))||[])?void 0:n.filter(function(e){return!e.deepLinksIsDigikalaGroupService}),groupServices:null==n?void 0:n.filter(function(e){return e.deepLinksIsDigikalaGroupService}),allItems:n},u=c.allItems,m=c.groupServices,p=c.services,x=(0,f.C)().isDesktop,v=(0,V.R)({modalId:"deep-link-others"}),g=v.isOpen,b=v.onClose,N=v.onOpen,_=(0,h.d)("w-full mt-4 bg-neutral-000 flex-wrap gap-3",{"flex overflow-x-auto flex-nowrap overflow-y-hidden hide-scrollbar":(0,er.d)(es.X.FRESH_TOUCHPOINTS),"grid grid-cols-4 justify-items-center lg:flex":!(0,er.d)(es.X.FRESH_TOUCHPOINTS)}),w=(0,h.d)("bg-neutral-100 rounded-circle flex justify-center items-center text-neutral-400",eh().MainHomeDeepLinks__moreButton),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){(0,F.d0)({clickedItemName:(null==e?void 0:e.deepLinksTitle)||"بیشتر",widgetName:ei.cn})}},k=(0,er.d)(es.X.FRESH_TOUCHPOINTS)?(null==m?void 0:m.length)>3?x?3:1:(x?7:5)-((null==m?void 0:m.length)||0):(null==m?void 0:m.length)>3?3:7-((null==m?void 0:m.length)||0),C=(0,er.d)(es.X.FRESH_TOUCHPOINTS);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:_,ref:d,children:[(0,r.jsx)("div",{className:"mr-1"})," ",C?null==u?void 0:u.slice(0,x?9:8).map(function(e){return(0,r.jsx)(ed,{onClick:y(e),CROId:null==e?void 0:e.deepLinksTitle,className:"shrink-0 lg:!w-[82px] w-15",deepLink:e,target:"_blank"},null==e?void 0:e.deepLinksId)}):(0,r.jsxs)(r.Fragment,{children:[null===(s=null==m?void 0:m.slice(0,4))||void 0===s?void 0:null===(i=s.map)||void 0===i?void 0:i.call(s,function(e){return(0,r.jsx)(ed,{onClick:y(e),CROId:null==e?void 0:e.deepLinksTitle,className:"shrink-0 w-15",deepLink:e,target:"_blank"},null==e?void 0:e.deepLinksId)}),null===(a=null==p?void 0:p.slice(0,k))||void 0===a?void 0:null===(l=a.map)||void 0===l?void 0:l.call(a,function(e){return(0,r.jsx)(ed,{onClick:y(e),CROId:null==e?void 0:e.deepLinksTitle,className:"shrink-0 w-15",deepLink:e},null==e?void 0:e.deepLinksId)})]}),(0,r.jsxs)("div",{onClick:N,className:(0,h.d)("shrink-0 w-15 flex flex-col items-center user-select-none cursor-pointer"),children:[(0,r.jsx)("div",{className:w,onClick:y(),children:(0,r.jsx)(j.J,{icon:"moreHoriz",size:32,color:"low-emphasis"})}),(0,r.jsx)("span",{className:"text-caption-strong-180 w-full text-center text-neutral-700 mt-1",children:"بیشتر"})]}),(0,r.jsx)("div",{className:"mr-1"})," "]}),(0,r.jsx)(ex,{isOpen:g,onClose:b,services:p,groupServices:m})]})}ev.getPlaceholder=g("122px");var eg=n(29890);function ej(e){var t,n=e.banner,s=e.className,i=e.imageClassName,a=e.disableLazyLoad,l=e.eventData,o=n||{},d=o.image,c=o.title,u=o.url,m=q({eventData:l}),p=m.viewRef,x=m.onWidgetClick,f=(0,h.d)("block h-full w-full",s),v=(0,h.d)(i,"border border-solid border-[#0C0C0C12]");return(0,r.jsx)(N.r,{to:u.url,onClick:(t=n.title,function(){return x({itemName:t})}),shouldHandleUrlAndOnClick:!0,target:"_blank",className:f,children:(0,r.jsx)("div",{ref:p,className:"w-full bg-[rgba(0,0,0,0.04)] flex justify-center items-center rounded-md",children:(0,r.jsx)(b.E,{disableLazyLoad:a,alt:d.alt,title:c,src:d.url,objectFit:"cover",imageClassName:v,className:"user-select-none z-1 top-0 w-full h-full",rounded:8})})})}function eb(e){var t=e.banners,n=e.eventData,s=t.length;return 0===s?null:1===s?(0,r.jsx)("div",{className:"mt-5 mx-4",children:(0,r.jsx)(ej,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"apsect-[5/2]"},t[0].id)}):2===s?(0,r.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,r.jsx)(ej,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"apsect-[5/2]"},t[0].id),(0,r.jsx)(ej,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"apsect-[5/2]"},t[1].id),";"]}):3===s?(0,r.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,r.jsx)(ej,{banner:t[0],disableLazyLoad:!0,imageClassName:"apsect-[5/2]"},t[0].id),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)(ej,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[1].id),(0,r.jsx)(ej,{banner:t[2],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[2].id)]})]}):4===s?(0,r.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)(ej,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[0].id),(0,r.jsx)(ej,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[1].id)]}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)(ej,{banner:t[2],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[2].id),(0,r.jsx)(ej,{banner:t[3],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[3].id)]})]}):null}var eN=n(86671);function e_(e){var t,n=e.className,s=e.banner,i=e.disableLazyLoad,a=s||{},l=a.image,o=a.title,d=a.url,c=q(),u=c.viewRef,m=c.onWidgetClick,p=(0,h.d)("block h-full w-full h-[180px]",n);return(0,r.jsx)(N.r,{to:d.url,onClick:(t=s.title,function(){return m({itemName:t})}),target:"_blank",className:p,shouldHandleUrlAndOnClick:!0,children:(0,r.jsx)("div",{ref:u,className:"w-full bg-[rgba(0,0,0,0.04)] flex justify-center items-center rounded-md",children:(0,r.jsx)(b.E,{disableLazyLoad:i,alt:l.alt,title:o,src:l.url,objectFit:"cover",imageClassName:"h-full",className:"user-select-none z-1 top-0 w-full h-[180px]",rounded:8})})})}var ew=n(75633),ey=n.n(ew),ek=function(e,t,n){var s=Math.max(0,t-Math.floor(e/2)),i=s+e-1;return i>=n&&(s=Math.max(0,(i=n-1)-e+1)),{bullets:Array.from({length:i-s+1},function(e,t){return s+t}),start:s,end:i}};function eC(e){var t=e.total,n=void 0===t?0:t,s=e.current,i=void 0===s?0:s,a=ek(6,i-1,n),l=a.bullets,o=a.start,d=a.end,c=(0,h.d)("flex items-center justify-center py-1 px-1.5 absolute rounded-large",ey().MainHomeTopSlider__sliderPagination);return(0,r.jsx)("div",{className:c,children:l.map(function(e,t){return(0,r.jsx)("span",{className:(0,h.d)("rounded-full bg-white transition-all duration-200 opacity-30 ml-1",n<=6?"w-1.5 h-1.5":e===o&&o>0||e===d&&d<n-1?"w-1 h-1":"w-1.5 h-1.5",e+1===i&&"w-3 !opacity-100")},"carousel-indicator-".concat(t))})})}function eP(e){var t=e.slides,n=e.eventData,s=(0,C.useRef)(null),i=(0,Z.Z)((0,C.useState)(!1),2),a=i[0],l=i[1],o=q({eventData:n}).viewRef,d={rootClass:(0,h.d)("flex overflow-hidden relative mt-4",ey().MainHomeTopSlider),navigationContainer:(0,h.d)("absolute right-0 bottom-42 flex items-center z-1",{"opacity-0":!a,"00":a},ey().MainHomeTopSlider__navigator)};return(0,eg.k)(t)?(0,r.jsx)("div",{className:d.rootClass,onMouseEnter:function(){l(!0)},onMouseLeave:function(){l(!1)},ref:o,children:(0,r.jsx)(eN.i,{loop:!0,ref:s,slidesPerView:1.1,effect:"fade",centeredSlides:!0,spaceBetween:8,disableFreeModeOnDesktop:!0,autoplay:!0,navigationButtonClassName:{prev:"hidden hidden",next:"hidden hidden",disabled:"opacity-50 pointer-events-none"},onInit:function(e){e.navigation.update()},useCustomPagination:!0,PaginationComponent:eC,className:"relative w-full dk-main-slider",slides:t.map(function(e,t){var n=e||{},s=n.bannerDestinationWidgetId,i=n.id;return(0,r.jsx)("div",{className:(0,h.d)({"cursor-pointer":s}),onClick:s&&function(){(0,S.X5)(s)},children:(0,r.jsx)(e_,{disableLazyLoad:0===t,banner:e},i||t)})})})}):null}var eI=n(71338),eS=n(98936),eL=n(80803),eT=n(40565),eM=n(87049),eD=n(8108),eE=n(43287),eR=n(94042),eO=n(80786),eB=n(45969),eZ=n(48781);function ez(e){var t=e.className,n=e.hide,s=e.forDesktop,i=void 0!==s&&s,a=(0,V.R)({modalId:"supermarkets"}),l=a.isOpen,o=a.onClose,d=a.onOpen,c=(0,Z.Z)((0,C.useState)(!1),2),u=c[0],m=c[1],p=(0,eM.v)(eO.b.isPendingInit),x=(0,C.useRef)(null);(0,eT.x)([{event:eR.JW,handler:function(e){return m(e)}}]);var f=function(){(0,eD.N)({name:"widget_click",body:{version:2,page_type:(0,eE.C)(),widget_name:"supermarket_touchpoint",clicked_item_name:"fav_icon"}}),d()};(0,C.useEffect)(function(){if(i&&x.current&&(0,er.d)(es.X.FRESH_TOUCHPOINTS)){var e=function(){window.scrollY<624.5?x.current.style.width="0px":x.current.style.width="142px"};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}},[i,p]);var v=(0,er.d)(es.X.SUPER_APP_WEB_PILLARS_VIEW);if(!(0,er.d)(es.X.FRESH_TOUCHPOINTS)||v)return null;var g=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eZ.X,{shouldCloseOnPageChange:!1,isOpen:l,onDismiss:o}),(0,er.d)(es.X.LOCATION_BASED_BANNERS)?null:(0,r.jsx)(eB.c,{})]});return i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{onClick:f,className:(0,h.d)("rounded-3xl text-subtitle-strong flex items-center bg-fresh-700 z-4 text-white cursor-pointer","w-max fixed px-3 py-2.5 transition-all duration-300 left-4 bottom-8",t),children:["سوپرمارکت",(0,r.jsxs)("div",{className:"flex items-center overflow-hidden whitespace-nowrap transition-all duration-300",ref:x,children:[(0,r.jsx)("div",{className:"w-[1px] h-4 mx-2 bg-[rgba(255,255,255,0.22)]"}),"تنوع بالا و پرتخفیف"]}),(0,r.jsx)(j.J,{icon:"cube-badge-fresh",color:"white",size:28,className:"mr-2"})]}),g]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{onClick:f,className:(0,h.d)("rounded-3xl text-h5 flex items-center bg-fresh-700 z-2 text-white select-none","w-max fixed px-2 py-1.5 transition-all duration-500 right-0 left-0 mx-auto bottom-0",t),style:{transform:"translateY(".concat(n?0:u?-140:-65,"px)")},children:[(0,r.jsx)(j.J,{icon:"cube-badge-fresh",color:"white",size:20}),(0,r.jsx)("div",{className:"w-[1px] h-4 mx-2 bg-[rgba(255,255,255,0.22)]"}),"سوپرمارکت، تنوع بالا، پرتخفیف"]}),g]})}var eF=n(97234),eA=n(76020),eH=n(57079),eU=n(38875),eV=n(90263);function eJ(e){var t=e.isOpen,n=e.onDismiss,s=e.shouldCloseOnPageChange,i=(0,eM.v)(eF.Jw.supermarketServices),a=(0,C.useMemo)(function(){return i.map(function(e){return{title:({fresh:"پرتخفیف و متنوع",jet:"ارسال فوری‍"})[e.serviceName],image:({fresh:"/statics/img/png/fresh-shop-basket.png",jet:"/statics/img/png/jet-shop-basket.png"})[e.serviceName],backgroundColor:({fresh:"#DBF3E6",jet:"#FEEBDE"})[e.serviceName],badgeColor:({fresh:"var(--color-fresh-700)",jet:"#FF8042"})[e.serviceName],badgeTitle:({fresh:"ارسال امروز",jet:"۴۵ دقیقه‌ای"})[e.serviceName],icon:({fresh:"cube-shipping-fast",jet:"cube-action-time"})[e.serviceName],service:e}})},[i]),l=(0,Z.Z)((0,C.useState)(null),2),o=l[0],d=l[1],c=(0,Z.Z)((0,C.useState)(null),2),u=c[0],m=c[1],p=(0,f.C)().isDesktop,x=function(e){var t=e.service,n=e.title;return function(){if((0,eD.N)({name:"widget_click",body:{version:2,page_type:(0,eE.C)(),widget_name:"supermarket_".concat(t.serviceName,"_touchpoint"),clicked_item_name:n}}),p||eH.b.hasSeen(t.serviceName)&&eV.j.hasSeen(t.serviceName)){window.location.href=t.action;return}eH.b.hasSeen(t.serviceName)?(eV.j.markAsSeen(t.serviceName),d(t)):(eH.b.markAsSeen(t.serviceName),m(t))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.Modal,{headerTitle:(0,r.jsx)("div",{children:(0,r.jsx)("h5",{className:"text-h5 text-neutral-700",children:"یکی از سوپرمارکت‌های زیر را انتخاب کنید"})}),childrenClassName:"pb-5 xs:px-2 sm:px-5",hasCloseIcon:p,headerHideBottomBorder:!0,isOpen:t,onDismiss:n,shouldCloseOnPageChange:s,children:(0,r.jsx)("div",{className:"flex items-center justify-center xs:gap-3 sm:gap-3",children:a.map(function(e,t){var n=e.service,s=e.title,i=e.icon,a=e.backgroundColor,l=e.badgeColor,o=e.badgeTitle,d=e.image;return(0,r.jsxs)("div",{onClick:x({service:n,title:s}),className:"rounded py-3 flex-1 flex justify-center gap-2 flex-col cursor-pointer xs:h-[228px] lg:h-[250px]",style:{backgroundColor:a},children:[(0,r.jsxs)("div",{className:"flex items-center justify-start gap-1 xs:px-3 sm:px-4",children:[(0,r.jsx)("span",{className:"text-h5 text-neutral-900",children:s}),(0,r.jsx)(j.J,{icon:"cube-nav-chevron-left",color:"black",size:20})]}),(0,r.jsx)("div",{className:"xs:px-3 sm:px-4",children:(0,r.jsxs)("div",{style:{backgroundColor:l},className:"rounded-l-2xl rounded-tr-sm rounded-br-2xl flex justify-center items-center gap-2 w-fit px-3",children:[(0,r.jsx)(j.J,{icon:i,color:"white",size:16}),(0,r.jsx)("p",{className:"text-body2-strong text-icon-white",children:o})]})}),(0,r.jsx)(b.E,{className:"w-full mr-auto mt-auto",src:d,width:130,height:130,loading:"lazy",alt:n.serviceName})]})})})}),(0,r.jsx)(eA.N,{service:u,isOpen:Boolean(u)}),o&&(0,r.jsx)(eU.n,{isOpen:Boolean(o),service:o})]})}function eW(e){e.badge,e.defaultVariantId;var t=e.id,n=e.image,s=e.price,i=e.title,a=e.onClick;return(0,r.jsxs)(N.r,{target:"_blank",shouldHandleUrlAndOnClick:!0,to:(0,x.H1)({productId:t}),onClick:a,className:(0,h.d)("min-w-[140px] border-complete !border-neutral-200 rounded-md overflow-hidden","flex flex-col justify-between"),children:[(0,r.jsx)("div",{className:"bg-neutral-100",children:(0,r.jsx)(b.E,{width:140,height:140,src:n.url,alt:n.alt||i,style:{mixBlendMode:"multiply"}})}),(0,r.jsxs)("div",{className:"h-full p-2 !pt-1 flex flex-col gap-1 w-full justify-between items-start",children:[(0,r.jsx)("p",{className:"text-body2-strong-180 text-icon-high-emphasis h-10 w-full ellipsis-2",children:i}),(0,r.jsx)(ee.t,{className:(0,h.d)("flex flex-col",{"!justify-start !items-start pt-0.5":s.discountPercent,"!flex-row !justify-start !items-center":!s.discountPercent}),price:s.rrpPrice,sellingPrice:s.sellingPrice,discount:s.discountPercent,productDiscountPercent:s.discountPercent,discountOnTop:!0,payablePriceTextClassName:"text-neutral-800 ml-1 text-h4",priceTextClassName:(0,h.d)({"line-through":s.discountPercent,"text-body-2":s.discountPercent,"text-h4":!s.discountPercent,"ml-1":!s.discountPercent,"text-neutral-300":s.discountPercent,"text-neutral-800":!s.discountPercent,"!leading-[24px]":!s.discountPercent}),compactPrice:!0})]})]},t)}function eq(e){var t=e.description,n=e.icon,s=e.title,i=e.url;return(0,r.jsxs)("div",{className:"mt-5 mx-4 mb-3 flex flex-col gap-0.5",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[n&&(0,r.jsx)(j.J,{icon:n,className:"ml-1.5",size:24}),(0,r.jsx)("h5",{className:"text-h5-180 text-neutral-900 flex-1",children:s}),i&&(0,r.jsxs)(N.r,{to:i,className:"flex justify-center items-center gap-1.5",target:"_blank",children:[(0,r.jsx)("p",{className:"text-neutral-700 text-body1-strong",children:"مشاهده همه"}),(0,r.jsx)(j.J,{icon:"chevronLeft",className:"-mr-1.5",size:20})]})]}),t&&(0,r.jsx)("p",{className:"text-body-1-180 text-neutral-600",children:t})]})}function eX(e){var t,n,a,l=e.data,o=q({eventData:(e.utm,e.eventData)}),d=o.viewRef,c=o.onWidgetClick,u=(l||{}).products,m=function(e){var t=e.productItem;return function(){c({itemName:t.title})}},p=(u||[]).map(function(e){return(0,r.jsx)(eW,(0,i.Z)((0,s.Z)({},e),{onClick:m({productItem:e})}))});return(null==l?void 0:null===(t=l.seeMore)||void 0===t?void 0:t.url)&&p.push((0,r.jsx)(N.r,{target:"_blank",shouldHandleUrlAndOnClick:!0,to:l.seeMore.url,onClick:function(){return c({itemName:"مشاهده همه"})},className:"min-w-[140px] overflow-hidden",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,r.jsx)("div",{className:"rounded-circle p-2 border-2 border-icon-high-emphasis border-solid",children:(0,r.jsx)(j.J,{icon:"arrowLeft",size:20})}),(0,r.jsx)("p",{className:"text-neutral-700 mt-3 text-body1-strong",children:"مشاهده همه"})]})})),(0,r.jsxs)("div",{ref:d,children:[(0,r.jsx)(eq,{description:null==l?void 0:l.description,icon:null==l?void 0:null===(n=l.icon)||void 0===n?void 0:n.url,title:null==l?void 0:l.title,url:null==l?void 0:null===(a=l.seeMore)||void 0===a?void 0:a.url}),(0,r.jsx)(M.l,{items:[(0,r.jsx)("div",{className:"pr-2"})].concat((0,T.Z)(p),[(0,r.jsx)("div",{className:"pr-2"})]),className:"gap-2 w-full",sliderProps:{slidesOffsetAfter:0,slidesOffsetBefore:0}})]})}function eG(e){var t=e.image,n=e.title,s=e.url,i=e.onClick;return(0,r.jsxs)(N.r,{to:s.url||"",target:"_blank",shouldHandleUrlAndOnClick:!0,className:"w-[90px] h-[124px] border-complete !border-neutral-200 rounded-md overflow-hidden flex flex-col items-center gap-1.5",onClick:i,children:[(0,r.jsx)("div",{className:"bg-neutral-100 p-1.5",children:(0,r.jsx)(b.E,{width:78,height:78,src:t.url,alt:t.alt||n,style:{mixBlendMode:"multiply"}})}),(0,r.jsx)("h4",{className:"w-full text-center align-middle text-icon-high-emphasis text-body2-strong-180 ellipsis-1 px-2",children:n})]})}function eY(e){var t=e.data,n=q({eventData:(e.utm,e.eventData)}),a=n.viewRef,l=n.onWidgetClick,o=t.description,d=t.icon,c=t.items,u=t.title,m=function(e){var t=e.item;return function(){l({itemName:t.title})}},p=(c||[]).map(function(e,t){return(0,r.jsx)("div",{onClick:m({item:e}),children:(0,r.jsx)(eG,(0,i.Z)((0,s.Z)({},e),{onClick:m({item:e})}))},t)});return(0,r.jsxs)("div",{ref:a,children:[(0,r.jsx)(eq,{icon:(null==d?void 0:d.url)||"",title:u,description:o||""}),(0,r.jsx)(M.l,{items:[(0,r.jsx)("div",{className:"pr-2"},"pad-left")].concat((0,T.Z)(p),[(0,r.jsx)("div",{className:"pr-2"},"pad-right")]),className:"gap-2 w-full",sliderProps:{slidesOffsetAfter:0,slidesOffsetBefore:0}})]})}function e$(e){var t=e.image,n=e.title,s=e.url,i=e.onClick;return(0,r.jsxs)(N.r,{to:s.url||"",target:"_blank",shouldHandleUrlAndOnClick:!0,className:"min-w-[259px] border-complete !border-neutral-200 rounded-md overflow-hidden flex flex-col gap-2 pb-3",onClick:i,children:[(0,r.jsx)(b.E,{objectFit:"cover",src:t.url,alt:t.alt,width:259,height:145}),(0,r.jsx)("h4",{className:"text-neutral-650 text-body-1-180 ellipsis-2 px-3",children:n})]})}function eQ(e){var t=e.data,n=q({eventData:(e.utm,e.eventData)}),a=n.viewRef,l=n.onWidgetClick,o=t.description,d=t.icon,c=t.news,u=t.seeMore,m=t.title,p=function(e){var t=e.magItem;return function(){l({itemName:t.title})}},x=(c||[]).map(function(e){return(0,r.jsx)(e$,(0,i.Z)((0,s.Z)({},e),{onClick:p({magItem:e})}))});return(0,r.jsxs)("div",{ref:a,children:[(0,r.jsx)(eq,{description:o,icon:(null==d?void 0:d.url)||"",title:m,url:(null==u?void 0:u.url)||""}),(0,r.jsx)(M.l,{items:[(0,r.jsx)("div",{className:"pr-2"})].concat((0,T.Z)(x),[(0,r.jsx)("div",{className:"pr-2"})]),className:"gap-2 w-full",sliderProps:{slidesOffsetAfter:0,slidesOffsetBefore:0}})]})}eX.getPlaceholder=g("336px"),eY.getPlaceholder=g("149px"),eQ.getPlaceholder=g("289px");var eK=n(79593),e0=n(98544),e1=n(59615),e2=n(84941),e5=n(25143);function e3(e){var t,n,s=e.data||{},i=s.lives,r=s.posts;return{lives:(null==i?void 0:null===(t=i.map)||void 0===t?void 0:t.call(i,function(e){return(0,e2.A)({data:e})}))||[],posts:(null==r?void 0:null===(n=r.map)||void 0===n?void 0:n.call(r,function(e){return(0,e5.E)({data:e})}))||[]}}var e4=n(16330),e6=n(32614),e7=n(27314),e8=n(73066),e9=n(62075),te=n(25233),tt=n.n(te);function tn(e){var t,n,s,i,a=e.isLiveItem,l=e.live,o=e.video,d=e.videoOnClick,c=e.className,u=e.itemIndex,m=e.isInPromotion,p=void 0!==m&&m,f=(0,e7.e)().redirect,v=!1;a&&l?(t=l.dkLiveCover,n=l.dkLiveTitle,v=l.dkLiveStatus===e8.j.STARTED):o&&(t=o.postCircleCover,n=o.postTitle);var g=(0,C.useRef)(null),j=(0,e6.o)({textRef:g,updateDependencies:[n]}).lineCount>2,N=(0,h.d)(tt().container,"rounded-circle shrink-0 w-full aspect-square relative flex items-center justify-center",(0,U.Z)({},tt().container__nowroz,p)),_=(0,h.d)("rounded-circle overflow-hidden bg-white aspect-square flex items-center justify-center",tt().innerContainer),w=(0,h.d)("rounded-circle overflow-hidden flex items-center justify-center",tt().image,(s={},(0,U.Z)(s,tt().image__nowroz,p),(0,U.Z)(s,tt()["image--live"],a&&v),s)),y=(0,h.d)(tt().timeBadge,(i={},(0,U.Z)(i,tt().timeBadge__nowroz,p),(0,U.Z)(i,tt().timeBadge__started,v),(0,U.Z)(i,tt().timeBadge__started__nowroz,p&&v),i),"absolute left-0 right-0 bottom-0 border-solid border-2 border-white w-max mx-auto px-1.5 rounded-md text-caption-strong");return(0,r.jsxs)("div",{onClick:function(){var e,t;a&&l?((0,e9.$G)({liveId:l.dkLiveId,liveOwnerId:null===(e=l.dkLiveUser)||void 0===e?void 0:e.id,placeIndex:u}),f({url:(0,x.$A)(l.dkLiveSlug)})):o&&((0,e9.OR)({postId:o.postId,postAuthorId:null===(t=o.postAuthor)||void 0===t?void 0:t.authorId,placeIndex:u}),null==d||d())},className:(0,h.d)(c,"w-[64px] shrink-0 cursor-pointer"),children:[(0,r.jsxs)("div",{className:N,children:[(0,r.jsx)("div",{className:_,children:(0,r.jsx)(b.E,{rounded:99999,objectFit:"cover",image:t,className:w})}),a&&(null==l?void 0:l.dkLiveBadgeText)&&(0,r.jsx)("div",{className:y,children:(0,I.U)(l.dkLiveBadgeText)})]}),(0,r.jsx)(e4.u,{label:n,position:"right-end",hasTooltip:j,children:(0,r.jsx)("div",{ref:g,className:(0,h.d)("mt-2 text-caption-180 text-center text-neutral-850",{"ellipsis-2":j}),children:n})})]})}var ts=(0,c.q)({url:"/magnet/home-page/reactions/",transformer:function(e){var t=e.data;return{reactions:Object.keys(t||{}).reduce(function(e,n){var r=t[n]||{},a=r.is_author_followed,l=r.is_post_liked;return(0,i.Z)((0,s.Z)({},e),(0,U.Z)({},n,{isAuthorFollowed:a,isPostLiked:l}))},{})}}}),ti=n(42729);function tr(e){var t,n,a,u,m,p,x,f,v,g,j,b,N,_,w,y,k,P,I,S,L,D=e.data.endpoint,E=(e.utm,e.eventData),R=(0,l.V)({apiMethod:(0,c.q)({url:D||"/v1/magnet/home-page/",transformer:e3,baseURL:function(){return d.V.API_BASE_URL.replace("/v1","")}})}).data||{},O=R.lives,B=R.posts,z=q({eventData:E}),F=z.onWidgetClick,A=z.viewRef,H=(n=(t=(0,V.R)({modalId:ti.f.VIDEO})).isOpen,a=t.onOpen,u=t.onClose,p=(m=(0,Z.Z)((0,C.useState)(-1),2))[0],x=m[1],f=n&&-1!==p,g=(v=(0,eL.d)()).isOpen,j=v.onOpen,b=v.onClose,N=((0,l.V)({apiMethod:ts,disabled:!f}).data||{}).reactions,w=(_=(0,Z.Z)((0,C.useState)(N),2))[0],y=_[1],(0,C.useEffect)(function(){y(N)},[N]),P=((k=null==B?void 0:B[p])||{}).postId,I=f&&w&&w[P],{isOpenVideoModal:f,isOpenVideoEndedModal:g,activePost:k,activePostReaction:I,hasPreviousPost:S=0!==p,hasNextPost:L=!(0,o.x)(B)&&p!==B.length-1,handleClickVideoItem:function(e){return function(){x(e),a()}},handleCloseModal:function(){x(-1),u()},handleToNextPost:function(){return x(function(e){return L?e+1:e})},handleToPreviousPost:function(){return x(function(e){return S?e-1:e})},handleOnVideoEnded:function(){L||j()},toPostWithIndex:function(e){return x(e)},onCloseVideoEndedModal:b,handleUpdateActivePostIsLiked:function(e){I&&y((0,i.Z)((0,s.Z)({},w),(0,U.Z)({},P,(0,i.Z)((0,s.Z)({},I),{isPostLiked:e}))))},handleUpdateActivePostIsAuthorFollowed:function(e){I&&y((0,i.Z)((0,s.Z)({},w),(0,U.Z)({},P,(0,i.Z)((0,s.Z)({},I),{isAuthorFollowed:e}))))}}),J=H.isOpenVideoModal,W=H.isOpenVideoEndedModal,X=H.activePost,G=H.activePostReaction,Y=H.hasPreviousPost,$=H.hasNextPost,Q=H.handleClickVideoItem,K=H.handleCloseModal,ee=H.handleToNextPost,et=H.handleToPreviousPost,en=H.handleOnVideoEnded,es=H.toPostWithIndex,ei=H.onCloseVideoEndedModal,er=H.handleUpdateActivePostIsLiked,ea=H.handleUpdateActivePostIsAuthorFollowed;if((0,o.x)(O)&&(0,o.x)(B)||eK.s)return(0,r.jsx)("div",{className:"h-[128px]"});var el=(null==O?void 0:O.map(function(e,t){return(0,r.jsx)(tn,{className:(0,h.d)("ml-3 lg:ml-0",{"mr-2":0===t}),isLiveItem:!0,live:e,itemIndex:t},e.dkLiveId)}))||[],eo=(null==B?void 0:B.map(function(e,t){return(0,r.jsx)(tn,{className:(0,h.d)("ml-3 lg:ml-0",{"mr-2":0===t&&(0,o.x)(O)}),video:e,videoOnClick:Q(t),itemIndex:t},e.postId)}))||[];return(0,r.jsxs)("div",{onClick:function(){return F()},ref:A,children:[(0,r.jsx)(M.l,{sliderProps:{freeMode:!1,disableFreeModeOnDesktop:!0},className:"pt-4",spaceBetween:24,items:(0,T.Z)(el).concat((0,T.Z)(eo))}),(0,r.jsx)(e0.D,{posts:B,isOpen:W,onClose:ei,toPostWithIndex:es}),(0,r.jsx)(e1.K,{toNextPost:ee,toPreviousPost:et,hasNextPost:$,hasPreviousPost:Y,post:X,postReaction:G,isOpen:J,onClose:K,onVideoEnded:en,updateLikeReaction:er,updateAuthorFollowedReaction:ea})]})}tr.getPlaceholder=g("128px");var ta=n(12794),tl=n.n(ta);function to(e){var t=e.index,n=e.product,s=e.columnIndex,i=e.columnLength,a=e.onClick,l=n.id,o=n.title,d=n.image,c=(0,I.U)(s*i+t+1);return(0,r.jsx)("div",{className:"border-complete-200 rounded mb-2 pl-3",children:(0,r.jsx)(N.r,{to:(0,x.H1)({productId:l}),shouldHandleUrlAndOnClick:!0,onClick:a,children:(0,r.jsxs)("div",{className:(0,h.d)("flex",tl().ProductItem),children:[(0,r.jsx)("div",{className:"bg-neutral-100 ml-3 rounded",children:(0,r.jsx)(b.E,{width:72,height:72,src:d.url,alt:d.alt||o,className:"rounded shrink-0 mix-blend-multiply overflow-hidden"})}),(0,r.jsx)("div",{className:(0,h.d)("grow flex flex-col justify-center relative",tl().ProductItem__description),children:(0,r.jsxs)("p",{className:"text-body-2 text-neutral-700 ellipsis-2 overflow-hidden flex justify-start flex-row items-center",children:[(0,r.jsx)("span",{className:"rounded-full text-h5-extra inline-flex justify-center items-center w-5.5 h-5.5 text-white bg-primary-500 ml-2",children:c}),(0,r.jsx)("span",{children:o})]})})]})})})}function td(e){var t,n=e.data,s=q({eventData:(e.utm,e.eventData)}),i=s.viewRef,a=s.onWidgetClick,l=n.description,d=n.icon,c=n.products,u=n.title,m=function(e){var t=e.productItem;return function(){a({itemName:t.title})}},p=c?Array.from({length:Math.floor(c.length/3)},function(e,t){return[c[3*t],c[3*t+1],c[3*t+2]]}):[],x=(0,h.d)("w-full flex flex-col justify-center align-items bg-neutral-000 lg:rounded-large lg:border-complete-200");if((0,o.x)(c))return null;var f=null==p?void 0:null===(t=p.map)||void 0===t?void 0:t.call(p,function(e,t){var n;return(0,r.jsx)("div",{children:null==e?void 0:null===(n=e.map)||void 0===n?void 0:n.call(e,function(n,s){var i=(n||{}).id;return(0,r.jsx)(to,{index:s,onClick:m({productItem:n}),product:n,columnIndex:t,columnLength:null==e?void 0:e.length},i)})})});return(0,r.jsxs)("div",{className:x,ref:i,children:[(0,r.jsx)(eq,{description:l,icon:d.url,title:u}),(0,r.jsx)("div",{className:"flex overflow-x-auto overflow-y-hidden hide-scrollbar",children:(0,r.jsx)(eN.i,{slides:f,spaceBetween:8,slidesOffsetBefore:16,slidesOffsetAfter:16,slidesPerView:1.5,className:"flex-1 w-full"})})]})}td.getPlaceholder=g("344px");var tc=n(5632),tu=n(98050),tm=n(46621),tp=n.n(tm),tx=n(45227),tf=n(32097),th=n(51382),tv=n(12571);function tg(e){return(0,r.jsx)(tu.H,(0,i.Z)((0,s.Z)({},e),{productHasQuickView:!1}))}function tj(e){var t=e.data,n=(0,tc.useRouter)(),i=(0,tf.N)(n.asPath)[tx.Tx.SEARCH_TAB]||th.g;return(0,r.jsx)("article",{className:tp().ProductList__item,children:i===tv.I.FRESH?(0,r.jsx)(tg,(0,s.Z)({},t)):(0,r.jsx)(tu.H,(0,s.Z)({},t))})}function tb(e){var t,n=e.banner,s=e.className,i=e.imageClassName,a=e.disableLazyLoad,l=e.eventData,o=n||{},d=o.image,c=o.title,u=o.url,m=q({eventData:l}),p=m.viewRef,x=m.onWidgetClick,f=(0,h.d)("block h-full w-full",s),v=(0,h.d)(i,"border border-solid border-[#0C0C0C12]");return(0,r.jsx)(N.r,{to:(null==u?void 0:u.url)||"",onClick:(t=n.title,function(){return x({itemName:t})}),shouldHandleUrlAndOnClick:!0,target:"_blank",className:f,children:(0,r.jsx)("div",{ref:p,className:"w-full bg-[rgba(0,0,0,0.04)] flex justify-center items-center rounded-md",children:(0,r.jsx)(b.E,{disableLazyLoad:a,alt:d.alt,title:c,src:d.url,objectFit:"cover",imageClassName:v,className:"user-select-none z-1 top-0 w-full h-full",rounded:8})})})}function tN(e){var t=e.banners,n=e.eventData,s=t.length;return 0===s?null:1===s?(0,r.jsx)("div",{className:"mt-5 mx-4",children:(0,r.jsx)(tb,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"aspect-[5/2]"},t[0].id)}):2===s?(0,r.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,r.jsx)(tb,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"aspect-[5/2]"},t[0].id),(0,r.jsx)(tb,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"aspect-[5/2]"},t[1].id),";"]}):3===s?(0,r.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,r.jsx)(tb,{banner:t[0],disableLazyLoad:!0,imageClassName:"aspect-[5/2]"},t[0].id),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)(tb,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[1].id),(0,r.jsx)(tb,{banner:t[2],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[2].id)]})]}):4===s?(0,r.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)(tb,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[0].id),(0,r.jsx)(tb,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[1].id)]}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)(tb,{banner:t[2],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[2].id),(0,r.jsx)(tb,{banner:t[3],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[3].id)]})]}):null}function t_(e){var t=e.className,n=e.banner,s=e.disableLazyLoad,i=n||{},a=i.image,l=i.title,o=i.url,d=(0,h.d)("block h-full w-full h-[180px]",t);return(0,r.jsx)(N.r,{to:(null==o?void 0:o.url)||"",target:"_blank",className:d,shouldHandleUrlAndOnClick:!0,children:(0,r.jsx)("div",{className:"w-full bg-[rgba(0,0,0,0.04)] flex justify-center items-center rounded-md",children:(0,r.jsx)(b.E,{disableLazyLoad:s,alt:a.alt,title:l,src:a.url,objectFit:"cover",imageClassName:"h-full",className:"user-select-none z-1 top-0 w-full h-[180px]",rounded:8})})})}tj.getPlaceholder=g("300px");var tw=n(48447),ty=n.n(tw),tk=function(e,t,n){var s=Math.max(0,t-Math.floor(e/2)),i=s+e-1;return i>=n&&(s=Math.max(0,(i=n-1)-e+1)),{bullets:Array.from({length:i-s+1},function(e,t){return s+t}),start:s,end:i}};function tC(e){var t=e.total,n=void 0===t?0:t,s=e.current,i=void 0===s?0:s,a=tk(6,i-1,n),l=a.bullets,o=a.start,d=a.end,c=(0,h.d)("flex items-center justify-center py-1 px-1.5 absolute rounded-large",ty().MainHomeTopSlider__sliderPagination);return(0,r.jsx)("div",{className:c,children:l.map(function(e,t){return(0,r.jsx)("span",{className:(0,h.d)("rounded-full bg-white transition-all duration-200 opacity-30 ml-1",n<=6?"w-1.5 h-1.5":e===o&&o>0||e===d&&d<n-1?"w-1 h-1":"w-1.5 h-1.5",e+1===i&&"w-3 !opacity-100")},"carousel-indicator-".concat(t))})})}function tP(e){var t=e.slides,n=e.eventData,s=(0,C.useRef)(null),i=(0,Z.Z)((0,C.useState)(!1),2),a=i[0],l=i[1],o=q({eventData:n}).viewRef,d={rootClass:(0,h.d)("flex overflow-hidden relative mt-4",ty().MainHomeTopSlider),navigationContainer:(0,h.d)("absolute right-0 bottom-42 flex items-center z-1",{"opacity-0":!a,"00":a},ty().MainHomeTopSlider__navigator)};return(0,eg.k)(t)?(0,r.jsx)("div",{className:d.rootClass,onMouseEnter:function(){l(!0)},onMouseLeave:function(){l(!1)},ref:o,children:(0,r.jsx)(eN.i,{loop:!0,ref:s,slidesPerView:1.1,effect:"fade",centeredSlides:!0,spaceBetween:8,disableFreeModeOnDesktop:!0,autoplay:!0,navigationButtonClassName:{prev:"hidden hidden",next:"hidden hidden",disabled:"opacity-50 pointer-events-none"},onInit:function(e){e.navigation.update()},useCustomPagination:!0,PaginationComponent:tC,className:"relative w-full dk-main-slider",slides:t.map(function(e,t){var n=e||{},s=n.bannerDestinationWidgetId,i=n.id;return(0,r.jsx)("div",{className:(0,h.d)({"cursor-pointer":s}),onClick:s&&function(){(0,S.X5)(s)},children:(0,r.jsx)(t_,{disableLazyLoad:0===t,banner:e},i||t)})})})}):null}function tI(e){var t=e.image,n=e.link,s=e.title;return(0,r.jsxs)(N.r,{className:"flex flex-col items-center user-select-none w-full",to:n.url,children:[(0,r.jsx)(b.E,{className:"mb-1",src:t.url,width:72,height:72,alt:t.alt}),(0,r.jsx)("p",{className:"text-caption-180 text-neutral-900 ellipsis-2 text-center h-9",children:s})]})}function tS(e){var t=e.numberOfRows,n=e.categories,s=(0,C.useMemo)(function(){return(null==n?void 0:n.length)?Array.from({length:Math.ceil(n.length/t)},function(e,s){return n.slice(s*t,(s+1)*t)}):[]},[n,t]),i=(0,h.d)("w-full bg-neutral-000 flex-wrap gap-4","flex overflow-x-auto flex-nowrap overflow-y-hidden hide-scrollbar");return(0,r.jsxs)("div",{className:i,children:[(0,r.jsx)("div",{})," ",s.map(function(e,t){return(0,r.jsx)("div",{className:"flex flex-col items-center justify-between gap-3",children:e.map(function(e,t){return(0,r.jsx)(tI,{image:e.image,link:e.link,title:e.title},t)})},t)}),(0,r.jsx)("div",{})," "]})}var tL={dkms_banner:function(e){var t=e.data,n=e.eventData,s=t.items,i=t.showType;return(0,eg.k)(s)?"slider"===i?(0,r.jsx)(eP,{slides:s,eventData:n}):"banner"===i?(0,r.jsx)(eb,{banners:s,eventData:n}):null:null},simple_banner:function(e){var t=e.data,n=e.eventData,s=t.items,i=t.showType;return(0,eg.k)(s)?"slider"===i?(0,r.jsx)(tP,{slides:s,eventData:n}):"banner"===i?(0,r.jsx)(tN,{banners:s,eventData:n}):null:null},circle_badge:ev,fresh_touchpoint:function(e){var t=e.data,n=(e.utm,e.eventData),s=(0,eL.d)(),i=s.isOpen,a=s.onOpen,l=s.onClose,o=q({eventData:n}),d=o.onWidgetClick,c=o.viewRef,u=(0,Z.Z)((0,C.useState)(!0),2),m=u[0],p=u[1],x=(0,Z.Z)((0,eS.R)({rootMargin:"-62px 0px 0px 0px"}),2),f=x[0],h=x[1];return((0,C.useEffect)(function(){p(h)},[h]),(0,er.d)(es.X.SUPER_APP_WEB_PILLARS_VIEW))?null:(0,r.jsxs)("div",{className:"mt-4 mx-4",ref:c,children:[(0,r.jsx)("div",{ref:f,onClick:function(){a(),d()},className:"rounded-md relative overflow-hidden cursor-pointer",children:(0,r.jsx)(b.E,{src:t.image.url,alt:t.image.alt,height:74.5,objectFit:"cover"})}),(0,r.jsx)(eJ,{isOpen:i,onDismiss:l}),(0,r.jsx)(ez,{hide:m})]})},touchpoint_group:function(e){var t=e.data,n=q({eventData:(e.utm,e.eventData)}).viewRef,s=t.defaultGroups,i=s.title,a=s.numberOfRows,l={categories:s.items.map(function(e,t){return{id:t,image:e.image,title:e.title,link:e.link}})}.categories;return(0,r.jsxs)("div",{className:"w-full flex flex-col items-center",ref:n,children:[(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(eq,{title:i})}),(0,r.jsx)(tS,{numberOfRows:a,categories:l})]})},divider:function(e){var t=e.data.style;return(0,r.jsx)("hr",{style:t,className:"w-full bg-neutral-100 border-none h-2 mt-4"})},horizontal_products:eX,bnpl_credit:Q,cart_based_products:en,ordered_products:td,mag:eQ,image_carousel:eY,magnet_watch_buy:tr,ads_video:H,emergency_communication:function(e){return(0,r.jsx)(eI.S,{className:"py-3 lg:py-6 px-4",clientPage:"home-page"})},vertical_product_listing:n(65765).C,product:tj};function tT(e){var t=e.widget,n=tL[t.type];return n?(0,r.jsx)(a.Z,{children:(0,r.jsx)(p,{widget:t,Component:n})}):null}function tM(e){var t=e.widget,n=tL[t.type];if(!n)return null;if("data"in t){var a,l=(0,i.Z)((0,s.Z)({},t.eventData),{widgetName:(null===(a=t.eventData)||void 0===a?void 0:a.widgetName)||t.utm});return(0,r.jsx)(n,(0,i.Z)((0,s.Z)({},t),{eventData:l}))}return"url"in t?(0,r.jsx)(tT,{widget:t}):null}},73186:function(e){e.exports={right:"styles_right__bWd56",left:"styles_left__9JtiE"}},83679:function(e){e.exports={VideoEndedModal__item:"styles_VideoEndedModal__item__Wa_x7"}},34479:function(e){e.exports={VideoModalContentFooterOverlay:"styles_VideoModalContentFooterOverlay__Dr7La"}},57194:function(e){e.exports={VideoModalContentHeaderOverlay:"styles_VideoModalContentHeaderOverlay__BR_XF"}},90830:function(e){e.exports={VideoPlayerProgressbar__range:"styles_VideoPlayerProgressbar__range__whAT3"}},50069:function(e){e.exports={slider:"styles_slider__Yi2lt",productCard__image:"styles_productCard__image__Z4T2c",productCard__carouselImage:"styles_productCard__carouselImage__6_HS2",productCard__blendBackground:"styles_productCard__blendBackground__AdTH_",blurOverlay:"styles_blurOverlay__UGkGH",controlButton:"styles_controlButton__ExnC2",controlButtonTransparent:"styles_controlButtonTransparent__BurIf",progressBar:"styles_progressBar__mHKof"}},82276:function(e){e.exports={Bnpl__animation:"styles_Bnpl__animation__NDhdA",show:"styles_show__NNQAp",Bnpl__card:"styles_Bnpl__card__d0gZW","Bnpl__card--debt":"styles_Bnpl__card--debt__UI_7r"}},73585:function(e){e.exports={shortcutsModal__serviceBox:"styles_shortcutsModal__serviceBox__VUoTe"}},88238:function(e){e.exports={MainHomeDeepLinks__moreButton:"styles_MainHomeDeepLinks__moreButton__2S6fb"}},75633:function(e){e.exports={MainHomeTopSlider:"styles_MainHomeTopSlider__dXMAX",MainHomeTopSlider__navigator:"styles_MainHomeTopSlider__navigator__ystIx",MainHomeTopSlider__sliderPagination:"styles_MainHomeTopSlider__sliderPagination__K9AP_",MainHomeTopSlider__sliderPaginationBullet:"styles_MainHomeTopSlider__sliderPaginationBullet__EtcYh","MainHomeTopSlider__sliderPaginationBullet--active":"styles_MainHomeTopSlider__sliderPaginationBullet--active__fQpzn"}},25233:function(e){e.exports={container:"styles_container__MmSW7",container__nowroz:"styles_container__nowroz__tlc6l",innerContainer:"styles_innerContainer__HmNtt",image:"styles_image__tidrw",image__nowroz:"styles_image__nowroz__lV_Eh","image--live":"styles_image--live__MIehF",timeBadge:"styles_timeBadge__w3k31",timeBadge__nowroz:"styles_timeBadge__nowroz__aGxsg",timeBadge__started:"styles_timeBadge__started__JrLn6",timeBadge__started__nowroz:"styles_timeBadge__started__nowroz__NSKmn"}},12794:function(e){e.exports={ProductItem:"styles_ProductItem__Tk9Wv",ProductItem__description:"styles_ProductItem__description__8StpG"}},48447:function(e){e.exports={MainHomeTopSlider:"styles_MainHomeTopSlider___GwmC",MainHomeTopSlider__navigator:"styles_MainHomeTopSlider__navigator__uGyJu",MainHomeTopSlider__sliderPagination:"styles_MainHomeTopSlider__sliderPagination__2wftX",MainHomeTopSlider__sliderPaginationBullet:"styles_MainHomeTopSlider__sliderPaginationBullet__WCKZ_","MainHomeTopSlider__sliderPaginationBullet--active":"styles_MainHomeTopSlider__sliderPaginationBullet--active___M5em"}}},function(e){e.O(0,[3325,5338,3459,4704,5214,6547,6023,8245,960,8872,5088,6057,9896,8880,8065,2017,2105,2075,5494,5517,8266,4327,2915,8027,9774,2888,179],function(){return e(e.s=3083)}),_N_E=e.O()}]);