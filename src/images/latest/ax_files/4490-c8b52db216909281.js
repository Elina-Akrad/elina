(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4490],{43972:function(e,t,n){"use strict";n.d(t,{k:function(){return c}});var s=n(52322),i=n(43997),l=n(31909),r=n(98723),a=n(6013),o=n(72677),d=n(53548);function c(e){var t=e.deepLink,n=e.CROId,c=e.className,u=e.target,m=e.onClick,p=(0,i.v9)(a.p.isLoggedIn),x=t||{},f=x.deepLinksIconUrl,h=x.deepLinksTitle,v=x.deepLinksUrl,g=(0,o.d)("flex flex-col items-center user-select-none my-2 lg:my-0 lg:w-35 w-1/8",c);return(0,s.jsxs)(r.r,{onClick:m,shouldHandleUrlAndOnClick:!0,target:/#supermarkets|#digiplus/.test(v)?"_self":u,to:/my-digipay/.test(v)&&!p?(0,d.U)({toLoginRegisterRoute:!0}):v,className:g,CROId:void 0===n?"hp-ventures-icons":n,children:[(0,s.jsx)(l.E,{src:f,width:52,height:52,alt:h}),(0,s.jsx)("span",{className:"text-caption-strong text-neutral-700 mt-1 text-center px-3 lg:px-4",children:h})]})}},24034:function(e,t,n){"use strict";n.d(t,{A:function(){return x}});var s=n(52322),i=n(57931),l=n(31909),r=n(50603),a=n(66781),o=n(57394),d=n(40565),c=n(80803),u=n(99125),m={src:"/_next/static/media/magnet.144bcb91.svg",height:100,width:84},p=[{title:"امکان تولید محتوا",image:{src:"/_next/static/media/1.3170e1a9.svg",height:56,width:57}},{title:"ویدیوهای نقد و بررسی",image:{src:"/_next/static/media/2.01e66d70.svg",height:56,width:56}},{title:"مشاهده لایو‌ها",image:{src:"/_next/static/media/3.3a18949f.svg",height:56,width:57}}];function x(){var e=(0,c.d)(),t=e.isOpen,n=e.onOpen,x=e.onClose,f=(0,o.J)({action:u.nL,successCallback:x}),h=f.request,v=f.pending;return(0,d.x)([{event:a.bl,handler:n}]),(0,s.jsxs)(r.Modal,{headerTitle:"فعال‌سازی مگنت",isOpen:t,onDismiss:x,hasFooterTopShadow:!1,footer:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(i.z,{className:"flex-1 ml-2",size:"large",color:"primary",onClick:function(){return h({})},loading:v,disabled:v,children:"فعال‌سازی"}),(0,s.jsx)(i.z,{size:"large",className:"flex-1",color:"primary",shape:"outlined",onClick:x,children:"فعلا نه"})]}),childrenClassName:"flex flex-col items-center px-5 py-4",children:[(0,s.jsx)(l.E,{src:m,className:"mb-4"}),(0,s.jsx)("p",{className:"mb-4 text-body-1 text-neutral-900",children:"برای استفاده کامل از امکانات مگنت باید آن را فعال کنید."}),(0,s.jsx)("div",{className:"flex items-center gap-3 w-full",children:p.map(function(e,t){var n=e.title,i=e.image;return(0,s.jsxs)("div",{className:"flex flex-col items-center flex-1 text-center",children:[(0,s.jsx)(l.E,{src:i,className:"mb-2"}),(0,s.jsx)("span",{children:n})]},t)})})]})}},31192:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var s=n(52322),i=n(98780),l=n(72677),r=n(73186),a=n.n(r);function o(e){var t=e.className,n=e.direction,r=e.onClick,o="chevron".concat(n[0].toUpperCase()).concat(n.slice(1));return(0,s.jsx)("div",{onClick:r,className:(0,l.d)(t,"p-2 rounded-circle border-complete absolute bottom-0 top-0 m-auto h-max bg-neutral-000 cursor-pointer",a()[n]),children:(0,s.jsx)(i.J,{icon:o,color:"low-emphasis",size:24})})}},48442:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var s=n(52322),i=n(31909),l=n(98723),r=n(371),a=n(26442),o=n(72677),d=n(71390),c=n(51383),u=n(99036);function m(e){var t=e.className,n=e.user,m=e.descriptionSlot,p=e.backButtonOnClick,x=e.onSuccessFollowed,f=n||{},h=f.username,v=f.photo,g=f.isFollowing;return(0,s.jsxs)("div",{className:(0,o.d)(t,"flex justify-between items-center w-full"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(r.x,{color:"white",onClick:p}),(0,s.jsxs)(l.r,{className:"mr-5 flex items-center",to:(0,a.kK)(h),children:[(0,s.jsx)(i.E,{className:"shrink-0",imageClassName:"rounded-circle",image:v,src:d.C,height:40,width:40}),(0,s.jsxs)("div",{className:"mr-2",children:[(0,s.jsx)("p",{className:"text-h5 text-neutral-100",children:h}),m]})]})]}),(0,s.jsx)(c.P,{children:(0,s.jsx)(u.n,{isFollowing:g,username:h,color:"white",size:"small",onSuccess:x})})]})}},73066:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var s={NOT_STARTED:"not_started",STARTED:"started"}},48607:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var s=n(66383),i=n(2784);function l(e){var t=e.onSwipedRight,n=e.onSwipedLeft,l=e.onSwipedUp,r=e.onSwipedDown,a=e.minSwipeDistance,o=void 0===a?75:a,d=(0,s.Z)((0,i.useState)(0),2),c=d[0],u=d[1],m=(0,s.Z)((0,i.useState)(0),2),p=m[0],x=m[1],f=(0,s.Z)((0,i.useState)(0),2),h=f[0],v=f[1],g=(0,s.Z)((0,i.useState)(0),2),j=g[0],b=g[1];return{onTouchStart:function(e){x(0),b(0),u(e.targetTouches[0].clientX),v(e.targetTouches[0].clientY)},onTouchMove:function(e){x(e.targetTouches[0].clientX),b(e.targetTouches[0].clientY)},onTouchEnd:function(){if(c&&p&&h&&j){var e=c-p,s=h-j;e>o&&n&&n(),e<-o&&t&&t(),s>o&&l&&l(),s<-o&&r&&r()}}}}},84941:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var s=n(70582),i=n(79968),l=n(96207);function r(e){var t=e.data||{},n=t.id,r=t.title,a=t.slug,o=t.cover,d=t.start_time,c=t.persian_calendar,u=t.countdown_text,m=t.badge_text,p=t.status,x=t.user,f=t.subscribed,h=t.link;return{dkLiveId:n,dkLiveTitle:r,dkLiveSlug:a,dkLiveCover:(0,s.W)({data:o}),dkLiveStartTime:d,dkLivePersianStartTime:c,dkLiveCountdownText:u,dkLiveBadgeText:m,dkLiveStatus:p,dkLiveUser:(0,l.s)({data:x}),dkLiveSubscribed:f,dkLiveLink:(0,i.f)({data:h})}}},47715:function(e,t,n){"use strict";n.d(t,{r:function(){return C}});var s=n(70865),i=n(96670),l=n(66383),r=n(50930),a=n(52322),o=n(2784),d=n(31909),c=n(50603),u=n(23248),m=n(51383),p=n(98780),x=n(11559),f=n(87049),h=n(6013),v=n(72677),g=n(71390),j=n(45227),b=n(1324),N=n(39368),w=(0,b.q)({url:function(e){var t=e.postId;return"/magnet/posts/".concat(t,"/comments/create/")},transformer:function(e){var t=(e.data||{}).comment;return{comment:(0,N.T)({data:t})}},inputTransformer:function(e){return{comment:e.commentBody}},type:j.XN.POST}),_=n(62075),y=(0,b.q)({url:function(e){var t=e.postId;return"/magnet/posts/".concat(t,"/comments/create/")},transformer:function(e){var t=(e.data||{}).comment;return{comment:(0,N.T)({data:t})}},inputTransformer:function(e){return{comment:e.commentBody,base_comment_id:e.commentId}},type:j.XN.POST});function k(e){var t=e.className,n=e.post,s=e.onCommentSent,i=e.inputDisabled,r=e.inputOnClick,c=e.replyTo,u=n||{},j=u.postId,b=u.postAuthor,N=(0,l.Z)((0,o.useState)(""),2),k=N[0],C=N[1],P=(0,f.v)(h.p.socialData).socialProfile,I=(0,x.E)({apiMethod:w,onSuccess:function(e){return s(e.comment)}}),L=I.request,S=I.pending,T=(0,x.E)({apiMethod:y,onSuccess:function(e){return s(e.comment)}}),M=T.request,O=T.pending,E=""===k.trim();(0,o.useEffect)(function(){c&&C("@".concat(null==c?void 0:c.username," "))},[c]);var R=function(e){e.preventDefault(),S||O||E||(c?M({postId:j,commentBody:k,commentId:null==c?void 0:c.commentId}):L({postId:j,commentBody:k}),C(""),(0,_.f3)({postId:j,postAuthorId:null==b?void 0:b.authorId}))};return(0,a.jsxs)("form",{onSubmit:R,className:(0,v.d)(t,"p-3 flex items-center gap-3 bg-neutral-100 border-complete rounded-large"),onClick:r,children:[(0,a.jsx)(d.E,{className:"shrink-0",imageClassName:"rounded-circle",image:null==P?void 0:P.socialProfileImage,src:g.C,height:24,width:24}),(0,a.jsx)("input",{className:"w-full border-none text-neutral-600 placeholder-neutral-300",placeholder:"دیدگاه خود را بنویسید ...",onChange:function(e){return C(e.target.value)},value:k,disabled:void 0!==i&&i}),!E&&(0,a.jsx)(m.P,{children:(0,a.jsx)(p.J,{icon:"send",color:S||O?"low-emphasis":"secondary",size:18,onClick:R})})]})}var C=(0,o.memo)(function(e){var t=e.post,n=e.isOpen,m=e.onClose,p=e.commentItemClassName,x=e.commentItemContainerClassName,f=e.inputDisabled,h=e.inputOnClick,v=e.modalClassName,g=e.onBigDataTracker,j=(t||{}).postId,b=(0,l.Z)((0,o.useState)(null),2),N=b[0],w=b[1],_=(0,l.Z)((0,o.useState)([]),2),y=_[0],C=_[1];return(0,o.useEffect)(function(){n&&g&&g(),n||w(null)},[n]),(0,a.jsx)(c.Modal,{header:(0,a.jsx)("span",{className:"text-h5 bg-neutral-000 px-1",children:"دیدگاه‌ها"}),isOpen:n,onDismiss:m,className:v,width:540,footer:(0,a.jsx)(k,{className:"mb-3 lg:mb-0",post:t,onCommentSent:function(e){N?C(function(t){return null==t?void 0:t.map(function(t){if(t.commentId===N.commentId){var n=(0,r.Z)(t.commentTopReplies||[]).concat([e]);return(0,i.Z)((0,s.Z)({},t),{commentTopReplies:n,commentRepliesCount:(t.commentRepliesCount||0)+1})}return t})}):C(function(t){return[e].concat((0,r.Z)(t))}),w(null)},inputDisabled:f,inputOnClick:h,replyTo:N}),onTouchEnd:function(e){e.stopPropagation()},children:(0,a.jsx)(u.D,{postId:j,disabled:!n,shouldDisplayLoading:!0,loadingClassName:"my-20",commentItemClassName:p,commentItemContainerClassName:x,onReplyClick:function(e,t){w({username:e,commentId:t})},emptyStateElement:(0,a.jsxs)("div",{className:"my-15 flex flex-col gap-3 justify-center items-center",children:[(0,a.jsx)(d.E,{src:"/statics/img/svg/empty-comments.svg",width:256,height:192,alt:"empty-comments"}),(0,a.jsx)("p",{className:"text-color-700 text-body-1",children:"اولین نفری باش که دیدگاه می‌نویسد!"})]}),setAllComments:C,allComments:y})})})},98544:function(e,t,n){"use strict";n.d(t,{D:function(){return x}});var s=n(52322),i=n(57931),l=n(31909),r=n(98723),a=n(50603),o=n(97411),d=n(26442),c=n(72677),u=n(71390),m=n(83679),p=n.n(m);function x(e){var t=e.posts,n=e.isOpen,m=e.onClose,x=e.toPostWithIndex;return(0,s.jsx)(a.Modal,{width:600,isOpen:n,onDismiss:m,hasFooterTopShadow:!1,headerTitle:"تماشای دوباره!",footer:(0,s.jsx)(i.z,{to:(0,d.ws)(),className:"w-full",children:"بازگشت به دیجی کالا"}),children:(0,s.jsx)(o.l,{items:t.map(function(e,t){var n,i,a,o,f;return(0,s.jsxs)("div",{className:"relative shrink-0 rounded-large overflow-hidden ml-2",onClick:function(){x(t),m()},children:[(0,s.jsx)(l.E,{objectFit:"cover",height:280,width:150,image:null===(n=e.postMedia)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:i.postMediaSmallCover}),(0,s.jsxs)(r.r,{to:(0,d.kK)(null===(a=e.postAuthor)||void 0===a?void 0:a.authorUsername),className:(0,c.d)(p().VideoEndedModal__item,"flex flex-col gap-2 absolute bottom-0 left-0 right-0 min-h-25 px-2 pb-3 pt-2"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.E,{className:"shrink-0",imageClassName:"rounded-circle",image:null===(o=e.postAuthor)||void 0===o?void 0:o.authorPhoto,src:u.C,height:32,width:32}),(0,s.jsx)("p",{className:"text-body-1 text-white",children:null===(f=e.postAuthor)||void 0===f?void 0:f.authorUsername})]}),(0,s.jsx)("p",{className:"text-body2-strong text-white ellipsis-2",children:e.postTitle})]})]},e.postId)})})})}},59615:function(e,t,n){"use strict";n.d(t,{K:function(){return $}});var s=n(52322),i=n(2784),l=n(37149),r=n.n(l),a=n(64177),o=n(15585),d=n(72677),c=n(24034),u=n(31192),m=n(62075),p=n(70865),x=n(96670),f=n(66383),h=n(842),v=n(8830),g=n(98634),j=n(48442),b=n(42729),N=n(48607),w=n(98780),_=n(51383),y=n(96879),k=n(84714),C=n(47715),P={isLiked:{iconColor:"primary",iconName:"favoriteOn"},isDisliked:{iconColor:"white",iconName:"favoriteOff"}};function I(e){var t=e.className,n=e.post,i=e.postReaction,l=e.isOpenCommentModal,r=e.onOpenCommentModal,a=e.onCloseCommentModal,o=e.onSuccessLike,c=n||{},u=c.postCommentsCount,f=c.postId,h=c.postAuthor,v=(0,k.g)((0,x.Z)((0,p.Z)({},n),{postUserReaction:{isLiked:null==i?void 0:i.isPostLiked}}),o),g=v.handleLikePost,j=v.isLiked,b=v.likesCount,N=j?P.isLiked:P.isDisliked;return(0,s.jsxs)("div",{className:(0,d.d)(t,"flex gap-4 flex-col"),children:[(0,s.jsx)(_.P,{children:(0,s.jsxs)("span",{className:"cursor-pointer text-white flex flex-col items-center text-body-strong",onClick:function(){g(),(0,m.gj)({postId:f,postAuthorId:null==h?void 0:h.authorId})},children:[(0,s.jsx)(w.J,{color:N.iconColor,size:24,icon:N.iconName}),(0,s.jsx)(y.I,{value:b})]})}),(0,s.jsxs)("span",{className:"cursor-pointer text-white flex flex-col items-center text-body-strong",children:[(0,s.jsx)(w.J,{color:"white",size:24,icon:"comment",onClick:r}),(0,s.jsx)(y.I,{value:u})]}),(0,s.jsx)(C.r,{postId:f,post:n,isOpen:l,onClose:a,onBigDataTracker:function(){return(0,m.W0)({postId:f,postAuthorId:null==h?void 0:h.authorId})}})]})}var L=n(5046);function S(e){var t=e.className,n=e.post;return(0,s.jsx)("div",{className:(0,d.d)(t,"relative h-full"),children:(0,s.jsx)(L.l,{shouldDisplayShowMore:!1,titleColor:"text-neutral-100",captionColor:"text-neutral-100",post:n})})}var T=n(11559),M=n(92428),O=n(41435),E=n(36155),R=n(14052),D=n(52483),z=n(45227),Z=(0,n(1324).q)({url:"magnet/affiliate/",type:z.XN.POST,inputTransformer:function(e){return{post_id:e.postId,product_id:e.productId}}});function B(e){var t,n,l=e.className,r=e.products,a=e.postId,o=e.postAuthorId,c=(0,v.R)({modalId:b.f.VIDEO_BABY_PDP}),u=c.isOpen,h=c.onClose,g=c.onOpen,j=(0,f.Z)((0,i.useState)({productId:null,product:null}),2),N=j[0],w=j[1],_=(0,T.E)({apiMethod:E.z,onSuccess:function(e){var t=e.product;w(function(e){return(0,x.Z)((0,p.Z)({},e),{product:t})}),g()}}),y=_.request,k=_.pending,C=(0,T.E)({apiMethod:Z}).request,P=(0,i.useRef)(null),I=!1;return(0,O.x)(r)?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,d.d)(l,"flex gap-2 overflow-x-auto overflow-y-auto hide-scrollbar bg-neutral-900 p-2"),onMouseDown:function(e){I=!0,t=e.pageX-P.current.offsetLeft,n=P.current.scrollLeft},onMouseLeave:function(e){I=!1},onMouseUp:function(e){I=!1},onMouseMove:function(e){if(I){e.preventDefault(),e.stopPropagation();var s=e.pageX-P.current.offsetLeft;P.current.scrollLeft=n-(s-t)*3}},ref:P,children:r.map(function(e,t){var n=e.productId,i=e.productImage,l=e.productTitle;return(0,s.jsx)(R.z,{loading:k&&n===N.productId,className:"ml-2 lg:ml-0 select-none",onClick:function(){w(function(e){return(0,x.Z)((0,p.Z)({},e),{productId:n})}),y({productId:n}),C({productId:n,postId:a}),(0,m.ah)({productId:n,postId:a,postAuthorId:o,placeIndex:t})},productImage:i,productTitle:l},n)})}),N.product&&(0,s.jsx)(D.J,{onAddToCart:function(e){(0,m.q_)({productId:e,postId:a,postAuthorId:o})},onShowMoreClicked:function(e){(0,m.dE)({productId:e,postId:a,postAuthorId:o})},isOpenModal:u,closeModal:function(){w({product:null,productId:null}),h()},product:N.product,type:M.J.MAGNET_LIVE})]})}var A=n(72610),F=n(7208);function H(e){var t=e.className,n=e.postMedia,l=e.videoTimer,r=e.setVideoTimer,a=e.playerRef,o=e.isPlaying,c=e.mediaUrl,u=(0,f.Z)((0,i.useState)(!1),2),m=u[0],h=u[1],v=(n||{}).postMediaUrl;return(0,s.jsxs)("div",{className:(0,d.d)(t,"relative"),onClick:function(e){e.stopPropagation(),h(function(e){return!e})},children:[(0,s.jsx)(A.g,{className:"absolute inset-0 mx-auto my-auto z-[-1]"}),(0,s.jsx)(F.Y,{url:v||c,height:"100%",width:"100%",ref:a,playing:o,muted:m,loop:!0,onDuration:function(e){r((0,x.Z)((0,p.Z)({},l),{duration:Math.floor(e)}))},onProgress:function(e){var t=e.playedSeconds,n=e.played;o&&r((0,x.Z)((0,p.Z)({},l),{playedSeconds:t,playedPercent:Math.floor(100*n)})),n>=.997&&setTimeout(function(){n>=.997&&a.current.seekTo(0,"seconds")},1e3)}}),m&&(0,s.jsx)(w.J,{color:"white",icon:"speakerMuted",className:"absolute right-0 left-0 top-0 bottom-0 m-auto w-max h-max",size:75})]})}var U=n(34479),V=n.n(U);function J(e){var t=e.className;return(0,s.jsx)("div",{className:(0,d.d)(t,V().VideoModalContentFooterOverlay)})}var W=n(57194),X=n.n(W);function q(e){var t=e.className;return(0,s.jsx)("div",{className:(0,d.d)(t,X().VideoModalContentHeaderOverlay)})}function G(e){var t,n,l,r=e.className,a=e.post,o=e.postReaction,c=e.onCloseVideoModal,u=e.onVideoEnded,w=e.toPreviousPost,_=e.toNextPost,y=e.updateLikeReaction,k=e.updateAuthorFollowedReaction,C=(0,v.R)({modalId:b.f.VIDEO_COMMENTS}),P=C.isOpen,L=C.onOpen,T=C.onClose,M=(0,i.useRef)(null),O=(0,f.Z)((0,i.useState)({duration:0,playedSeconds:0,playedPercent:0}),2),E=O[0],R=O[1],D=(0,i.useRef)(!1);(0,i.useEffect)(function(){if(E.playedPercent>95)D.current&&(D.current=!1);else if(E.playedSeconds>3&&!D.current){var e;(0,m.Qt)({postId:null==a?void 0:a.postId,postAuthorId:null===(e=a.postAuthor)||void 0===e?void 0:e.authorId}),D.current=!0}},[E]),(0,i.useEffect)(function(){D.current=!1},[a]);var z=(0,N.Y)({onSwipedRight:_,onSwipedLeft:w}),Z=z.onTouchStart,A=z.onTouchMove,F=z.onTouchEnd,U=(0,f.Z)((0,i.useState)(!0),2),V=U[0],W=U[1],X=(0,i.useCallback)((0,g.Ds)(function(e){var t,n=e.value;null==M||null===(t=M.current)||void 0===t||t.seekTo(n[0]/100,"fraction")},300),[]);return(0,s.jsxs)("div",{className:(0,d.d)(r,"flex flex-col"),children:[(0,s.jsxs)("div",{className:"w-full h-30 relative flex-1",onTouchStart:Z,onTouchMove:A,onTouchEnd:F,children:[(0,s.jsx)(q,{className:"absolute top-0 left-0 right-0 h-20 z-1"}),(0,s.jsx)(j.A,{className:"absolute top-0 left-0 right-0 z-2 px-5 pt-4",user:(0,x.Z)((0,p.Z)({},{username:(t=(null==a?void 0:a.postAuthor)||{}).authorUsername,photo:t.authorPhoto,isFollowing:t.authorIsFollowing}),{isFollowing:null==o?void 0:o.isAuthorFollowed}),onSuccessFollowed:k,backButtonOnClick:c}),(0,s.jsx)(H,{className:"w-full h-full",postMedia:null==a?void 0:null===(n=a.postMedia)||void 0===n?void 0:n[0],videoTimer:E,setVideoTimer:R,playerRef:M,isPlaying:V,onEnded:u}),(0,s.jsxs)("div",{className:"flex flex-col px-5 absolute bottom-0 right-0 left-0 z-2",children:[(0,s.jsx)(J,{className:"absolute inset-0 z-0"}),(0,s.jsxs)("div",{className:"z-1",children:[(0,s.jsxs)("div",{className:"flex items-end justify-between lg:gap-2 gap-4",children:[(0,s.jsx)(S,{post:a}),(0,s.jsx)(I,{post:a,postReaction:o,isOpenCommentModal:P,onOpenCommentModal:L,onCloseCommentModal:T,onSuccessLike:y})]}),(0,s.jsx)(h.Q,{onChange:X,videoTimer:E,onTouchMove:function(){V&&W(!1)},onTouchEnd:function(){W(!0)}})]})]})]}),(0,s.jsx)(B,{className:"shrink-0 grow-0",postId:null==a?void 0:a.postId,postAuthorId:null==a?void 0:null===(l=a.postAuthor)||void 0===l?void 0:l.authorId,products:null==a?void 0:a.postProducts})]})}var Y={overlay:{zIndex:4,backgroundColor:"rgba(0, 0, 0, 0.8)"}};function $(e){var t=e.post,n=e.postReaction,l=e.isOpen,p=e.onClose,x=e.toNextPost,f=e.toPreviousPost,h=e.hasNextPost,v=e.hasPreviousPost,g=e.onVideoEnded,j=e.updateLikeReaction,b=e.updateAuthorFollowedReaction,N=t||{},w=N.postId,_=N.postAuthor,y=(0,i.useRef)(window.innerHeight);(0,o.N)({condition:l});var k=(0,a.C)().isDesktop;(0,i.useEffect)(function(){l&&(0,m._H)({postId:w,postAuthorId:null==_?void 0:_.authorId})},[l]);var C=function(){(0,m.Yk)({postId:w,postAuthorId:null==_?void 0:_.authorId}),p()};return(0,s.jsxs)(r(),{isOpen:l,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:C,className:(0,d.d)("relative w-fit lg:px-20 mx-auto flex justify-center items-center flex-row"),style:Y,children:[k&&h&&(0,s.jsx)(u.E,{className:"my-auto",onClick:x,direction:"left"}),(0,s.jsx)("div",{className:"grow-0 lg:w-90 w-screen",style:k?{height:y.current>760?"720px":"".concat(.95*y.current,"px")}:{height:"".concat(y.current,"px")},children:(0,s.jsx)(G,{onCloseVideoModal:C,onVideoEnded:g,post:t,postReaction:n,className:"w-full h-full",toNextPost:x,toPreviousPost:f,updateLikeReaction:j,updateAuthorFollowedReaction:b})}),k&&v&&(0,s.jsx)(u.E,{className:"my-auto",onClick:f,direction:"right"}),(0,s.jsx)(c.A,{})]})}},842:function(e,t,n){"use strict";n.d(t,{Q:function(){return d}});var s=n(52322),i=n(34990),l=n(18577),r=n(73076),a=n(90830),o=n.n(a);function d(e){var t=e.onChange,n=e.videoTimer,a=e.onTouchMove,d=e.onTouchEnd,c=e.className,u=n.playedPercent,m=n.playedSeconds,p=(0,l.ox)(m),x=p.hours,f=p.minutes,h=p.seconds,v=0===Math.floor(Number((0,r.d)(x)))?"":"".concat(x,":"),g="".concat(v).concat(f,":").concat(h);return(0,s.jsxs)("div",{className:(0,l.dh)("w-full pt-4 pb-3 flex items-center justify-between gap-1",c),onTouchEnd:function(e){return e.stopPropagation()},children:[(0,s.jsx)(i.U,{direction:"ltr",handleClassName:"!bg-white !h-4 !w-4",activeRangeClassName:"!bg-white",rangeClassName:o().VideoPlayerSeeker__range,pipClassName:"hidden",min:0,max:100,onChange:t,value:[u],onTouchMove:a,onTouchEnd:d}),(0,s.jsx)("p",{className:"text-white text-caption-strong w-12 text-left",children:g})]})}},64997:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(52322),i=n(39879),l=n(79593),r=n(6562);function a(e){var t=e.children,n=e.offset,a=e.runOnce,o=e.hasPlaceHolder,d=e.placeholder,c=e.height,u=e.isPending,m=e.id;return l.s?(0,s.jsx)("div",{id:m,children:t}):u?(0,s.jsx)(r.I,{id:m}):(0,s.jsx)(i.ZP,{height:void 0===c?200:c,once:void 0===a||a,offset:void 0===n?100:n,placeholder:d||(void 0===o||o)&&(0,s.jsx)(r.I,{id:m}),children:(0,s.jsx)("div",{id:m,children:t})})}},6562:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var s=n(52322),i=n(72610),l=n(72677);function r(e){var t=e.className,n=e.id,r=(0,l.d)("py-4 flex items-center justify-center border-complete rounded-small my-4",t);return(0,s.jsx)("div",{className:r,id:n,children:(0,s.jsx)(i.g,{size:36})})}},71338:function(e,t,n){"use strict";n.d(t,{S:function(){return x}});var s=n(52322),i=n(99345),l=n(43847),r=n(1324),a=(0,r.q)({url:"/social/v1/notification-center/announcement/message/",transformer:function(e){var t=e.data||{};return{title:t.title,description:t.description,icon:t.icon,color:t.color,emphasis:t.emphasis,size:t.size}},inputTransformer:function(e){return{cityId:e.cityId,stateId:e.stateId,clientPage:e.clientPage}},baseURL:function(){return l.V.GATEWAY_API_BASE_URL}}),o=n(72873),d=n(87049),c=n(83050),u=n(6013),m=n(41435),p=(0,r.q)({url:"/magnet/notification-center/announcement/message/",transformer:function(e){var t=e.data||{};return{title:t.title,description:t.description,icon:t.icon,color:t.color,emphasis:t.emphasis,size:t.size}},inputTransformer:function(e){return{cityId:e.cityId,stateId:e.stateId,clientPage:e.clientPage}}});function x(e){var t=e.className,n=e.clientPage,l=e.gateway,r=(0,d.v)(u.p.isLoggedIn),x=(0,d.v)(u.p.userCity),f=(0,d.v)(u.p.userState),h=(0,d.v)(c.E.userDefaultCity),v=r?null==x?void 0:x.cityId:null==h?void 0:h.cityId,g=r?null==f?void 0:f.stateId:null==h?void 0:h.cityStateId,j=(0,o.V)({apiMethod:l?a:p,apiData:{cityId:v,stateId:g,clientPage:n},dependencies:[v,g,n],disabled:!n}),b=j.data,N=j.pending,w=j.hasError;if(N||!v||!g||w||(0,m.x)(b)||!(null==b?void 0:b.description))return null;var _=b||{},y=_.title,k=_.description,C=_.icon,P=_.color,I=_.emphasis,L=_.size;return(0,s.jsx)("div",{className:t,children:(0,s.jsx)(i.kW,{color:P||"warning",emphasis:I||"tonal",size:L||"xl",title:y,description:k,rightIcon:C})})}},97721:function(e,t,n){"use strict";n.d(t,{B:function(){return m}});var s=n(66383),i=n(52322),l=n(5632),r=n.n(l),a=n(3005),o=n(1964),d=n(72677),c=n(3336),u={timerText:"text-subtitle-strong text-white w-1",timerSubText:"text-caption text-neutral-500",timerItem:"flex flex-col items-center justify-center bg-white w-[26px] h-[26px] rounded-sm",timer:"flex justify-center items-center text-subtitle-strong text-neutral-800 text-center w-[20px] h-[20px]",container:"flex gap-[2px] items-center right-0 h-6"};function m(e){var t=e.time,n=e.className,l=(0,a.J)(o.k.getCurrentDateTime().getTime()+t,{},r().reload),m=l&&(0,c.H)(l)&&l.split(":")||[],p=(0,s.Z)(m||[],3),x=p[0],f=p[1],h=p[2];return(0,i.jsxs)("div",{className:(0,d.d)(u.container,n),children:[(0,i.jsx)("div",{className:u.timerItem,children:(0,i.jsx)("div",{className:u.timer,children:x})}),(0,i.jsx)("div",{className:u.timerText,children:":"}),(0,i.jsx)("div",{className:u.timerItem,children:(0,i.jsx)("div",{className:u.timer,children:f})}),(0,i.jsx)("div",{className:u.timerText,children:":"}),(0,i.jsx)("div",{className:u.timerItem,children:(0,i.jsx)("div",{className:u.timer,children:h})})]})}},65765:function(e,t,n){"use strict";n.d(t,{C:function(){return q}});var s=n(47842),i=n(70865),l=n(96670),r=n(26297),a=n(66383),o=n(23945),d=n(52322),c=n(2784),u=n(5632),m=n(57931),p=n(1958),x=n(27174),f=n(73092),h=n(90713),v=n(94301),g=n(5769),j=n(38416),b=n(46621),N=n.n(b),w=n(50030),_=n(15847),y=n(96057),k=n(45227),C=n(64665),P=n(88413),I=n(93008),L=n(43202),S=n(26442),T=n(16991),M=n(64177),O=n(51275),E=n(42306),R=n(9406),D=n(22848),z=n(72762),Z=n(41435),B=n(72677),A=n(50020),F=n(5759),H=n(97638),U=n(16332),V=n(23075),J=n(59641),W={},X={};function q(e){var t,n=e.fetchNextPage,b=e.data,q=e.hasNextPage,G=e.params,Y=e.changeParams,$=e.pageNumber,Q=e.pending,K=e.pages,ee=e.stickySlot,et=e.sidebarSlot,en=e.stickyBottomSlot,es=e.didYouMeans,ei=e.pendingAutoComplete,el=e.handelDisplayResult,er=e.categoryResultSearch,ea=e.hasSearchInstead,eo=e.advertisementProducts,ed=e.advertisementBrand,ec=e.advertisementSponsoredBrand,eu=e.enableRequest,em=e.hideTopFilters,ep=e.hideMobilePagination,ex=b||W,ef=ex.sort,eh=ex.pager,ev=ex.filters,eg=ex.category,ej=ex.textLenzEligibility,eb=G||W,eN=eb[L.uR],ew=eb[L.tn],e_=(eb[L.fH],(0,r.Z)(eb,[L.uR,L.tn,L.fH].map(o.Z))),ey=(0,M.C)().isDesktop,ek=(0,R.e)(),eC=(0,F.h)(ew);(0,c.useEffect)(function(){eC&&G.previous_page_slots_count&&!Q&&Y(function(e){return e.previous_page_slots_count,(0,r.Z)(e,["previous_page_slots_count"])})},[eC,Q,Y,G.previous_page_slots_count]);var eP=(0,O.pL)()||{},eI=eP.cartPayablePrice,eL=eP.cartPrice,eS=(0,c.useRef)(),eT=(0,J.a)({term:"search/ai"});(0,c.useLayoutEffect)(function(){if((0,E.d)(C.X.LITE_PLP_PRESERVE_SCROLL)){var e=X[window.location.href];if("number"==typeof e){var t=function(){window.scrollTo(0,e),u.Router.events.off("routeChangeComplete",t)};return u.Router.events.on("routeChangeComplete",t),function(){u.Router.events.off("routeChangeComplete",t)}}}},[]),(0,c.useEffect)(function(){if((0,E.d)(C.X.LITE_PLP_PRESERVE_SCROLL)){var e=function(){X[window.location.href]=window.scrollY};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}},[]);var eM=(0,c.useMemo)(function(){return!ey||!Q&&(0,Z.x)(ev)||ek},[ey,Q,ev,ek]),eO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withSidebar,n=void 0!==t&&t,s=(0,M.C)(),i=s.windowWidth,l=s.isDesktop;return{columns:(0,c.useMemo)(function(){return n?i>=T.j.XL4?5:i>=T.j.XL3?4:i>=T.j.XL?3:i>=T.j.LG||i>=T.j.SM?2:1:i>=T.j.XL4?6:i>=T.j.XL?5:i>=T.j.LG?3:i>=T.j.SM?2:1},[i,n]),windowWidth:i,isDesktop:l}}({withSidebar:!0}),eE=eO.columns,eR=eO.windowWidth,eD=(0,c.useRef)(eE);(0,c.useEffect)(function(){Y&&0!==eR&&(eD.current!==eE||!G.columns_per_page||G.columns_per_page!==eE.toString())&&(eD.current=eE,Y(function(e){var t=e||G,n=(t.previous_page_slots_count,(0,r.Z)(t,["previous_page_slots_count"]));return(0,l.Z)((0,i.Z)({},n),{columns_per_page:eE,q:(null==G?void 0:G.q)||(null==e?void 0:e.q)})})),G.columns_per_page&&(null==eu||eu())},[eE,Y,eR,G.columns_per_page,eu]);var ez=$>=I.yo||eC,eZ=(0,c.useMemo)(function(){if(Array.isArray(K))return($>I.yo||eC?[[$.toString(),K[$-1]]]:K.map(function(e,t){return[(t+1).toString(),e]})).filter(function(e){var t=(0,a.Z)(e,2)[1];return!(0,A.k)(t)&&!(0,Z.x)(t)});var e,t=Object.entries(K||{});return($>I.yo||eC?[[$.toString(),null===(e=t.find(function(e){return(0,a.Z)(e,1)[0]===$.toString()}))||void 0===e?void 0:e[1]]]:t).filter(function(e){var t=(0,a.Z)(e,2)[1];return!(0,A.k)(t)&&!(0,Z.x)(t)})},[K,$,eC]),eB=(0,c.useMemo)(function(){var e;return!Q&&!!eh&&(null!==(e=null==eh?void 0:eh.pagerTotalItems)&&void 0!==e?e:0)===0},[Q,eh]),eA=!(0,c.useMemo)(function(){return!Q&&(0,Z.x)(b)},[Q,b]);(0,c.useEffect)(function(){return document.body.classList.add("overscroll-y-none"),function(){document.body.classList.remove("overscroll-y-none")}},[]);var eF=(0,a.Z)((0,c.useState)(!1),2),eH=eF[0],eU=eF[1];(0,c.useLayoutEffect)(function(){var e=function(){eS.current&&eU(eS.current.getBoundingClientRect().top<0)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[eS]);var eV=(0,c.useMemo)(function(){return(0,Z.x)(ev)?null:eA&&(0,E.d)(C.X.AB_TEST_FILTER_NEW_DESIGN)&&!ey?(0,d.jsx)(w.x,{sort:(0,l.Z)((0,i.Z)({},ef),{sortActiveOptionId:eN}),pager:eh,pending:Q,filters:ev,params:G,changeParams:Y,category:eg,isScrolledPage:eH,textLenzEligibility:ej}):(0,d.jsx)(g.z,{sort:(0,l.Z)((0,i.Z)({},ef),{sortActiveOptionId:eN}),pager:eh,pending:Q,filters:ev,params:e_,changeParams:Y,category:eg})},[eA,eg,Y,ev,ey,eH,e_,eh,G,Q,ef,eN,ej]);return(0,d.jsxs)("div",{id:"ProductListPagesWrapper",className:(0,B.d)("relative w-full flex flex-col lg:flex-row items-center lg:items-stretch justify-between",N().ProductList__wrapper),ref:eS,children:[(0,d.jsxs)("section",{className:"w-full grow relative",children:[!(void 0!==em&&em)&&(0,d.jsx)("div",{className:"lg:static sticky lg:top-14 bg-neutral-000 z-2 top-16",children:eV}),!ey&&(0,Z.x)(ea)&&er&&!(0,D.J)()&&!eT&&!(0,Z.x)(ev)&&(0,d.jsx)(x.m,{handelDisplayResult:el,categories:er,pending:ei}),!ey&&(!(0,Z.x)(eo)||!(0,Z.x)(ed))&&!eT&&(0,d.jsx)(V.y,{advertisement:ec,position:P.BE.TOP_FILTER,className:(0,B.d)("mb-0 lg:mb-5 -mx-5 lg:mx-0",{"border-complete-t-200":(0,Z.x)(ea)&&er})}),!ey&&eh&&!(void 0!==ep&&ep)&&(0,d.jsx)(_.L,{totalItems:null==eh?void 0:eh.pagerTotalItems,pending:Q}),(0,d.jsxs)("div",{className:(0,B.d)(N().ProductList__pagesContainer,(t={},(0,s.Z)(t,N()["ProductList__pagesContainer--withSidebar"],!eM||ek),(0,s.Z)(t,N()["ProductList__pagesContainer--withoutSidebar"],eM||!ek),t)),children:[eB?(0,d.jsx)("div",{className:N().ProductList__emptyWrapper,children:(0,d.jsx)(f.T,{})}):eZ.map(function(e){var t=(0,a.Z)(e,2),n=t[0],s=t[1].widgets.find(function(e){return"vertical_product_listing"===e.type}),i=((null==s?void 0:s.data)||{}).widgets;return(0,d.jsx)(c.Fragment,{children:(void 0===i?[]:i).map(function(e,t){var s=e.id||"".concat(n,"-").concat(t);return"product"===e.type?(0,d.jsx)(H.O,{widget:e},s):(0,d.jsx)("div",{className:(0,B.d)("overflow-auto ",{"-mx-5 mb-4":"product"!==e.type&&!ey},N().NonProductWidgetWrapper),style:e.size?{gridColumn:"auto / span ".concat(e.size)}:{},children:(0,d.jsx)(H.O,{widget:e})},s)})},n)}),(0,d.jsx)(j.N,{fetchNextPage:function(){!eC&&$<=I.yo&&(e=null==eh?void 0:eh.pagerTotalSlots);var e,t=new URLSearchParams(window.location.search);t.set(k.Tx.PREVIOUS_PAGE_SLOTS_COUNT,e.toString()),t.set(k.Tx.COLUMNS_PER_PAGE,G.columns_per_page.toString()),window.history.replaceState(window.history.state,"","".concat(window.location.pathname,"?").concat(t.toString())),n()},hasNextPage:q,pager:eh,pageNumber:$,pending:Q,showSkeleton:(0,Z.x)(eZ),shouldShowClassicPagination:ez,changeParams:Y})]})]}),!eM&&(0,d.jsxs)("section",{className:(0,B.d)("flex flex-col",N().ProductList__sidebar),children:[(0,d.jsx)(h.I,{className:"mb-4",options:es}),!(0,A.k)(et)&&(0,d.jsx)(U.N,{banner:et,position:P.BE.TOP_FILTER,className:"mb-4"}),(0,d.jsxs)(p.L,{enabled:!0,bottomBoundary:"#ProductListPagesWrapper",children:[!(0,A.k)(ee)&&(0,d.jsx)(y.b,(0,i.Z)({className:"border-complete-200 rounded mb-4",type:I.nL.CPC,enableBigDataTrackerAdClickEvent:!0,enableBigDataTrackerAdViewEvent:!0},ee)),ey&&(0,d.jsx)(v.T,{filters:ev,params:e_,changeParams:Y,pending:Q,category:eg}),(0,d.jsx)("div",{className:"py-3"}),!(0,A.k)(en)&&(0,d.jsx)(U.N,{banner:en,position:P.BE.BOTTOM_FILTER,className:"mb-4"})]})]}),(0,R.e)()&&ey&&(0,d.jsx)("section",{className:(0,B.d)("flex flex-col mt-16",N().ProductList__coupon),children:(0,d.jsx)(p.L,{enabled:!0,bottomBoundary:"#ProductListPagesWrapper",children:(0,d.jsxs)("div",{className:(0,B.d)("border-complete border-neutral-300 p-4 rounded-lg background-white"),children:[(0,d.jsx)("div",{className:"text-neutral-500 text-lg",children:"شما در اینجا جمع هزینه‌ی کالا‌های کالابرگی را بدون احتساب تخفیف کالابرگ مشاهده می‌کنید"}),(0,d.jsx)("div",{className:"border-complete-b border-b-neutral-500 h-1 my-4"}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"flex w-full",children:[(0,d.jsx)("span",{children:"جمع مبلغ سبد کالابرگی"}),(0,d.jsxs)("div",{className:"mr-auto",children:[(0,d.jsxs)("span",{className:"bold",children:[(0,z.j)(eL)," "]}),(0,d.jsx)("span",{className:"font-bold",children:"تومان"})]})]}),(0,d.jsx)(m.z,{className:"mt-4 w-full",disabled:!eI,to:(0,S.qR)(),children:"تایید و تکمیل سفارش"})]})]})})})]})}},97638:function(e,t,n){"use strict";n.d(t,{O:function(){return tM}});var s=n(70865),i=n(96670),l=n(52322),r=n(64997),a=n(72873),o=n(41435),d=n(43847),c=n(1324),u=n(13006),m=(0,c.q)({url:function(e){return e.endpoint},transformer:function(e){var t=e.data;return(0,u.l_)(t)},baseURL:function(){return d.V.API_BASE_URL.replace("/v1","")}});function p(e){var t=e.widget,n=e.Component,i=t.url,r=(0,a.V)({apiData:{endpoint:i},apiMethod:m,disabled:!n}),d=r.data,c=r.pending,u=r.hasError;return c?n.getPlaceholder?n.getPlaceholder():null:u||(0,o.x)(d)||(0,o.x)(d.data)?null:(0,l.jsx)(n,(0,s.Z)({},d),t.type)}var x=n(26442),f=n(64177),h=n(72677),v=n(72610);function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100px";return function(){return(0,l.jsx)("div",{className:"flex items-center justify-center",style:{height:"number"==typeof e?"".concat(e,"px"):e},children:(0,l.jsx)(v.g,{size:32})})}}var j=n(98780),b=n(31909),N=n(98723),w=n(23154),_=n(50069),y=n.n(_);function k(e){var t=e.brand,n=e.isFullScreen,s=void 0!==n&&n,i=e.isDesktop,r=e.onBrandClick,a=e.isInCarouselMode;return(0,l.jsxs)("div",{className:"w-full flex justify-between items-center gap-2",children:[(0,l.jsxs)(N.r,{to:t.url.uri||"/",onClick:function(e){e.stopPropagation(),null==r||r()},shouldHandleUrlAndOnClick:!0,className:(0,h.d)("flex gap-2.5 justify-center items-center bg-app-background-dark rounded-full p-0.5 pl-1.5",{"bg-transparent border-solid border-[1px] border-[#FFFFFF33]":s}),children:[(0,l.jsx)("div",{className:(0,h.d)("flex overflow-hidden rounded-full border-solid border-[1px] border-neutral-200",{"bg-white":s,"p-1.5 bg-white":!t.logo.url[0]}),children:t.logo.url[0]?(0,l.jsx)(b.E,{src:t.logo.url[0],alt:t.titleFa||"",width:i?40:28,height:i?40:28,className:y().productCard__blendBackground}):(0,l.jsx)(j.J,{size:i?20:16,icon:"seller"})}),(0,l.jsxs)("div",{className:"flex justify-center items-center gap-1",children:[(0,l.jsx)("span",{className:(0,h.d)("lg:text-h5-180 text-body1-strong ellipsis-1 mt-[1px]",{"text-neutral-850":!s,"text-app-background-mid-dark":s}),children:t.titleFa||""}),(0,l.jsx)(j.J,{icon:"cube-nav-chevron-left",color:s?"white":"black",size:i?24:20})]})]}),(0,l.jsxs)("div",{className:(0,h.d)("gap-1.5 justify-center items-center",{"sm:flex hidden":!a,flex:a}),children:[(0,l.jsx)(j.J,{icon:"ads",size:i?20:16,color:(0,w.$)("color-ad")}),(0,l.jsx)("span",{className:"inline text-caption-180 lg:text-body-2 text-neutral-500",children:"سفارشی"})]})]})}var C=n(2784),P=n(72762),I=n(52216),L=n(76778),S=(0,C.forwardRef)(function(e,t){var n,s,i,r,a=e.product,o=e.isFullScreen,d=void 0!==o&&o,c=e.onClick,u=(0,f.C)().isDesktop;return(0,l.jsxs)("div",{ref:t,onClick:c,className:(0,h.d)("w-full flex items-start gap-2.5 bg-white rounded-md overflow-hidden",{"p-2":d,"cursor-pointer":!!c}),children:[(0,l.jsx)("div",{className:(0,h.d)("flex flex-col justify-center items-center gap-2.5 lg:rounded-md",y().productCard__image),children:(0,l.jsx)(b.E,{src:(null===(n=a.image)||void 0===n?void 0:n.url)||"",alt:a.title||"",className:(0,h.d)("w-[110px] h-[110px] sm:w-[80px] sm:h-[80px] lg:w-[163px] lg:h-[163px]",y().productCard__blendBackground)})}),(0,l.jsxs)("div",{className:"w-full h-full flex flex-col justify-start items-start gap-2",children:[(0,l.jsx)("div",{className:"sm:hidden flex",children:(0,l.jsx)(k,{brand:a.brand,isDesktop:u})}),(0,l.jsxs)("div",{className:"flex flex-col items-start gap-1.5",children:[(0,l.jsxs)("div",{className:"ellipsis-2 lg:ellipsis-3 relative w-full",children:[(0,l.jsxs)("div",{className:"absolute right-0 top-0.5 flex justify-center items-center gap-1",children:[(0,l.jsx)("div",{className:(0,h.d)("w-4 h-4",{"inline-block sm:hidden":!d,hidden:d}),children:(0,l.jsx)(j.J,{icon:"ads",size:16,color:(0,w.$)("color-ad")})}),(0,l.jsx)("span",{className:(0,h.d)("inline text-caption text-neutral-500",{"sm:hidden":!d,hidden:d}),children:"سفارشی ."})]}),(0,l.jsx)("span",{className:"text-body1-strong-180 lg:text-h5 block sm:!indent-0 text-neutral-650 indent-14 s:indent-16",children:a.title||""})]}),a.rating&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(b.E,{className:"mb-0.5",height:16,width:16,src:"/statics/img/svg/pdp/star.svg",alt:"امتیاز"}),(0,l.jsx)("p",{className:"mr-1 text-body1-strong-compact text-icon-high-emphasis",children:(0,I.U)((0,L.OC)(a.rating.rate))})]})]}),(0,l.jsxs)("div",{className:"w-full flex justify-end items-center gap-1 mt-auto",children:[(null===(s=a.price)||void 0===s?void 0:s.discountPercent)>0&&(0,l.jsx)("div",{className:"flex justify-end items-center gap-1",children:(0,l.jsxs)("span",{className:"inline-block !h-4 px-1.5 pt-0.5 bg-hint-object-error rounded-full text-white text-body1-strong-compact flex justify-center items-center gap-0.5",children:["٪ ",(0,I.U)((null===(i=a.price)||void 0===i?void 0:i.discountPercent)||0)]})}),(0,l.jsxs)("div",{className:"flex gap-1 item-center justify-end text-h3-bold-compact",children:[(0,P.j)((null===(r=a.price)||void 0===r?void 0:r.sellingPrice)||0),(0,l.jsx)(j.J,{className:"flex justify-center items-center",icon:"cube-value-toman",size:16})]})]})]})]})}),T=n(50930),M=n(97411);function O(e){var t=e.products,n=e.isDesktop,s=e.allProductsLink,i=e.onProductClick,r=e.onSeeMoreClick,a=e.useProductViewTracking;return(0,l.jsx)("div",{className:"w-full overflow-auto hide-scrollbar",children:(0,l.jsx)(M.l,{sliderProps:{spaceBetween:1},items:[(0,l.jsx)("div",{className:"pr-0.5 h-1 bg-white"},"spacer-start")].concat((0,T.Z)(t.slice(0,8).map(function(e,t){var s,r,o,d;return(0,l.jsxs)("div",{ref:null==a?void 0:a(e.id,t),onClick:function(n){n.preventDefault(),n.stopPropagation(),null==i||i(e.id,t),setTimeout(function(){window&&window.open((0,x.H1)({productId:e.id}),"_blank")},0)},className:(0,h.d)("flex lg:flex-col gap-1.5 lg:gap-3 rounded-md lg:rounded-none bg-white","sm:w-[301px] sm:min-w-[301px] lg:w-[200px] lg:min-w-[200px] overflow-visible","border-[1px] border-neutral-200 lg:border-complete cursor-pointer"),style:{borderStyle:n?"none none none solid":"solid"},children:[(0,l.jsx)("div",{className:(0,h.d)("lg:bg-white lg:flex lg:w-full lg:justify-center",y().productCard__carouselImage),children:(0,l.jsx)(b.E,{src:(null===(s=e.image)||void 0===s?void 0:s.url)||"",alt:e.title||"",className:(0,h.d)("w-[82px] h-[82px] sm:w-[96px] sm:h-[96px] lg:w-[131px] lg:h-[131px]",y().productCard__blendBackground)})}),(0,l.jsxs)("div",{className:"flex flex-col justify-between items-center gap-1.5 lg:gap-1 pl-2 py-1.5 lg:px-3",children:[(0,l.jsx)("div",{className:"ellipsis-2 lg:ellipsis-3 w-full text-right",children:(0,l.jsx)("span",{className:"inline text-body-2-180 lg:text-caption text-icon-high-emphasis",children:e.title||""})}),(0,l.jsxs)("div",{className:"w-full flex justify-end items-center gap-1 h-5 min-w-[130px]",children:[(null===(r=e.price)||void 0===r?void 0:r.discountPercent)>0&&(0,l.jsx)("div",{className:"flex justify-end items-center gap-1",children:(0,l.jsxs)("span",{className:"!h-4 px-1.5 pt-0.5 bg-hint-object-error rounded-full text-white text-body1-strong-compact flex justify-center items-center gap-0.5 whitespace-nowrap",children:["٪ ",(0,I.U)((null===(o=e.price)||void 0===o?void 0:o.discountPercent)||0)]})}),(0,l.jsxs)("div",{className:"flex gap-1 item-center justify-end text-h5-180 text-neutral-650",children:[(0,P.j)((null===(d=e.price)||void 0===d?void 0:d.sellingPrice)||0),(0,l.jsx)(j.J,{className:"flex justify-center items-center",icon:"cube-value-toman",size:16})]})]})]})]},"product-".concat(e.id||t))})),[t.length>8&&(0,l.jsxs)(N.r,{to:void 0===s?"/":s,shouldHandleUrlAndOnClick:!0,className:"flex flex-col items-center justify-center px-3 lg:px-5 py-1 h-[84px] lg:h-full text-n-800",onClick:function(e){null==r||r()},children:[(0,l.jsx)("div",{className:"p-0.5 border-solid border-[1px] border-neutral-650 rounded-circle",children:(0,l.jsx)(j.J,{icon:"arrowLeft",size:32,color:(0,w.$)("color-neutral-650")})}),(0,l.jsx)("span",{className:"whitespace-nowrap mt-2 text-caption-strong-compact text-neutral-650",children:"مشاهده فروشنده"})]},"see-more"),(0,l.jsx)("div",{className:"pr-0.5 h-1"},"spacer-end")]),navigationButtonSize:"small",hasNavigationButtonsShadow:!0,className:"gap-2.5 lg:gap-0 items-stretch"})})}function E(e){var t=e.products,n=e.isFullScreen,s=void 0!==n&&n,i=e.isDesktop,r=e.onProductClick,a=e.onBrandClick,o=e.onSeeMoreClick,d=e.useProductViewTracking;return t.length?1===t.length?(0,l.jsxs)("div",{className:(0,h.d)("flex sm:flex-col sm:gap-2 lg:gap-5 items-start px-4 pt-3 pb-2 lg:p-0",{"flex-col gap-2":s}),children:[(0,l.jsx)("div",{className:(0,h.d)("w-full",{"hidden sm:flex":!s,flex:s}),children:(0,l.jsx)(k,{brand:t[0].brand,isFullScreen:s,isDesktop:i,onBrandClick:a,isInCarouselMode:!1})}),(0,l.jsx)(S,{product:t[0],isFullScreen:s,ref:null==d?void 0:d(t[0].id,0),onClick:function(){return null==r?void 0:r(t[0].id,0)}})]}):(0,l.jsxs)("div",{className:"flex flex-col gap-2.5 lg:gap-5 items-start pt-3 pb-4 lg:p-0",children:[(0,l.jsx)("div",{className:"flex w-full justify-between items-center gap-2 px-3 lg:px-0",children:t[0]&&(0,l.jsx)(k,{brand:t[0].brand,isInCarouselMode:!0,isFullScreen:s,isDesktop:i,onBrandClick:a})}),(0,l.jsx)(O,{products:t,isDesktop:i,allProductsLink:(0,x.H1)({productId:t[0].id}),onProductClick:r,onSeeMoreClick:o,useProductViewTracking:d})]}):null}var R=n(57931),D=n(7208),z=(0,C.forwardRef)(function(e,t){var n=e.video,s=e.isFullScreen,i=e.isPlaying,r=e.isMute,a=e.showControls,o=e.currentTime,d=e.duration,c=e.progressPercentage,u=e.onProgress,m=e.onDuration,p=e.onPlay,x=e.onPause,f=e.onReady,g=e.onMouseEnter,b=e.onMouseLeave,N=e.togglePlayPause,_=e.toggleMute,k=(e.goFullScreen,e.leaveFullScreen),C=e.handleProgressChange,P=e.formatTime,L=e.videoPosterRef,S=e.videoRef;return(0,l.jsx)("div",{ref:t,className:(0,h.d)("transition-all lg:w-1/2 lg:rounded-md lg:overflow-hidden",{"fixed top-0 left-0 w-screen h-screen z-[999] bg-black flex justify-center items-center":s}),children:(0,l.jsxs)("div",{className:"aspect-[16/9] lg:aspect-[unset] w-full relative flex justify-center items-center h-full",onMouseEnter:g,onMouseLeave:b,children:[(0,l.jsx)(D.Y,{ref:S,url:(null==n?void 0:n.contentUrl)||(null==n?void 0:n.contentUrlMp4)||"",poster:(null==n?void 0:n.thumbnailUrl)||"",className:"relative object-cover object-center",width:"100%",height:"100%",loop:!0,playsinline:!0,muted:r,playing:i,onProgress:u,onDuration:m,onPlay:p,onPause:x,onReady:f}),(0,l.jsx)("div",{ref:L,className:(0,h.d)("absolute top-0 left-0 w-full h-full z-2 flex justify-center items-center",y().blurOverlay),children:(0,l.jsx)(v.g,{color:"white"})}),!s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(R.z,{removePadding:!0,mode:"text",onClick:N,className:"p-3 rounded-full !absolute right-0 top-0",children:(0,l.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButton),children:(0,l.jsx)(j.J,{size:20,color:(0,w.$)("color-app-background-mid-dark"),icon:i?"cube-media-pause":"cube-media-play"})})}),(0,l.jsx)(R.z,{removePadding:!0,mode:"text",onClick:_,className:"p-3 rounded-full !absolute right-0 bottom-0",children:(0,l.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButton),children:(0,l.jsx)(j.J,{size:20,color:(0,w.$)("color-app-background-mid-dark"),icon:r?"cube-device-speaker-off":"cube-device-speaker"})})})]}),s&&(0,l.jsxs)("div",{className:(0,h.d)("absolute bottom-[20px] left-0 w-full bg-gradient-to-t from-black/80 to-transparent transition-opacity duration-300",{"opacity-100":s,"opacity-0":!a&&!s}),onMouseEnter:g,onMouseLeave:b,children:[(0,l.jsx)("div",{className:"px-4",children:(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("input",{type:"range",min:"0",max:"100",value:c,onChange:C,className:(0,h.d)("w-full h-1 bg-white/30 rounded-lg appearance-none cursor-pointer ltr",y().slider,y().progressBar),style:{"--progress-percentage":"".concat(c,"%")}})})}),(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 pb-4",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(R.z,{removePadding:!0,mode:"text",onClick:k,className:"p-2 rounded-full",children:(0,l.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButtonTransparent),children:(0,l.jsx)(j.J,{size:20,color:"white",icon:"cube-action-fullscreen1"})})}),(0,l.jsx)(R.z,{removePadding:!0,mode:"text",onClick:_,className:"p-2 rounded-full",children:(0,l.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButtonTransparent),children:(0,l.jsx)(j.J,{size:20,color:"white",icon:r?"cube-device-speaker-off":"cube-device-speaker"})})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1 text-white text-h5-regular",children:[(0,l.jsx)("span",{children:(0,I.U)(P(o))}),(0,l.jsx)("span",{children:"/"}),(0,l.jsx)("span",{children:(0,I.U)(P(d))})]}),(0,l.jsx)(R.z,{removePadding:!0,mode:"text",onClick:N,className:"p-2 rounded-full",children:(0,l.jsx)("div",{className:(0,h.d)("border-solid border-[1px] rounded-full p-1.5",y().controlButtonTransparent),children:(0,l.jsx)(j.J,{size:20,color:"white",icon:i?"cube-media-pause":"cube-media-play"})})})]})]})]})]})})}),Z=n(66383),B=n(12289),A=n(8155),F=n(15585);function H(e){var t,n,s,i,r,a,o,d,c,u,m,p,v,g,j,b,N,w,_=e.data,y=_||{},k=y.products,P=void 0===k?[]:k,I=y.video,L=(0,f.C)().isDesktop,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoPlayOnVisible,n=void 0===t||t,s=(0,C.useRef)(null),i=(0,C.useRef)(null),l=(0,Z.Z)((0,C.useState)(!0),2),r=l[0],a=l[1],o=(0,Z.Z)((0,C.useState)(!1),2),d=o[0],c=o[1],u=(0,Z.Z)((0,C.useState)(!1),2),m=u[0],p=u[1],x=(0,Z.Z)((0,C.useState)(0),2),f=x[0],h=x[1],v=(0,Z.Z)((0,C.useState)(0),2),g=v[0],j=v[1],b=(0,Z.Z)((0,C.useState)(!1),2),N=b[0],w=b[1],_=(0,Z.Z)((0,B.R)({threshold:.5,rootMargin:"0px"}),2),y=_[0],k=_[1];(0,F.N)({condition:m}),(0,C.useEffect)(function(){!m&&n&&(k?(a(!0),c(!0)):c(!1))},[k,m,n]);var P=function(){a(!1)},I=function(){a(!0)};return{state:{isMute:r,isPlaying:d,isFullScreen:m,currentTime:f,duration:g,showControls:N,progressPercentage:g>0?f/g*100:0},refs:{videoRef:s,videoPosterRef:i,containerRef:y},handlers:{handleProgress:function(e){h(e.playedSeconds)},handleDuration:function(e){j(e)},handlePlay:function(){c(!0)},handlePause:function(){c(!1)},removePoster:function(){var e;null===(e=i.current)||void 0===e||e.remove()},toggleMute:function(){a(!r)},unMute:P,mute:I,togglePlayPause:function(){c(!d)},goFullScreen:function(){p(!0),P()},leaveFullScreen:function(){p(!1),d||(c(!0),I())},handleProgressChange:function(e){var t=s.current;if(t&&g>0){var n=parseFloat(e.target.value)/100*g;t.seekTo(n,"seconds"),h(n)}},handleMouseEnter:function(){return w(!0)},handleMouseLeave:function(){return w(!1)}},formatters:{formatTime:function(e){return"".concat(Math.floor(e/60).toString().padStart(2,"0"),":").concat(Math.floor(e%60).toString().padStart(2,"0"))}},isInViewport:k}}({autoPlayOnVisible:!0}),T=S.state,M=S.refs,O=S.handlers,R=S.formatters,D=(i=(s=_||{}).adsId,r=s.campaignId,o=void 0===(a=s.products)?[]:a,d=(0,C.useRef)(!1),c=(0,C.useRef)(!1),u=(0,C.useRef)(new Set),m=(0,C.useRef)(new Set),p=null===(t=o[0])||void 0===t?void 0:null===(n=t.brand)||void 0===n?void 0:n.id,v=void 0,j=(g=(0,Z.Z)((0,B.R)({threshold:.5,rootMargin:"0px"}),2))[0],g[1],N=(b=(0,Z.Z)((0,B.R)({threshold:.5,rootMargin:"0px"}),2))[0],w=b[1],(0,C.useEffect)(function(){w&&!c.current&&i&&r&&((0,A.e7)({adsId:i,campaignId:r,productIds:o.map(function(e){return e.id}),brandId:p,sellerId:v}),c.current=!0)},[w,i,r,o,p,v]),{videoContainerRef:j,widgetContainerRef:N,useProductViewTracking:function(e,t){var n=(0,Z.Z)((0,B.R)({threshold:.5,rootMargin:"0px"}),2),s=n[0],l=n[1];return(0,C.useEffect)(function(){l&&!u.current.has(e)&&i&&r&&((0,A.ZF)({adsId:i,campaignId:r,productId:e,brandId:p,sellerId:v,index:t>=0?t+1:void 0}),u.current.add(e))},[l,e,t,i,r,p,v]),s},handleVideoClick:function(){if(i&&r){var e="video_click";m.current.has(e)||(1===o.length?(0,A.tQ)({adsId:i,campaignId:r,productId:o[0].id,brandId:p,sellerId:v}):(0,A.tQ)({adsId:i,campaignId:r,brandId:p,sellerId:v}),m.current.add(e),setTimeout(function(){m.current.delete(e)},1e3))}},handleProductClick:function(e,t){if(i&&r){var n="product_click_".concat(e);m.current.has(n)||((0,A.CM)({adsId:i,campaignId:r,productId:e,brandId:p,sellerId:v,index:t>=0?t+1:void 0}),m.current.add(n),setTimeout(function(){m.current.delete(n)},1e3))}},handleBrandClick:function(){if(i&&r){var e="brand_click";m.current.has(e)||((0,A.BD)({adsId:i,campaignId:r,brandId:p,sellerId:v}),m.current.add(e),setTimeout(function(){m.current.delete(e)},1e3))}},checkVideoViewEvent:function(e){e>=3&&!d.current&&i&&r&&((0,A.tU)({adsId:i,campaignId:r,productIds:o.map(function(e){return e.id}),brandId:p,sellerId:v}),d.current=!0)},handleSeeMoreClick:function(){if(i&&r){var e="see_more_click";m.current.has(e)||((0,A.tQ)({adsId:i,campaignId:r,brandId:p,sellerId:v}),m.current.add(e),setTimeout(function(){m.current.delete(e)},1e3))}}}),H=D.videoContainerRef,U=D.widgetContainerRef,V=D.useProductViewTracking,J=D.handleVideoClick,W=D.handleProductClick,X=D.handleBrandClick,q=D.checkVideoViewEvent,G=D.handleSeeMoreClick,Y=1===P.length;return 0!==P.length&&I?(0,l.jsx)("div",{ref:U,className:(0,h.d)("p-4 pb-0 lg:p-0",{"cursor-pointer":Y}),children:(0,l.jsxs)("div",{ref:H,onClick:function(){J(),window&&Y&&window.open((0,x.H1)({productId:P[0].id}),"_blank")},className:"flex flex-col lg:flex-row lg:p-5 border border-neutral-200 border-solid rounded-md lg:rounded-lg overflow-hidden lg:gap-5",children:[(0,l.jsx)(z,{ref:M.containerRef,video:I,isFullScreen:T.isFullScreen,isPlaying:T.isPlaying,isMute:T.isMute,showControls:T.showControls,currentTime:T.currentTime,duration:T.duration,progressPercentage:T.progressPercentage,onProgress:function(e){O.handleProgress(e),q(e.playedSeconds)},onDuration:O.handleDuration,onPlay:O.handlePlay,onPause:O.handlePause,onReady:O.removePoster,onMouseEnter:O.handleMouseEnter,onMouseLeave:O.handleMouseLeave,togglePlayPause:O.togglePlayPause,toggleMute:O.toggleMute,goFullScreen:O.goFullScreen,leaveFullScreen:O.leaveFullScreen,handleProgressChange:O.handleProgressChange,formatTime:R.formatTime,videoPosterRef:M.videoPosterRef,videoRef:M.videoRef}),T.isFullScreen&&(0,l.jsx)("div",{className:"fixed bottom-[120px] left-0 w-full",children:(0,l.jsx)(E,{products:P,isFullScreen:!0,isDesktop:L,onProductClick:W,onBrandClick:X,onSeeMoreClick:G,useProductViewTracking:V})}),(0,l.jsx)("div",{className:"w-full lg:w-1/2 overflow-hidden",children:(0,l.jsx)(E,{products:P,isFullScreen:!1,isDesktop:L,onProductClick:W,onBrandClick:X,onSeeMoreClick:G,useProductViewTracking:V})})]})}):null}H.getPlaceholder=g("370px");var U=n(47842),V=n(8830),J=n(16514),W=n(62069);function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.utm,n=e.eventData,i=void 0===n?{}:n,l=(0,W.D)();i.pageInfo&&(i.pageInfo=(0,u.mH)(i.pageInfo||{}));var r=(0,s.Z)({cityId:l,widgetName:(null==i?void 0:i.widgetName)||t||"unknown_widget"},i);return{viewRef:(0,Z.Z)((0,J.Z)({eventData:r,callback:A.n5}),1)[0],onWidgetClick:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).itemName;(0,A.d0)((0,s.Z)({clickedItemName:e||"main"},r))},onCarouselClick:function(e){(0,A.ID)((0,s.Z)({},r,e||{}))}}}var q=n(50603);function G(e){var t,n,s=e.isOpen,i=e.onClose,r=e.debts,a=e.credit,d=e.modalWidth,c=e.debt,u=e.paymentLink,m=null==r?void 0:r.length,p=null==r?void 0:r.reduce(function(e,t){return e+(null!==(n=t.penaltyWaiverAmount)&&void 0!==n?n:0)},0);return(0,l.jsxs)(q.Modal,{shouldCloseOnPageChange:!1,isOpen:s,header:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("span",{className:"text-body2 text-neutral-800",children:m?"پرداخت بدهی‌های دیجی‌پی":"الان بخر، بعدا پرداخت کن!"})}),onDismiss:i,hasCloseIcon:!0,childrenClassName:"pt-3 px-4 pb-2",bottomSheetContentClassName:"max-h-[70vh] rounded-t-large",width:d,children:[!!m&&!c&&(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsx)("p",{className:"text-neutral-850 text-h5-regular-180",children:(0,o.x)(r)?"":2===r.length?"برای استفاده از تمام ظرفیت پرداخت اعتباری در خریدها و جلوگیری از جریمه، بدهی خود را زودتر پرداخت کنید.":(null===(t=r[0])||void 0===t?void 0:t.providerType)==="bnpl"?"برای جلوگیری از جریمه در وام دیجی‌پی، بدهی خود را زودتر پرداخت کنید.":"برای استفاده از تمام ظرفیت پرداخت اعتباری در خریدها و جلوگیری از جریمه، بدهی خود را زودتر پرداخت کنید."}),p?(0,l.jsxs)("div",{className:"bg-background-success px-2 py-1.5 flex items-start gap-3 rounded-md",children:[(0,l.jsx)(j.J,{icon:"cube-alert-info",className:"mt-1",size:20,color:(0,w.$)("color-hint-text-success")}),(0,l.jsxs)("p",{className:"text-body1-strong",children:[(0,P.j)(p)," تومان بخشودگی در پرداخت، در صورتی که همین الان پرداخت کنید."]})]}):null,r.map(function(e,t){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"py-2 flex items-center justify-between gap-3",children:[(0,l.jsx)("div",{className:"p-2 bg-gradient-silver rounded-full",children:(0,l.jsx)(j.J,{icon:"bnpl"===e.providerType?"cube-payment-loan":"cube-payment-credit",size:20})}),(0,l.jsxs)("div",{className:"flex flex-col gap-0.5 flex-1",children:[(0,l.jsxs)("div",{className:"flex gap-0.5",children:[(0,l.jsx)("p",{className:"text-h4-compact text-neutral-650",children:(0,P.j)(e.debt)}),(0,l.jsx)(j.J,{icon:"toman",size:14})]}),(0,l.jsx)("p",{className:"text-body1-strong-180 text-hint-object-error",children:"bnpl"===e.providerType?"قسط وام دیجی‌پی":"بدهی خرید اعتباری"})]}),(0,l.jsx)(R.z,{className:"!p-0 !pl-1.5 !pr-3 !h-9 ",mode:"filled",appendIcon:"chevronLeft",appendIconClassName:"fill-white",size:"medium",to:e.debtPayLink,target:"_blank",children:"پرداخت"})]}),t!==r.length-1&&(0,l.jsx)("hr",{className:"mx-[7.5px] h-[1px] border-none bg-neutral-200"})]})})]}),!m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:(0,h.d)("mb-4 pt-3 w-full pl-4 pr-3 pb-4 rounded-md bg-right bg-contain text-white",'bg-[url("/statics/img/png/bnpl-bg.png")] bg-no-repeat',{"bg-digipay":!c,"bg-hint-object-error":c}),children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-h4-180 ml-auto",children:c?"مقدار بدهی":"موجودی اعتبار"}),(0,l.jsx)("div",{className:"flex items-center mr-auto",children:c?(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-h4-180 ml-1",children:(0,I.U)((0,P.j)(c))}),(0,l.jsx)(j.J,{icon:"toman",size:16,color:"white",className:"mb-1"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-h4-180",children:(0,I.U)((0,P.j)(a))}),(0,l.jsx)(j.J,{icon:"toman",size:"20",className:"mr-0.5 mb-1",color:"white"})]})})]}),(0,l.jsxs)("div",{className:"flex w-full items-center justify-start",children:[(0,l.jsx)("span",{className:"ml-2 text-body-1-compact mt-0.5",children:"قدرت گرفته از"}),(0,l.jsx)(j.J,{icon:"cube-brand-digipay-logotype-en",color:"white",size:16,style:{height:"16px",width:"56px"}}),(0,l.jsx)(j.J,{icon:"cube-brand-digipay-logo",color:"white",size:16,style:{height:"16px"}})]})]})}),c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-h5 text-neutral-800",children:"شما به دیجی‌پی بدهکار هستید"}),(0,l.jsx)("p",{className:"text-body-1-180 mt-0.5",children:"برای استفاده از تمام ظرفیت پرداخت اعتباری در خریدها، بدهی خود را از یکم تا پنجم همین ماه پرداخت کنید تا شامل جریمه نشوید."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h5",{className:"text-h5",children:"چطور با اعتبارم خرید کنم؟"}),(0,l.jsx)("p",{className:"text-body-1-180 mt-0.5",children:"با موجودی اعتبارت، الان بخر و بعدا پرداخت کن. بازپرداخت آن را بین یک تا چهار قسط از اول تا پنجم ماه بعد انجام دهید. فقط کافی است در مرحله پرداخت، گزینه \xabپرداخت اعتباری دیجی‌پی\xbb را انتخاب کنید."})]}),c?(0,l.jsx)(R.z,{className:"!border-none mt-4 !bg-button-primary !text-white",mode:"filled",size:"large",to:u,target:"_blank",children:"پرداخت بدهی"}):(0,l.jsx)(R.z,{className:"!border-none mt-4 !bg-neutral-100 !text-black",mode:"filled",size:"large",onClick:i,children:"باشه، فهمیدم"})]})]})}var Y=n(82276),$=n.n(Y);function Q(e){var t,n=e.data,s=e.eventData;e.utm;var i=n.credit,r=n.debt,a=n.bnplCreditData,o=n.paymentLink,d=n.threshold,c=X({eventData:s}),u=c.onWidgetClick,m=c.viewRef,p=(0,f.C)().isDesktop,x=(0,V.R)({modalId:"bnpl"}),v=x.isOpen,g=x.onClose,b=x.onOpen,N=(null==a?void 0:a.length)||r;return p||!N&&i<=d?null:(0,l.jsxs)("div",{className:"container-2xl-w mx-auto lg:px-4 2xl:px-0 mt-4",ref:m,children:[(0,l.jsx)("div",{className:((0,h.d)($().Bnpl__animation),"overflow-hidden"),onClick:function(){u({itemName:"widget_body"}),b()},children:(0,l.jsxs)("div",{className:(0,h.d)((t={},(0,U.Z)(t,$()["Bnpl__card--debt"],N),(0,U.Z)(t,$().Bnpl__card,!N),t),"mx-4 py-3 pl-2 pr-3 items-center rounded-medium border-neutral-200 border-solid border-[1px] flex justify-between"),children:[N?(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(j.J,{icon:"calendarCard",className:"ml-3",color:(0,w.$)("color-hint-object-error")}),(0,l.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("p",{className:"text-body1-strong-compact text-hint-object-error",children:"پرداخت بدهی دیجی‌پی"})}),(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("span",{className:"text-body2-strong-compact text-hint-object-error",children:"بدهی شما به دیجی‌پی در انتظار پرداخت است."})})]})]}):(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(j.J,{icon:"calendarCard",className:"ml-3",color:(0,w.$)("color-digipay")}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("p",{className:"text-body1-strong-compact text-neutral-800",children:"الان بخر، بعدا پرداخت کن!"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-body-1-compact ml-1 text-icon-high-emphasis",children:"موجودی اعتبار:"}),(0,l.jsx)("span",{className:"text-body1-strong-compact text-neutral-800",children:(0,I.U)((0,P.j)(i))}),(0,l.jsx)(j.J,{icon:"toman",size:"16",className:"mr-0.5 fill-neutral-800 mb-0.5"})]})]})]}),(0,l.jsxs)("div",{className:"flex mr-3 items-center",children:[!!N&&(0,l.jsx)("span",{className:"text-body1-strong-compact text-hint-object-error",children:"پرداخت"}),(0,l.jsx)(j.J,{icon:"chevronLeft",color:N?(0,w.$)("color-hint-object-error"):(0,w.$)("color-digipay")})]})]})}),(0,l.jsx)(G,{isOpen:v,credit:i,debts:a,onClose:g,debt:r,paymentLink:o})]})}Q.getPlaceholder=g("79px");var K=n(97721),ee=n(57306);function et(e){var t=e.id,n=e.image,s=e.price,i=e.title,r=e.className,a=e.onClick;return(0,l.jsxs)(N.r,{target:"_blank",shouldHandleUrlAndOnClick:!0,to:(0,x.H1)({productId:t}),onClick:a,className:(0,h.d)("min-w-[130px] overflow-hidden ","flex flex-col justify-between bg-white p-2",r),children:[(0,l.jsx)("div",{className:"overfow-hidden rounded-md",children:(0,l.jsx)(b.E,{width:114,height:114,src:n.url,alt:n.alt||i,imageClassName:"rounded-md"})}),(0,l.jsxs)("div",{className:"h-full mt-2 flex flex-col gap-2 w-full justify-between items-start",children:[(0,l.jsx)("p",{className:"text-body1-strong-180 text-neutral-650 h-10 w-full ellipsis-2",children:i}),(0,l.jsx)(ee.t,{className:(0,h.d)("bg-red flex flex-col h-10.5 pt-0.5",{"!justify-start !items-start":s.discountPercent,"!flex-row !justify-start !items-end":!s.discountPercent}),price:s.rrpPrice,sellingPrice:s.sellingPrice,discount:s.discountPercent,productDiscountPercent:s.discountPercent,discountOnTop:!0,compactPrice:!0})]})]},t)}function en(e){var t=e.data,n=X({eventData:(e.utm,e.eventData)}),r=n.viewRef,a=n.onWidgetClick,d=t.products,c=t.style,u=t.headerImage,m=t.icon,p=t.seeMore,x=t.shouldOpenNewTab,f=(c||{}).backgroundColors,v=(0,C.useMemo)(function(){var e=0;return(d||[]).forEach(function(t){var n,s=+((null===(n=t.price)||void 0===n?void 0:n.timer)||0);e=s>0&&(s<e||0===e)?s:e}),1e3*e},[d]),g=function(){return a({itemName:"مشاهده همه"})},w=function(e){var t=e.productItem;return function(){a({itemName:t.title})}},_=(d||[]).map(function(e,t){return(0,l.jsx)(et,(0,i.Z)((0,s.Z)({},e),{onClick:w({productItem:e}),className:(0,h.d)({"rounded-r-md":0===t})}))}),y=(0,C.useMemo)(function(){return{background:"linear-gradient(225deg, ".concat(f.map(function(e,t){var n=t/(f.length-1)*100;return"".concat(e," ").concat(n,"%")}).join(", "),")")}},[f]);return _.push((0,l.jsx)(N.r,{target:x?"_blank":"_self",shouldHandleUrlAndOnClick:!0,to:(null==p?void 0:p.url)||"",onClick:g,className:"min-w-[140px] overflow-hidden rounded-l-md bg-white",children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,l.jsx)("div",{className:"rounded-circle p-1 border-2 border-icon-high-emphasis border-solid",children:(0,l.jsx)(j.J,{icon:"arrowLeft",size:32})}),(0,l.jsx)("p",{className:"text-neutral-700 mt-3 text-body1-strong",children:"مشاهده همه"})]})})),(0,l.jsxs)("div",{ref:r,className:"pb-4 mt-4",style:y,children:[(0,l.jsxs)("div",{className:"pt-5 px-4 pb-3 flex justify-start items-center",children:[(0,l.jsx)(b.E,{className:"ml-2",src:m.url,width:24,height:24,alt:m.alt}),(0,l.jsx)(b.E,{className:"ml-4 max-w-[220px] max-h-[26px]",src:u.url,width:108,height:20,alt:u.alt}),!(0,o.x)(v)&&!Number.isNaN(v)&&(0,l.jsx)(K.B,{time:v}),(0,l.jsxs)(N.r,{to:(null==p?void 0:p.url)||"",target:x?"_blank":"_self",shouldHandleUrlAndOnClick:!0,onClick:g,className:"flex justify-center items-center text-button-2 text-white mr-auto",children:["همه",(0,l.jsx)(j.J,{icon:"chevronLeft",size:18,color:"white"})]})]}),(0,l.jsx)(M.l,{items:[(0,l.jsx)("div",{className:"pr-2"})].concat((0,T.Z)(_),[(0,l.jsx)("div",{className:"pr-2"})]),className:"gap-0.5 w-full mt-1",sliderProps:{slidesOffsetAfter:0,slidesOffsetBefore:0}})]})}en.getPlaceholder=g("354px");var es=n(64665),ei=n(88413),el=n(42306),er=n(43997),ea=n(6013),eo=n(53548);function ed(e){var t=e.deepLink,n=e.CROId,s=e.className,i=e.target,r=e.onClick,a=(0,er.v9)(ea.p.isLoggedIn),o=t||{},d=o.deepLinksIconUrl,c=o.deepLinksTitle,u=o.deepLinksUrl,m=(0,h.d)("flex flex-col items-center user-select-none max-w-15",s);return(0,l.jsxs)(N.r,{onClick:r,shouldHandleUrlAndOnClick:!0,target:/#supermarkets|#digiplus/.test(u)?"_self":i,to:/my-digipay/.test(u)&&!a?(0,eo.U)({toLoginRegisterRoute:!0}):u,className:m,CROId:void 0===n?"hp-ventures-icons":n,children:[(0,l.jsx)(b.E,{src:d,width:52,height:52,alt:c}),(0,l.jsx)("span",{className:"text-caption-strong-180 w-full text-neutral-700 mt-1 text-center ellipsis-2",children:c})]})}var ec=n(47072),eu=n(43972),em=n(73585),ep=n.n(em);function ex(e){var t=e.isOpen,n=e.onClose,s=e.services,i=e.groupServices,r=(0,er.v9)(ea.p.isLoggedIn);return(0,l.jsx)(q.Modal,{shouldCloseOnPageChange:!1,isOpen:t,onDismiss:n,headerClassName:"py-0 px-5",header:(0,l.jsx)(ec.D,{title:"خدمات دیجی‌کالا",rightIcon:"dkSmile",rightIconColor:"primary"}),rounded:"large",children:(0,l.jsxs)("div",{className:"w-full relative lg:min-w-145 mt-5",children:[(0,l.jsx)("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-y-3",children:null==s?void 0:s.map(function(e){return(0,l.jsx)(eu.k,{CROId:e.deepLinksTitle,deepLink:e,className:"lg:w-[80px]"},e.deepLinksId)})}),(null==i?void 0:i.length)>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h4",{className:"text-body1-strong text-neutral-500 mt-6",children:"سرویس‌های گروه دیجی‌کالا"}),(0,l.jsx)("div",{className:"lg:grid grid-cols-2 gap-3 mt-2",children:null==i?void 0:i.map(function(e){return(0,l.jsxs)(N.r,{target:/#supermarkets|#digiplus/.test(e.deepLinksUrl)?"_self":"_blank",to:/my-digipay/.test(e.deepLinksUrl)&&!r?(0,eo.U)({toLoginRegisterRoute:!0}):e.deepLinksUrl,className:(0,h.d)("flex items-start border-complete-b lg:rounded-large lg:border-complete-200 py-3 lg:px-3",ep().shortcutsModal__serviceBox),CROId:"hp-ventures-icons",children:[(0,l.jsx)(b.E,{src:e.deepLinksIconUrl,width:52,height:52,alt:e.deepLinksTitle,className:"rounded-large shrink-0"}),(0,l.jsxs)("div",{className:"mr-3 grow",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("p",{className:"text-subtitle-strong text-neutral-700",children:e.deepLinksTitle}),(0,l.jsx)(j.J,{icon:"arrowLeft",size:24,className:"mr-4",color:"low-emphasis"})]}),(0,l.jsx)("p",{className:"text-body-2 text-neutral-500",children:e.deepLinksDescription})]})]},e.deepLinksId)})})]})]})})}var ef=n(88238),eh=n.n(ef);function ev(e){var t,n,s,i,r,a,o=e.data,d=X({eventData:(e.utm,e.eventData)}).viewRef,c={services:null==(n=(null==(t=({items:o.items}).items)?void 0:t.map(function(e){var t,n,s,i,l;return n=(t=e||{}).description,s=t.id,i=t.image,l=t.isDigikalaService,{deepLinksId:s,deepLinksTitle:t.title,deepLinksUrl:t.url.url,deepLinksIconUrl:i.url,deepLinksDescription:n,deepLinksIsDigikalaGroupService:l}}))||[])?void 0:n.filter(function(e){return!e.deepLinksIsDigikalaGroupService}),groupServices:null==n?void 0:n.filter(function(e){return e.deepLinksIsDigikalaGroupService}),allItems:n},u=c.allItems,m=c.groupServices,p=c.services,x=(0,f.C)().isDesktop,v=(0,V.R)({modalId:"deep-link-others"}),g=v.isOpen,b=v.onClose,N=v.onOpen,w=(0,h.d)("w-full mt-4 bg-neutral-000 flex-wrap gap-3",{"flex overflow-x-auto flex-nowrap overflow-y-hidden hide-scrollbar":(0,el.d)(es.X.FRESH_TOUCHPOINTS),"grid grid-cols-4 justify-items-center lg:flex":!(0,el.d)(es.X.FRESH_TOUCHPOINTS)}),_=(0,h.d)("bg-neutral-100 rounded-circle flex justify-center items-center text-neutral-400",eh().MainHomeDeepLinks__moreButton),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){(0,A.d0)({clickedItemName:(null==e?void 0:e.deepLinksTitle)||"بیشتر",widgetName:ei.cn})}},k=(0,el.d)(es.X.FRESH_TOUCHPOINTS)?(null==m?void 0:m.length)>3?x?3:1:(x?7:5)-((null==m?void 0:m.length)||0):(null==m?void 0:m.length)>3?3:7-((null==m?void 0:m.length)||0),C=(0,el.d)(es.X.FRESH_TOUCHPOINTS);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:w,ref:d,children:[(0,l.jsx)("div",{className:"mr-1"})," ",C?null==u?void 0:u.slice(0,x?9:8).map(function(e){return(0,l.jsx)(ed,{onClick:y(e),CROId:null==e?void 0:e.deepLinksTitle,className:"shrink-0 lg:!w-[82px] w-15",deepLink:e,target:"_blank"},null==e?void 0:e.deepLinksId)}):(0,l.jsxs)(l.Fragment,{children:[null===(s=null==m?void 0:m.slice(0,4))||void 0===s?void 0:null===(i=s.map)||void 0===i?void 0:i.call(s,function(e){return(0,l.jsx)(ed,{onClick:y(e),CROId:null==e?void 0:e.deepLinksTitle,className:"shrink-0 w-15",deepLink:e,target:"_blank"},null==e?void 0:e.deepLinksId)}),null===(r=null==p?void 0:p.slice(0,k))||void 0===r?void 0:null===(a=r.map)||void 0===a?void 0:a.call(r,function(e){return(0,l.jsx)(ed,{onClick:y(e),CROId:null==e?void 0:e.deepLinksTitle,className:"shrink-0 w-15",deepLink:e},null==e?void 0:e.deepLinksId)})]}),(0,l.jsxs)("div",{onClick:N,className:(0,h.d)("shrink-0 w-15 flex flex-col items-center user-select-none cursor-pointer"),children:[(0,l.jsx)("div",{className:_,onClick:y(),children:(0,l.jsx)(j.J,{icon:"moreHoriz",size:32,color:"low-emphasis"})}),(0,l.jsx)("span",{className:"text-caption-strong-180 w-full text-center text-neutral-700 mt-1",children:"بیشتر"})]}),(0,l.jsx)("div",{className:"mr-1"})," "]}),(0,l.jsx)(ex,{isOpen:g,onClose:b,services:p,groupServices:m})]})}ev.getPlaceholder=g("122px");var eg=n(29890);function ej(e){var t,n=e.banner,s=e.className,i=e.imageClassName,r=e.disableLazyLoad,a=e.eventData,o=n||{},d=o.image,c=o.title,u=o.url,m=X({eventData:a}),p=m.viewRef,x=m.onWidgetClick,f=(0,h.d)("block h-full w-full",s),v=(0,h.d)(i,"border border-solid border-[#0C0C0C12]");return(0,l.jsx)(N.r,{to:u.url,onClick:(t=n.title,function(){return x({itemName:t})}),shouldHandleUrlAndOnClick:!0,target:"_blank",className:f,children:(0,l.jsx)("div",{ref:p,className:"w-full bg-[rgba(0,0,0,0.04)] flex justify-center items-center rounded-md",children:(0,l.jsx)(b.E,{disableLazyLoad:r,alt:d.alt,title:c,src:d.url,objectFit:"cover",imageClassName:v,className:"user-select-none z-1 top-0 w-full h-full",rounded:8})})})}function eb(e){var t=e.banners,n=e.eventData,s=t.length;return 0===s?null:1===s?(0,l.jsx)("div",{className:"mt-5 mx-4",children:(0,l.jsx)(ej,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"apsect-[5/2]"},t[0].id)}):2===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,l.jsx)(ej,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"apsect-[5/2]"},t[0].id),(0,l.jsx)(ej,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"apsect-[5/2]"},t[1].id),";"]}):3===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,l.jsx)(ej,{banner:t[0],disableLazyLoad:!0,imageClassName:"apsect-[5/2]"},t[0].id),(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)(ej,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[1].id),(0,l.jsx)(ej,{banner:t[2],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[2].id)]})]}):4===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)(ej,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[0].id),(0,l.jsx)(ej,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[1].id)]}),(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)(ej,{banner:t[2],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[2].id),(0,l.jsx)(ej,{banner:t[3],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[3].id)]})]}):null}var eN=n(86671);function ew(e){var t,n=e.className,s=e.banner,i=e.disableLazyLoad,r=s||{},a=r.image,o=r.title,d=r.url,c=X(),u=c.viewRef,m=c.onWidgetClick,p=(0,h.d)("block h-full w-full h-[180px]",n);return(0,l.jsx)(N.r,{to:d.url,onClick:(t=s.title,function(){return m({itemName:t})}),target:"_blank",className:p,shouldHandleUrlAndOnClick:!0,children:(0,l.jsx)("div",{ref:u,className:"w-full bg-[rgba(0,0,0,0.04)] flex justify-center items-center rounded-md",children:(0,l.jsx)(b.E,{disableLazyLoad:i,alt:a.alt,title:o,src:a.url,objectFit:"cover",imageClassName:"h-full",className:"user-select-none z-1 top-0 w-full h-[180px]",rounded:8})})})}var e_=n(75633),ey=n.n(e_),ek=function(e,t,n){var s=Math.max(0,t-Math.floor(e/2)),i=s+e-1;return i>=n&&(s=Math.max(0,(i=n-1)-e+1)),{bullets:Array.from({length:i-s+1},function(e,t){return s+t}),start:s,end:i}};function eC(e){var t=e.total,n=void 0===t?0:t,s=e.current,i=void 0===s?0:s,r=ek(6,i-1,n),a=r.bullets,o=r.start,d=r.end,c=(0,h.d)("flex items-center justify-center py-1 px-1.5 absolute rounded-large",ey().MainHomeTopSlider__sliderPagination);return(0,l.jsx)("div",{className:c,children:a.map(function(e,t){return(0,l.jsx)("span",{className:(0,h.d)("rounded-full bg-white transition-all duration-200 opacity-30 ml-1",n<=6?"w-1.5 h-1.5":e===o&&o>0||e===d&&d<n-1?"w-1 h-1":"w-1.5 h-1.5",e+1===i&&"w-3 !opacity-100")},"carousel-indicator-".concat(t))})})}function eP(e){var t=e.slides,n=e.eventData,s=(0,C.useRef)(null),i=(0,Z.Z)((0,C.useState)(!1),2),r=i[0],a=i[1],o=X({eventData:n}).viewRef,d={rootClass:(0,h.d)("flex overflow-hidden relative mt-4",ey().MainHomeTopSlider),navigationContainer:(0,h.d)("absolute right-0 bottom-42 flex items-center z-1",{"opacity-0":!r,"00":r},ey().MainHomeTopSlider__navigator)};return(0,eg.k)(t)?(0,l.jsx)("div",{className:d.rootClass,onMouseEnter:function(){a(!0)},onMouseLeave:function(){a(!1)},ref:o,children:(0,l.jsx)(eN.i,{loop:!0,ref:s,slidesPerView:1.1,effect:"fade",centeredSlides:!0,spaceBetween:8,disableFreeModeOnDesktop:!0,autoplay:!0,navigationButtonClassName:{prev:"hidden hidden",next:"hidden hidden",disabled:"opacity-50 pointer-events-none"},onInit:function(e){e.navigation.update()},useCustomPagination:!0,PaginationComponent:eC,className:"relative w-full dk-main-slider",slides:t.map(function(e,t){var n=e||{},s=n.bannerDestinationWidgetId,i=n.id;return(0,l.jsx)("div",{className:(0,h.d)({"cursor-pointer":s}),onClick:s&&function(){(0,L.X5)(s)},children:(0,l.jsx)(ew,{disableLazyLoad:0===t,banner:e},i||t)})})})}):null}var eI=n(71338),eL=n(98936),eS=n(80803),eT=n(40565),eM=n(87049),eO=n(8108),eE=n(43287),eR=n(94042),eD=n(80786),ez=n(45969),eZ=n(48781);function eB(e){var t=e.className,n=e.hide,s=e.forDesktop,i=void 0!==s&&s,r=(0,V.R)({modalId:"supermarkets"}),a=r.isOpen,o=r.onClose,d=r.onOpen,c=(0,Z.Z)((0,C.useState)(!1),2),u=c[0],m=c[1],p=(0,eM.v)(eD.b.isPendingInit),x=(0,C.useRef)(null);(0,eT.x)([{event:eR.JW,handler:function(e){return m(e)}}]);var f=function(){(0,eO.N)({name:"widget_click",body:{version:2,page_type:(0,eE.C)(),widget_name:"supermarket_touchpoint",clicked_item_name:"fav_icon"}}),d()};(0,C.useEffect)(function(){if(i&&x.current&&(0,el.d)(es.X.FRESH_TOUCHPOINTS)){var e=function(){window.scrollY<624.5?x.current.style.width="0px":x.current.style.width="142px"};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}},[i,p]);var v=(0,el.d)(es.X.SUPER_APP_WEB_PILLARS_VIEW);if(!(0,el.d)(es.X.FRESH_TOUCHPOINTS)||v)return null;var g=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eZ.X,{shouldCloseOnPageChange:!1,isOpen:a,onDismiss:o}),(0,el.d)(es.X.LOCATION_BASED_BANNERS)?null:(0,l.jsx)(ez.c,{})]});return i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{onClick:f,className:(0,h.d)("rounded-3xl text-subtitle-strong flex items-center bg-fresh-700 z-4 text-white cursor-pointer","w-max fixed px-3 py-2.5 transition-all duration-300 left-4 bottom-8",t),children:["سوپرمارکت",(0,l.jsxs)("div",{className:"flex items-center overflow-hidden whitespace-nowrap transition-all duration-300",ref:x,children:[(0,l.jsx)("div",{className:"w-[1px] h-4 mx-2 bg-[rgba(255,255,255,0.22)]"}),"تنوع بالا و پرتخفیف"]}),(0,l.jsx)(j.J,{icon:"cube-badge-fresh",color:"white",size:28,className:"mr-2"})]}),g]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{onClick:f,className:(0,h.d)("rounded-3xl text-h5 flex items-center bg-fresh-700 z-2 text-white select-none","w-max fixed px-2 py-1.5 transition-all duration-500 right-0 left-0 mx-auto bottom-0",t),style:{transform:"translateY(".concat(n?0:u?-140:-65,"px)")},children:[(0,l.jsx)(j.J,{icon:"cube-badge-fresh",color:"white",size:20}),(0,l.jsx)("div",{className:"w-[1px] h-4 mx-2 bg-[rgba(255,255,255,0.22)]"}),"سوپرمارکت، تنوع بالا، پرتخفیف"]}),g]})}var eA=n(97234),eF=n(76020),eH=n(57079),eU=n(38875),eV=n(90263);function eJ(e){var t=e.isOpen,n=e.onDismiss,s=e.shouldCloseOnPageChange,i=(0,eM.v)(eA.Jw.supermarketServices),r=(0,C.useMemo)(function(){return i.map(function(e){return{title:({fresh:"پرتخفیف و متنوع",jet:"ارسال فوری‍"})[e.serviceName],image:({fresh:"/statics/img/png/fresh-shop-basket.png",jet:"/statics/img/png/jet-shop-basket.png"})[e.serviceName],backgroundColor:({fresh:"#DBF3E6",jet:"#FEEBDE"})[e.serviceName],badgeColor:({fresh:"var(--color-fresh-700)",jet:"#FF8042"})[e.serviceName],badgeTitle:({fresh:"ارسال امروز",jet:"۴۵ دقیقه‌ای"})[e.serviceName],icon:({fresh:"cube-shipping-fast",jet:"cube-action-time"})[e.serviceName],service:e}})},[i]),a=(0,Z.Z)((0,C.useState)(null),2),o=a[0],d=a[1],c=(0,Z.Z)((0,C.useState)(null),2),u=c[0],m=c[1],p=(0,f.C)().isDesktop,x=function(e){var t=e.service,n=e.title;return function(){if((0,eO.N)({name:"widget_click",body:{version:2,page_type:(0,eE.C)(),widget_name:"supermarket_".concat(t.serviceName,"_touchpoint"),clicked_item_name:n}}),p||eH.b.hasSeen(t.serviceName)&&eV.j.hasSeen(t.serviceName)){window.location.href=t.action;return}eH.b.hasSeen(t.serviceName)?(eV.j.markAsSeen(t.serviceName),d(t)):(eH.b.markAsSeen(t.serviceName),m(t))}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(q.Modal,{headerTitle:(0,l.jsx)("div",{children:(0,l.jsx)("h5",{className:"text-h5 text-neutral-700",children:"یکی از سوپرمارکت‌های زیر را انتخاب کنید"})}),childrenClassName:"pb-5 xs:px-2 sm:px-5",hasCloseIcon:p,headerHideBottomBorder:!0,isOpen:t,onDismiss:n,shouldCloseOnPageChange:s,children:(0,l.jsx)("div",{className:"flex items-center justify-center xs:gap-3 sm:gap-3",children:r.map(function(e,t){var n=e.service,s=e.title,i=e.icon,r=e.backgroundColor,a=e.badgeColor,o=e.badgeTitle,d=e.image;return(0,l.jsxs)("div",{onClick:x({service:n,title:s}),className:"rounded py-3 flex-1 flex justify-center gap-2 flex-col cursor-pointer xs:h-[228px] lg:h-[250px]",style:{backgroundColor:r},children:[(0,l.jsxs)("div",{className:"flex items-center justify-start gap-1 xs:px-3 sm:px-4",children:[(0,l.jsx)("span",{className:"text-h5 text-neutral-900",children:s}),(0,l.jsx)(j.J,{icon:"cube-nav-chevron-left",color:"black",size:20})]}),(0,l.jsx)("div",{className:"xs:px-3 sm:px-4",children:(0,l.jsxs)("div",{style:{backgroundColor:a},className:"rounded-l-2xl rounded-tr-sm rounded-br-2xl flex justify-center items-center gap-2 w-fit px-3",children:[(0,l.jsx)(j.J,{icon:i,color:"white",size:16}),(0,l.jsx)("p",{className:"text-body2-strong text-icon-white",children:o})]})}),(0,l.jsx)(b.E,{className:"w-full mr-auto mt-auto",src:d,width:130,height:130,loading:"lazy",alt:n.serviceName})]})})})}),(0,l.jsx)(eF.N,{service:u,isOpen:Boolean(u)}),o&&(0,l.jsx)(eU.n,{isOpen:Boolean(o),service:o})]})}function eW(e){e.badge,e.defaultVariantId;var t=e.id,n=e.image,s=e.price,i=e.title,r=e.onClick;return(0,l.jsxs)(N.r,{target:"_blank",shouldHandleUrlAndOnClick:!0,to:(0,x.H1)({productId:t}),onClick:r,className:(0,h.d)("min-w-[140px] border-complete !border-neutral-200 rounded-md overflow-hidden","flex flex-col justify-between"),children:[(0,l.jsx)("div",{className:"bg-neutral-100",children:(0,l.jsx)(b.E,{width:140,height:140,src:n.url,alt:n.alt||i,style:{mixBlendMode:"multiply"}})}),(0,l.jsxs)("div",{className:"h-full p-2 !pt-1 flex flex-col gap-1 w-full justify-between items-start",children:[(0,l.jsx)("p",{className:"text-body2-strong-180 text-icon-high-emphasis h-10 w-full ellipsis-2",children:i}),(0,l.jsx)(ee.t,{className:(0,h.d)("flex flex-col",{"!justify-start !items-start pt-0.5":s.discountPercent,"!flex-row !justify-start !items-center":!s.discountPercent}),price:s.rrpPrice,sellingPrice:s.sellingPrice,discount:s.discountPercent,productDiscountPercent:s.discountPercent,discountOnTop:!0,payablePriceTextClassName:"text-neutral-800 ml-1 text-h4",priceTextClassName:(0,h.d)({"line-through":s.discountPercent,"text-body-2":s.discountPercent,"text-h4":!s.discountPercent,"ml-1":!s.discountPercent,"text-neutral-300":s.discountPercent,"text-neutral-800":!s.discountPercent,"!leading-[24px]":!s.discountPercent}),compactPrice:!0})]})]},t)}function eX(e){var t=e.description,n=e.icon,s=e.title,i=e.url;return(0,l.jsxs)("div",{className:"mt-5 mx-4 mb-3 flex flex-col gap-0.5",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[n&&(0,l.jsx)(j.J,{icon:n,className:"ml-1.5",size:24}),(0,l.jsx)("h5",{className:"text-h5-180 text-neutral-900 flex-1",children:s}),i&&(0,l.jsxs)(N.r,{to:i,className:"flex justify-center items-center gap-1.5",target:"_blank",children:[(0,l.jsx)("p",{className:"text-neutral-700 text-body1-strong",children:"مشاهده همه"}),(0,l.jsx)(j.J,{icon:"chevronLeft",className:"-mr-1.5",size:20})]})]}),t&&(0,l.jsx)("p",{className:"text-body-1-180 text-neutral-600",children:t})]})}function eq(e){var t,n,r,a=e.data,o=X({eventData:(e.utm,e.eventData)}),d=o.viewRef,c=o.onWidgetClick,u=(a||{}).products,m=function(e){var t=e.productItem;return function(){c({itemName:t.title})}},p=(u||[]).map(function(e){return(0,l.jsx)(eW,(0,i.Z)((0,s.Z)({},e),{onClick:m({productItem:e})}))});return(null==a?void 0:null===(t=a.seeMore)||void 0===t?void 0:t.url)&&p.push((0,l.jsx)(N.r,{target:"_blank",shouldHandleUrlAndOnClick:!0,to:a.seeMore.url,onClick:function(){return c({itemName:"مشاهده همه"})},className:"min-w-[140px] overflow-hidden",children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,l.jsx)("div",{className:"rounded-circle p-2 border-2 border-icon-high-emphasis border-solid",children:(0,l.jsx)(j.J,{icon:"arrowLeft",size:20})}),(0,l.jsx)("p",{className:"text-neutral-700 mt-3 text-body1-strong",children:"مشاهده همه"})]})})),(0,l.jsxs)("div",{ref:d,children:[(0,l.jsx)(eX,{description:null==a?void 0:a.description,icon:null==a?void 0:null===(n=a.icon)||void 0===n?void 0:n.url,title:null==a?void 0:a.title,url:null==a?void 0:null===(r=a.seeMore)||void 0===r?void 0:r.url}),(0,l.jsx)(M.l,{items:[(0,l.jsx)("div",{className:"pr-2"})].concat((0,T.Z)(p),[(0,l.jsx)("div",{className:"pr-2"})]),className:"gap-2 w-full",sliderProps:{slidesOffsetAfter:0,slidesOffsetBefore:0}})]})}function eG(e){var t=e.image,n=e.title,s=e.url,i=e.onClick;return(0,l.jsxs)(N.r,{to:s.url||"",target:"_blank",shouldHandleUrlAndOnClick:!0,className:"w-[90px] h-[124px] border-complete !border-neutral-200 rounded-md overflow-hidden flex flex-col items-center gap-1.5",onClick:i,children:[(0,l.jsx)("div",{className:"bg-neutral-100 p-1.5",children:(0,l.jsx)(b.E,{width:78,height:78,src:t.url,alt:t.alt||n,style:{mixBlendMode:"multiply"}})}),(0,l.jsx)("h4",{className:"w-full text-center align-middle text-icon-high-emphasis text-body2-strong-180 ellipsis-1 px-2",children:n})]})}function eY(e){var t=e.data,n=X({eventData:(e.utm,e.eventData)}),r=n.viewRef,a=n.onWidgetClick,o=t.description,d=t.icon,c=t.items,u=t.title,m=function(e){var t=e.item;return function(){a({itemName:t.title})}},p=(c||[]).map(function(e,t){return(0,l.jsx)("div",{onClick:m({item:e}),children:(0,l.jsx)(eG,(0,i.Z)((0,s.Z)({},e),{onClick:m({item:e})}))},t)});return(0,l.jsxs)("div",{ref:r,children:[(0,l.jsx)(eX,{icon:(null==d?void 0:d.url)||"",title:u,description:o||""}),(0,l.jsx)(M.l,{items:[(0,l.jsx)("div",{className:"pr-2"},"pad-left")].concat((0,T.Z)(p),[(0,l.jsx)("div",{className:"pr-2"},"pad-right")]),className:"gap-2 w-full",sliderProps:{slidesOffsetAfter:0,slidesOffsetBefore:0}})]})}function e$(e){var t=e.image,n=e.title,s=e.url,i=e.onClick;return(0,l.jsxs)(N.r,{to:s.url||"",target:"_blank",shouldHandleUrlAndOnClick:!0,className:"min-w-[259px] border-complete !border-neutral-200 rounded-md overflow-hidden flex flex-col gap-2 pb-3",onClick:i,children:[(0,l.jsx)(b.E,{objectFit:"cover",src:t.url,alt:t.alt,width:259,height:145}),(0,l.jsx)("h4",{className:"text-neutral-650 text-body-1-180 ellipsis-2 px-3",children:n})]})}function eQ(e){var t=e.data,n=X({eventData:(e.utm,e.eventData)}),r=n.viewRef,a=n.onWidgetClick,o=t.description,d=t.icon,c=t.news,u=t.seeMore,m=t.title,p=function(e){var t=e.magItem;return function(){a({itemName:t.title})}},x=(c||[]).map(function(e){return(0,l.jsx)(e$,(0,i.Z)((0,s.Z)({},e),{onClick:p({magItem:e})}))});return(0,l.jsxs)("div",{ref:r,children:[(0,l.jsx)(eX,{description:o,icon:(null==d?void 0:d.url)||"",title:m,url:(null==u?void 0:u.url)||""}),(0,l.jsx)(M.l,{items:[(0,l.jsx)("div",{className:"pr-2"})].concat((0,T.Z)(x),[(0,l.jsx)("div",{className:"pr-2"})]),className:"gap-2 w-full",sliderProps:{slidesOffsetAfter:0,slidesOffsetBefore:0}})]})}eq.getPlaceholder=g("336px"),eY.getPlaceholder=g("149px"),eQ.getPlaceholder=g("289px");var eK=n(79593),e0=n(98544),e1=n(59615),e2=n(84941),e5=n(25143);function e3(e){var t,n,s=e.data||{},i=s.lives,l=s.posts;return{lives:(null==i?void 0:null===(t=i.map)||void 0===t?void 0:t.call(i,function(e){return(0,e2.A)({data:e})}))||[],posts:(null==l?void 0:null===(n=l.map)||void 0===n?void 0:n.call(l,function(e){return(0,e5.E)({data:e})}))||[]}}var e4=n(16330),e6=n(32614),e7=n(27314),e8=n(73066),e9=n(62075),te=n(25233),tt=n.n(te);function tn(e){var t,n,s,i,r=e.isLiveItem,a=e.live,o=e.video,d=e.videoOnClick,c=e.className,u=e.itemIndex,m=e.isInPromotion,p=void 0!==m&&m,f=(0,e7.e)().redirect,v=!1;r&&a?(t=a.dkLiveCover,n=a.dkLiveTitle,v=a.dkLiveStatus===e8.j.STARTED):o&&(t=o.postCircleCover,n=o.postTitle);var g=(0,C.useRef)(null),j=(0,e6.o)({textRef:g,updateDependencies:[n]}).lineCount>2,N=(0,h.d)(tt().container,"rounded-circle shrink-0 w-full aspect-square relative flex items-center justify-center",(0,U.Z)({},tt().container__nowroz,p)),w=(0,h.d)("rounded-circle overflow-hidden bg-white aspect-square flex items-center justify-center",tt().innerContainer),_=(0,h.d)("rounded-circle overflow-hidden flex items-center justify-center",tt().image,(s={},(0,U.Z)(s,tt().image__nowroz,p),(0,U.Z)(s,tt()["image--live"],r&&v),s)),y=(0,h.d)(tt().timeBadge,(i={},(0,U.Z)(i,tt().timeBadge__nowroz,p),(0,U.Z)(i,tt().timeBadge__started,v),(0,U.Z)(i,tt().timeBadge__started__nowroz,p&&v),i),"absolute left-0 right-0 bottom-0 border-solid border-2 border-white w-max mx-auto px-1.5 rounded-md text-caption-strong");return(0,l.jsxs)("div",{onClick:function(){var e,t;r&&a?((0,e9.$G)({liveId:a.dkLiveId,liveOwnerId:null===(e=a.dkLiveUser)||void 0===e?void 0:e.id,placeIndex:u}),f({url:(0,x.$A)(a.dkLiveSlug)})):o&&((0,e9.OR)({postId:o.postId,postAuthorId:null===(t=o.postAuthor)||void 0===t?void 0:t.authorId,placeIndex:u}),null==d||d())},className:(0,h.d)(c,"w-[64px] shrink-0 cursor-pointer"),children:[(0,l.jsxs)("div",{className:N,children:[(0,l.jsx)("div",{className:w,children:(0,l.jsx)(b.E,{rounded:99999,objectFit:"cover",image:t,className:_})}),r&&(null==a?void 0:a.dkLiveBadgeText)&&(0,l.jsx)("div",{className:y,children:(0,I.U)(a.dkLiveBadgeText)})]}),(0,l.jsx)(e4.u,{label:n,position:"right-end",hasTooltip:j,children:(0,l.jsx)("div",{ref:g,className:(0,h.d)("mt-2 text-caption-180 text-center text-neutral-850",{"ellipsis-2":j}),children:n})})]})}var ts=(0,c.q)({url:"/magnet/home-page/reactions/",transformer:function(e){var t=e.data;return{reactions:Object.keys(t||{}).reduce(function(e,n){var l=t[n]||{},r=l.is_author_followed,a=l.is_post_liked;return(0,i.Z)((0,s.Z)({},e),(0,U.Z)({},n,{isAuthorFollowed:r,isPostLiked:a}))},{})}}}),ti=n(42729);function tl(e){var t,n,r,u,m,p,x,f,v,g,j,b,N,w,_,y,k,P,I,L,S,O=e.data.endpoint,E=(e.utm,e.eventData),R=(0,a.V)({apiMethod:(0,c.q)({url:O||"/v1/magnet/home-page/",transformer:e3,baseURL:function(){return d.V.API_BASE_URL.replace("/v1","")}})}).data||{},D=R.lives,z=R.posts,B=X({eventData:E}),A=B.onWidgetClick,F=B.viewRef,H=(n=(t=(0,V.R)({modalId:ti.f.VIDEO})).isOpen,r=t.onOpen,u=t.onClose,p=(m=(0,Z.Z)((0,C.useState)(-1),2))[0],x=m[1],f=n&&-1!==p,g=(v=(0,eS.d)()).isOpen,j=v.onOpen,b=v.onClose,N=((0,a.V)({apiMethod:ts,disabled:!f}).data||{}).reactions,_=(w=(0,Z.Z)((0,C.useState)(N),2))[0],y=w[1],(0,C.useEffect)(function(){y(N)},[N]),P=((k=null==z?void 0:z[p])||{}).postId,I=f&&_&&_[P],{isOpenVideoModal:f,isOpenVideoEndedModal:g,activePost:k,activePostReaction:I,hasPreviousPost:L=0!==p,hasNextPost:S=!(0,o.x)(z)&&p!==z.length-1,handleClickVideoItem:function(e){return function(){x(e),r()}},handleCloseModal:function(){x(-1),u()},handleToNextPost:function(){return x(function(e){return S?e+1:e})},handleToPreviousPost:function(){return x(function(e){return L?e-1:e})},handleOnVideoEnded:function(){S||j()},toPostWithIndex:function(e){return x(e)},onCloseVideoEndedModal:b,handleUpdateActivePostIsLiked:function(e){I&&y((0,i.Z)((0,s.Z)({},_),(0,U.Z)({},P,(0,i.Z)((0,s.Z)({},I),{isPostLiked:e}))))},handleUpdateActivePostIsAuthorFollowed:function(e){I&&y((0,i.Z)((0,s.Z)({},_),(0,U.Z)({},P,(0,i.Z)((0,s.Z)({},I),{isAuthorFollowed:e}))))}}),J=H.isOpenVideoModal,W=H.isOpenVideoEndedModal,q=H.activePost,G=H.activePostReaction,Y=H.hasPreviousPost,$=H.hasNextPost,Q=H.handleClickVideoItem,K=H.handleCloseModal,ee=H.handleToNextPost,et=H.handleToPreviousPost,en=H.handleOnVideoEnded,es=H.toPostWithIndex,ei=H.onCloseVideoEndedModal,el=H.handleUpdateActivePostIsLiked,er=H.handleUpdateActivePostIsAuthorFollowed;if((0,o.x)(D)&&(0,o.x)(z)||eK.s)return(0,l.jsx)("div",{className:"h-[128px]"});var ea=(null==D?void 0:D.map(function(e,t){return(0,l.jsx)(tn,{className:(0,h.d)("ml-3 lg:ml-0",{"mr-2":0===t}),isLiveItem:!0,live:e,itemIndex:t},e.dkLiveId)}))||[],eo=(null==z?void 0:z.map(function(e,t){return(0,l.jsx)(tn,{className:(0,h.d)("ml-3 lg:ml-0",{"mr-2":0===t&&(0,o.x)(D)}),video:e,videoOnClick:Q(t),itemIndex:t},e.postId)}))||[];return(0,l.jsxs)("div",{onClick:function(){return A()},ref:F,children:[(0,l.jsx)(M.l,{sliderProps:{freeMode:!1,disableFreeModeOnDesktop:!0},className:"pt-4",spaceBetween:24,items:(0,T.Z)(ea).concat((0,T.Z)(eo))}),(0,l.jsx)(e0.D,{posts:z,isOpen:W,onClose:ei,toPostWithIndex:es}),(0,l.jsx)(e1.K,{toNextPost:ee,toPreviousPost:et,hasNextPost:$,hasPreviousPost:Y,post:q,postReaction:G,isOpen:J,onClose:K,onVideoEnded:en,updateLikeReaction:el,updateAuthorFollowedReaction:er})]})}tl.getPlaceholder=g("128px");var tr=n(12794),ta=n.n(tr);function to(e){var t=e.index,n=e.product,s=e.columnIndex,i=e.columnLength,r=e.onClick,a=n.id,o=n.title,d=n.image,c=(0,I.U)(s*i+t+1);return(0,l.jsx)("div",{className:"border-complete-200 rounded mb-2 pl-3",children:(0,l.jsx)(N.r,{to:(0,x.H1)({productId:a}),shouldHandleUrlAndOnClick:!0,onClick:r,children:(0,l.jsxs)("div",{className:(0,h.d)("flex",ta().ProductItem),children:[(0,l.jsx)("div",{className:"bg-neutral-100 ml-3 rounded",children:(0,l.jsx)(b.E,{width:72,height:72,src:d.url,alt:d.alt||o,className:"rounded shrink-0 mix-blend-multiply overflow-hidden"})}),(0,l.jsx)("div",{className:(0,h.d)("grow flex flex-col justify-center relative",ta().ProductItem__description),children:(0,l.jsxs)("p",{className:"text-body-2 text-neutral-700 ellipsis-2 overflow-hidden flex justify-start flex-row items-center",children:[(0,l.jsx)("span",{className:"rounded-full text-h5-extra inline-flex justify-center items-center w-5.5 h-5.5 text-white bg-primary-500 ml-2",children:c}),(0,l.jsx)("span",{children:o})]})})]})})})}function td(e){var t,n=e.data,s=X({eventData:(e.utm,e.eventData)}),i=s.viewRef,r=s.onWidgetClick,a=n.description,d=n.icon,c=n.products,u=n.title,m=function(e){var t=e.productItem;return function(){r({itemName:t.title})}},p=c?Array.from({length:Math.floor(c.length/3)},function(e,t){return[c[3*t],c[3*t+1],c[3*t+2]]}):[],x=(0,h.d)("w-full flex flex-col justify-center align-items bg-neutral-000 lg:rounded-large lg:border-complete-200");if((0,o.x)(c))return null;var f=null==p?void 0:null===(t=p.map)||void 0===t?void 0:t.call(p,function(e,t){var n;return(0,l.jsx)("div",{children:null==e?void 0:null===(n=e.map)||void 0===n?void 0:n.call(e,function(n,s){var i=(n||{}).id;return(0,l.jsx)(to,{index:s,onClick:m({productItem:n}),product:n,columnIndex:t,columnLength:null==e?void 0:e.length},i)})})});return(0,l.jsxs)("div",{className:x,ref:i,children:[(0,l.jsx)(eX,{description:a,icon:d.url,title:u}),(0,l.jsx)("div",{className:"flex overflow-x-auto overflow-y-hidden hide-scrollbar",children:(0,l.jsx)(eN.i,{slides:f,spaceBetween:8,slidesOffsetBefore:16,slidesOffsetAfter:16,slidesPerView:1.5,className:"flex-1 w-full"})})]})}td.getPlaceholder=g("344px");var tc=n(5632),tu=n(98050),tm=n(46621),tp=n.n(tm),tx=n(45227),tf=n(32097),th=n(51382),tv=n(12571);function tg(e){return(0,l.jsx)(tu.H,(0,i.Z)((0,s.Z)({},e),{productHasQuickView:!1}))}function tj(e){var t=e.data,n=(0,tc.useRouter)(),i=(0,tf.N)(n.asPath)[tx.Tx.SEARCH_TAB]||th.g;return(0,l.jsx)("article",{className:tp().ProductList__item,children:i===tv.I.FRESH?(0,l.jsx)(tg,(0,s.Z)({},t)):(0,l.jsx)(tu.H,(0,s.Z)({},t))})}function tb(e){var t,n=e.banner,s=e.className,i=e.imageClassName,r=e.disableLazyLoad,a=e.eventData,o=n||{},d=o.image,c=o.title,u=o.url,m=X({eventData:a}),p=m.viewRef,x=m.onWidgetClick,f=(0,h.d)("block h-full w-full",s),v=(0,h.d)(i,"border border-solid border-[#0C0C0C12]");return(0,l.jsx)(N.r,{to:(null==u?void 0:u.url)||"",onClick:(t=n.title,function(){return x({itemName:t})}),shouldHandleUrlAndOnClick:!0,target:"_blank",className:f,children:(0,l.jsx)("div",{ref:p,className:"w-full bg-[rgba(0,0,0,0.04)] flex justify-center items-center rounded-md",children:(0,l.jsx)(b.E,{disableLazyLoad:r,alt:d.alt,title:c,src:d.url,objectFit:"cover",imageClassName:v,className:"user-select-none z-1 top-0 w-full h-full",rounded:8})})})}function tN(e){var t=e.banners,n=e.eventData,s=t.length;return 0===s?null:1===s?(0,l.jsx)("div",{className:"mt-5 mx-4",children:(0,l.jsx)(tb,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"aspect-[5/2]"},t[0].id)}):2===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,l.jsx)(tb,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"aspect-[5/2]"},t[0].id),(0,l.jsx)(tb,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"aspect-[5/2]"},t[1].id),";"]}):3===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,l.jsx)(tb,{banner:t[0],disableLazyLoad:!0,imageClassName:"aspect-[5/2]"},t[0].id),(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)(tb,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[1].id),(0,l.jsx)(tb,{banner:t[2],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[2].id)]})]}):4===s?(0,l.jsxs)("div",{className:"flex flex-col gap-2 mt-5 mx-4",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)(tb,{banner:t[0],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[0].id),(0,l.jsx)(tb,{banner:t[1],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[1].id)]}),(0,l.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,l.jsx)(tb,{banner:t[2],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[2].id),(0,l.jsx)(tb,{banner:t[3],eventData:n,disableLazyLoad:!0,imageClassName:"h-[116px]"},t[3].id)]})]}):null}function tw(e){var t=e.className,n=e.banner,s=e.disableLazyLoad,i=n||{},r=i.image,a=i.title,o=i.url,d=(0,h.d)("block h-full w-full h-[180px]",t);return(0,l.jsx)(N.r,{to:(null==o?void 0:o.url)||"",target:"_blank",className:d,shouldHandleUrlAndOnClick:!0,children:(0,l.jsx)("div",{className:"w-full bg-[rgba(0,0,0,0.04)] flex justify-center items-center rounded-md",children:(0,l.jsx)(b.E,{disableLazyLoad:s,alt:r.alt,title:a,src:r.url,objectFit:"cover",imageClassName:"h-full",className:"user-select-none z-1 top-0 w-full h-[180px]",rounded:8})})})}tj.getPlaceholder=g("300px");var t_=n(48447),ty=n.n(t_),tk=function(e,t,n){var s=Math.max(0,t-Math.floor(e/2)),i=s+e-1;return i>=n&&(s=Math.max(0,(i=n-1)-e+1)),{bullets:Array.from({length:i-s+1},function(e,t){return s+t}),start:s,end:i}};function tC(e){var t=e.total,n=void 0===t?0:t,s=e.current,i=void 0===s?0:s,r=tk(6,i-1,n),a=r.bullets,o=r.start,d=r.end,c=(0,h.d)("flex items-center justify-center py-1 px-1.5 absolute rounded-large",ty().MainHomeTopSlider__sliderPagination);return(0,l.jsx)("div",{className:c,children:a.map(function(e,t){return(0,l.jsx)("span",{className:(0,h.d)("rounded-full bg-white transition-all duration-200 opacity-30 ml-1",n<=6?"w-1.5 h-1.5":e===o&&o>0||e===d&&d<n-1?"w-1 h-1":"w-1.5 h-1.5",e+1===i&&"w-3 !opacity-100")},"carousel-indicator-".concat(t))})})}function tP(e){var t=e.slides,n=e.eventData,s=(0,C.useRef)(null),i=(0,Z.Z)((0,C.useState)(!1),2),r=i[0],a=i[1],o=X({eventData:n}).viewRef,d={rootClass:(0,h.d)("flex overflow-hidden relative mt-4",ty().MainHomeTopSlider),navigationContainer:(0,h.d)("absolute right-0 bottom-42 flex items-center z-1",{"opacity-0":!r,"00":r},ty().MainHomeTopSlider__navigator)};return(0,eg.k)(t)?(0,l.jsx)("div",{className:d.rootClass,onMouseEnter:function(){a(!0)},onMouseLeave:function(){a(!1)},ref:o,children:(0,l.jsx)(eN.i,{loop:!0,ref:s,slidesPerView:1.1,effect:"fade",centeredSlides:!0,spaceBetween:8,disableFreeModeOnDesktop:!0,autoplay:!0,navigationButtonClassName:{prev:"hidden hidden",next:"hidden hidden",disabled:"opacity-50 pointer-events-none"},onInit:function(e){e.navigation.update()},useCustomPagination:!0,PaginationComponent:tC,className:"relative w-full dk-main-slider",slides:t.map(function(e,t){var n=e||{},s=n.bannerDestinationWidgetId,i=n.id;return(0,l.jsx)("div",{className:(0,h.d)({"cursor-pointer":s}),onClick:s&&function(){(0,L.X5)(s)},children:(0,l.jsx)(tw,{disableLazyLoad:0===t,banner:e},i||t)})})})}):null}function tI(e){var t=e.image,n=e.link,s=e.title;return(0,l.jsxs)(N.r,{className:"flex flex-col items-center user-select-none w-full",to:n.url,children:[(0,l.jsx)(b.E,{className:"mb-1",src:t.url,width:72,height:72,alt:t.alt}),(0,l.jsx)("p",{className:"text-caption-180 text-neutral-900 ellipsis-2 text-center h-9",children:s})]})}function tL(e){var t=e.numberOfRows,n=e.categories,s=(0,C.useMemo)(function(){return(null==n?void 0:n.length)?Array.from({length:Math.ceil(n.length/t)},function(e,s){return n.slice(s*t,(s+1)*t)}):[]},[n,t]),i=(0,h.d)("w-full bg-neutral-000 flex-wrap gap-4","flex overflow-x-auto flex-nowrap overflow-y-hidden hide-scrollbar");return(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)("div",{})," ",s.map(function(e,t){return(0,l.jsx)("div",{className:"flex flex-col items-center justify-between gap-3",children:e.map(function(e,t){return(0,l.jsx)(tI,{image:e.image,link:e.link,title:e.title},t)})},t)}),(0,l.jsx)("div",{})," "]})}var tS={dkms_banner:function(e){var t=e.data,n=e.eventData,s=t.items,i=t.showType;return(0,eg.k)(s)?"slider"===i?(0,l.jsx)(eP,{slides:s,eventData:n}):"banner"===i?(0,l.jsx)(eb,{banners:s,eventData:n}):null:null},simple_banner:function(e){var t=e.data,n=e.eventData,s=t.items,i=t.showType;return(0,eg.k)(s)?"slider"===i?(0,l.jsx)(tP,{slides:s,eventData:n}):"banner"===i?(0,l.jsx)(tN,{banners:s,eventData:n}):null:null},circle_badge:ev,fresh_touchpoint:function(e){var t=e.data,n=(e.utm,e.eventData),s=(0,eS.d)(),i=s.isOpen,r=s.onOpen,a=s.onClose,o=X({eventData:n}),d=o.onWidgetClick,c=o.viewRef,u=(0,Z.Z)((0,C.useState)(!0),2),m=u[0],p=u[1],x=(0,Z.Z)((0,eL.R)({rootMargin:"-62px 0px 0px 0px"}),2),f=x[0],h=x[1];return((0,C.useEffect)(function(){p(h)},[h]),(0,el.d)(es.X.SUPER_APP_WEB_PILLARS_VIEW))?null:(0,l.jsxs)("div",{className:"mt-4 mx-4",ref:c,children:[(0,l.jsx)("div",{ref:f,onClick:function(){r(),d()},className:"rounded-md relative overflow-hidden cursor-pointer",children:(0,l.jsx)(b.E,{src:t.image.url,alt:t.image.alt,height:74.5,objectFit:"cover"})}),(0,l.jsx)(eJ,{isOpen:i,onDismiss:a}),(0,l.jsx)(eB,{hide:m})]})},touchpoint_group:function(e){var t=e.data,n=X({eventData:(e.utm,e.eventData)}).viewRef,s=t.defaultGroups,i=s.title,r=s.numberOfRows,a={categories:s.items.map(function(e,t){return{id:t,image:e.image,title:e.title,link:e.link}})}.categories;return(0,l.jsxs)("div",{className:"w-full flex flex-col items-center",ref:n,children:[(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(eX,{title:i})}),(0,l.jsx)(tL,{numberOfRows:r,categories:a})]})},divider:function(e){var t=e.data.style;return(0,l.jsx)("hr",{style:t,className:"w-full bg-neutral-100 border-none h-2 mt-4"})},horizontal_products:eq,bnpl_credit:Q,cart_based_products:en,ordered_products:td,mag:eQ,image_carousel:eY,magnet_watch_buy:tl,ads_video:H,emergency_communication:function(e){return(0,l.jsx)(eI.S,{className:"py-3 lg:py-6 px-4",clientPage:"home-page"})},vertical_product_listing:n(65765).C,product:tj};function tT(e){var t=e.widget,n=tS[t.type];return n?(0,l.jsx)(r.Z,{children:(0,l.jsx)(p,{widget:t,Component:n})}):null}function tM(e){var t=e.widget,n=tS[t.type];if(!n)return null;if("data"in t){var r,a=(0,i.Z)((0,s.Z)({},t.eventData),{widgetName:(null===(r=t.eventData)||void 0===r?void 0:r.widgetName)||t.utm});return(0,l.jsx)(n,(0,i.Z)((0,s.Z)({},t),{eventData:a}))}return"url"in t?(0,l.jsx)(tT,{widget:t}):null}},73186:function(e){e.exports={right:"styles_right__bWd56",left:"styles_left__9JtiE"}},83679:function(e){e.exports={VideoEndedModal__item:"styles_VideoEndedModal__item__Wa_x7"}},34479:function(e){e.exports={VideoModalContentFooterOverlay:"styles_VideoModalContentFooterOverlay__Dr7La"}},57194:function(e){e.exports={VideoModalContentHeaderOverlay:"styles_VideoModalContentHeaderOverlay__BR_XF"}},90830:function(e){e.exports={VideoPlayerProgressbar__range:"styles_VideoPlayerProgressbar__range__whAT3"}},50069:function(e){e.exports={slider:"styles_slider__Yi2lt",productCard__image:"styles_productCard__image__Z4T2c",productCard__carouselImage:"styles_productCard__carouselImage__6_HS2",productCard__blendBackground:"styles_productCard__blendBackground__AdTH_",blurOverlay:"styles_blurOverlay__UGkGH",controlButton:"styles_controlButton__ExnC2",controlButtonTransparent:"styles_controlButtonTransparent__BurIf",progressBar:"styles_progressBar__mHKof"}},82276:function(e){e.exports={Bnpl__animation:"styles_Bnpl__animation__NDhdA",show:"styles_show__NNQAp",Bnpl__card:"styles_Bnpl__card__d0gZW","Bnpl__card--debt":"styles_Bnpl__card--debt__UI_7r"}},73585:function(e){e.exports={shortcutsModal__serviceBox:"styles_shortcutsModal__serviceBox__VUoTe"}},88238:function(e){e.exports={MainHomeDeepLinks__moreButton:"styles_MainHomeDeepLinks__moreButton__2S6fb"}},75633:function(e){e.exports={MainHomeTopSlider:"styles_MainHomeTopSlider__dXMAX",MainHomeTopSlider__navigator:"styles_MainHomeTopSlider__navigator__ystIx",MainHomeTopSlider__sliderPagination:"styles_MainHomeTopSlider__sliderPagination__K9AP_",MainHomeTopSlider__sliderPaginationBullet:"styles_MainHomeTopSlider__sliderPaginationBullet__EtcYh","MainHomeTopSlider__sliderPaginationBullet--active":"styles_MainHomeTopSlider__sliderPaginationBullet--active__fQpzn"}},25233:function(e){e.exports={container:"styles_container__MmSW7",container__nowroz:"styles_container__nowroz__tlc6l",innerContainer:"styles_innerContainer__HmNtt",image:"styles_image__tidrw",image__nowroz:"styles_image__nowroz__lV_Eh","image--live":"styles_image--live__MIehF",timeBadge:"styles_timeBadge__w3k31",timeBadge__nowroz:"styles_timeBadge__nowroz__aGxsg",timeBadge__started:"styles_timeBadge__started__JrLn6",timeBadge__started__nowroz:"styles_timeBadge__started__nowroz__NSKmn"}},12794:function(e){e.exports={ProductItem:"styles_ProductItem__Tk9Wv",ProductItem__description:"styles_ProductItem__description__8StpG"}},48447:function(e){e.exports={MainHomeTopSlider:"styles_MainHomeTopSlider___GwmC",MainHomeTopSlider__navigator:"styles_MainHomeTopSlider__navigator__uGyJu",MainHomeTopSlider__sliderPagination:"styles_MainHomeTopSlider__sliderPagination__2wftX",MainHomeTopSlider__sliderPaginationBullet:"styles_MainHomeTopSlider__sliderPaginationBullet__WCKZ_","MainHomeTopSlider__sliderPaginationBullet--active":"styles_MainHomeTopSlider__sliderPaginationBullet--active___M5em"}}}]);