(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3966],{48485:function(e,s,n){"use strict";n.d(s,{$:function(){return r}});var t=n(55059),i=n(45227),o=n(1324),a=n(12694),r=(0,o.q)({type:i.XN.POST,url:function(e){var s=e.answerId;return"answers/".concat(s,"/like/")},inputTransformer:function(e){var s=e.type;return(0,a.s)({type:s})},transformer:t.u})},26956:function(e,s,n){"use strict";n.d(s,{x:function(){return c}});var t=n(52322),i=n(57931),o=n(98780),a=n(64177),r=n(52216),l=n(72677);function c(e){var s=e.className,n=e.classNamePadding,c=e.likeCount,u=e.dislikeCount,d=e.onLike,p=e.onDislike,x=e.isLoadingLike,m=e.isLoadingDislike,h=e.isLike,f=e.isDislike,w=e.thumbsUpCroId,v=e.thumbsDownCroId,A=(0,a.C)().isDesktop,k=(0,l.d)("flex items-center text-neutral-500",void 0===n?"pt-3":n,s);return(0,t.jsx)("div",{className:k,children:(0,t.jsxs)("div",{className:"mr-auto lg:mr-0 flex items-center",children:[(0,t.jsx)(i.z,{isLoading:x,onClick:d,hasCustomMode:!0,removePadding:!0,mode:"text",size:"small",className:"px-2 text-neutral-650",CROId:w,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"lg:text-caption text-caption-compact",children:(0,r.U)(void 0===c?0:c)}),(0,t.jsx)(o.J,{icon:h?"cube-action-feedback-like-fill":"cube-action-feedback-like",className:"mr-1",size:A?20:16,color:"high-emphasis"})]})}),(0,t.jsxs)(i.z,{isLoading:m,onClick:p,hasCustomMode:!0,mode:"text",removePadding:!0,className:"px-2 text-neutral-650",CROId:v,children:[(0,t.jsx)("p",{className:"lg:text-caption text-caption-compact",children:(0,r.U)(void 0===u?0:u)}),(0,t.jsx)(o.J,{icon:f?"cube-action-feedback-dislike-fill":"cube-action-feedback-dislike",className:"mr-1",size:A?20:16,color:"high-emphasis"})]})]})})}},31969:function(e,s,n){"use strict";n.d(s,{d:function(){return t}});var t={LIKE:"like",DISLIKE:"dislike"}},71838:function(e,s,n){"use strict";n.d(s,{q:function(){return a}});var t=n(90581),i=n(79593),o="contribution-badge-tooltip-display-manager",a=new(function(){function e(){if((0,t.Z)(this,e),i.s)this.seenCount=0;else{var s;this.seenCount=parseInt(null==window?void 0:null===(s=window.localStorage)||void 0===s?void 0:s.getItem(o))||0}}var s=e.prototype;return s.hasReachedLimit=function(){return this.seenCount>=3},s.increaseSeenCount=function(){this.hasReachedLimit()||(this.seenCount++,this.updateStorage())},s.updateStorage=function(){var e;null==window||null===(e=window.localStorage)||void 0===e||e.setItem(o,String(this.seenCount))},e}())},55059:function(e,s,n){"use strict";function t(e){var s=e.data||{};return{dislikes:s.dislikes,likes:s.likes}}n.d(s,{u:function(){return t}})},21728:function(e,s,n){"use strict";n.d(s,{Q:function(){return v}});var t=n(66383),i=n(52322),o=n(2784),a=n(72677),r=n(41435),l=n(57931),c=n(98780),u=n(598);function d(e){var s=e.openAnswerModal,n=e.buttonText,t=e.CROId,o=e.className;return(0,i.jsx)("div",{className:o,children:(0,i.jsxs)(l.z,{mode:"text",size:"small",color:"secondary",onClick:s,CROId:t,className:"text-secondary-500",children:[(0,i.jsx)(c.J,{icon:"cube-content-edit",color:"secondary",size:16,className:"ml-2"}),n]})})}var p=n(74808),x=n(73739);function m(e){var s=e.className;return(0,i.jsx)(x.k,{className:s,icon:"infoOutline",children:"پاسخ شما ثبت شد و پس از بررسی و تایید نمایش داده خواهد شد."})}function h(e){var s=e.answers,n=e.questionText,t=e.submitted,o=e.showAllAnswers,a=e.setShowAllAnswers,r=e.openAnswerModal,x=e.className,h=e.disableReplayAction,f=e.productId,w=e.hasContributionBadgeTooltipDisplayed;return o||1===s.length?(0,i.jsxs)("div",{className:x,children:[s.map(function(e){return(0,i.jsx)(u.s,{hasContributionBadgeTooltipDisplayed:w,questionAnswer:e,questionText:n,productId:f},e.questionAnswerId)}),t?(0,i.jsx)(m,{}):!h&&(0,i.jsx)(d,{buttonText:"ثبت پاسخ",openAnswerModal:r})]}):s.length>1?(0,i.jsxs)("div",{className:x,children:[(0,i.jsx)(u.s,{hasContributionBadgeTooltipDisplayed:w,questionAnswer:s[0],questionText:n,productId:f}),(0,i.jsxs)(l.z,{shape:"text",color:"secondary",onClick:function(){a(!0),(0,p.y0)({type:"more_answers",productId:f})},className:"mb-3 pr-0 font-bold text-secondary-500",children:["مشاهده‌ی پاسخ‌های دیگر",(0,i.jsx)(c.J,{icon:"expandMore",color:"secondary",className:"mx-2",size:24})]})]}):null}function f(e){var s=e.submitted,n=e.openAnswerModal,t=e.className,o=e.disableReplayAction;return s?(0,i.jsx)(m,{className:(0,a.d)("mt-1",t)}):(0,i.jsx)("div",{className:t,children:o?null:(0,i.jsx)(d,{buttonText:"ثبت پاسخ‌",CROId:"pdp-answer",openAnswerModal:n})})}var w=(0,o.memo)(function(e){var s=e.answers,n=e.questionId,a=e.questionText,l=e.showAllAnswers,c=e.setShowAllAnswers,u=e.openAnswerModal,d=e.disableReplayAction,p=e.productId,x=e.hasContributionBadgeTooltipDisplayed,m=(0,t.Z)((0,o.useState)(!1),2),w=m[0],v=m[1],A=function(){v(!0)},k=function(){u({questionId:n,questionText:a,successCallback:A,questionHasNoAnswer:(0,r.x)(s)})};return(0,r.x)(s)?(0,i.jsx)(f,{submitted:w,openAnswerModal:k,disableReplayAction:d}):(0,i.jsx)(h,{className:"w-full",answers:s,questionText:a,submitted:w,showAllAnswers:l,setShowAllAnswers:c,openAnswerModal:k,disableReplayAction:d,productId:p,hasContributionBadgeTooltipDisplayed:x})});function v(e){var s=e.className,n=e.question,r=e.disableReplayAction,l=e.openAnswerModal,c=e.hasContributionBadgeTooltipDisplayed,u=n||{},d=u.questionAnswers,p=u.questionText,x=u.questionId,m=(u.questionProduct||{}).productId,h=(0,t.Z)((0,o.useState)(!1),2),f=h[0],v=h[1];return(0,i.jsxs)("article",{className:(0,a.d)(s,"py-2 px-3 w-full"),children:[(0,i.jsx)("div",{className:"flex items-start",children:(0,i.jsx)("p",{className:"text-neutral-850 text-h5-regular-180 w-full py-2",children:p})}),(0,i.jsx)(w,{questionId:x,answers:d,questionText:p,showAllAnswers:f,setShowAllAnswers:v,openAnswerModal:l,disableReplayAction:r,hasContributionBadgeTooltipDisplayed:c,productId:m})]})}},598:function(e,s,n){"use strict";n.d(s,{s:function(){return S}});var t=n(66383),i=n(52322),o=n(2784),a=n(18577),r=n(14170),l=n(48976),c=n(98780),u=n(31909),d=n(16330),p=n(45756),x=n(26442),m=n(66781),h=n(82650),f=n(11559),w=n(64177),v=n(40565),A=n(27314),k=n(74808),j=n(52216),b=n(41435),g=n(72677),I=n(48485),N=n(26956),q=n(31969),C=n(71838),y=n(61695),L=n(82332);function T(e){var s=e.className,n=e.media,t=e.onClick,o=n.mediaUrl,a=n.mediaType,r=n.mediaThumbnailUrl,l=(0,L.t)(a,y.L.VIDEO);return(0,i.jsxs)("div",{className:(0,g.d)(s,"relative cursor-pointer"),onClick:t,children:[(0,i.jsx)(u.E,{alt:"question-answer-media",src:l?r:o,rounded:8,height:50,width:50}),l&&(0,i.jsx)(c.J,{size:24,className:"absolute bottom-0 left-0",icon:"playSimple",color:"white"})]})}function S(e){var s=e.className,n=e.questionAnswer,y=e.questionText,L=e.isInDetailModal,S=e.productId,D=e.hasContributionBadgeTooltipDisplayed,R=n||{},P=R.questionAnswerId,E=R.questionAnswerText,z=R.questionAnswerType,M=(R.questionAnswerSender,R.questionAnswerUserReaction),_=R.questionAnswerReactionsLikes,O=R.questionAnswerHasQABadge,U=R.questionAnswerReactionsDisLikes,K=R.questionAnswerCreatedAt,B=R.questionAnswerMedias,J=R.questionAnswerSocialProfile,Z=R.questionAnswerContributionBadge,$=(0,w.C)().isDesktop,F=Z||{},H=F.contributionBadgeText,Q=F.contributionBadgeTooltipText,X=J||{},G=X.socialProfileImage,V=X.socialUsername,Y=(0,t.Z)((0,o.useState)(function(){return!$&&!!H&&(null==D||!D.current)&&(D.current=!0,!0)}),2),W=Y[0],ee=Y[1],es=(0,A.e)().redirect,en=(0,t.Z)((0,o.useState)([M].includes(q.d.LIKE)),2),et=en[0],ei=en[1],eo=(0,t.Z)((0,o.useState)([M].includes(q.d.DISLIKE)),2),ea=eo[0],er=eo[1],el=(0,t.Z)((0,o.useState)({questionAnswerReactionsLikes:_,questionAnswerReactionsDisLikes:U}),2),ec=el[0],eu=el[1],ed=function(e){var s=e||{},t=s.likes,i=s.dislikes;eu({questionAnswerReactionsLikes:t,questionAnswerReactionsDisLikes:i}),n.questionAnswerReactionsDisLikes=i,n.questionAnswerReactionsLikes=t},ep=(0,f.E)({apiMethod:I.$,onSuccess:ed}),ex=ep.request,em=ep.pending,eh=(0,f.E)({apiMethod:I.$,onSuccess:ed}),ef=eh.request,ew=eh.pending,ev=(0,h.z)().emit;return(0,v.x)([{event:m.s6,handler:function(e){P===e.questionAnswerId&&(er([M].includes(q.d.DISLIKE)),ei([M].includes(q.d.LIKE)),eu({questionAnswerReactionsLikes:_,questionAnswerReactionsDisLikes:U}))}}]),(0,i.jsxs)("div",{className:(0,g.d)(s,"flex flex-col py-4"),children:[(0,i.jsxs)("div",{className:"flex gap-2 items-center",onClick:function(e){V&&(e.stopPropagation(),es({url:(0,x.kK)(V)}))},children:[V&&(0,i.jsx)("div",{children:(0,i.jsx)(u.E,{className:"shrink-0",image:G,height:40,width:40,rounded:20,objectFit:"cover"})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex flex-nowrap items-center overflow-hidden",children:[(0,i.jsx)("span",{className:"text-neutral-650 text-button-2-compact whitespace-nowrap truncate max-w-[135px]",children:(0,j.U)(n.questionAnswerSender)}),(0,i.jsx)("span",{children:O?(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(c.J,{icon:"cube-content-dot",color:(0,a.$l)("color-neutral-200"),size:20}),(0,i.jsx)(l.C,{className:"border-none pr-0",shape:"outlined",size:"small",text:"نماینده برند",textClasses:"text-neutral-000",bgColor:"neutral-400"})]}):"buyer"===z?(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(c.J,{icon:"cube-content-dot",color:(0,a.$l)("color-neutral-200"),size:20}),(0,i.jsx)(l.C,{className:"border-none pr-0",shape:"outlined",size:"small",text:"خریدار",type:"success"})]}):"seller"===z?(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(c.J,{icon:"cube-content-dot",color:(0,a.$l)("color-neutral-200"),size:20}),(0,i.jsx)(l.C,{className:"border-none pr-0",shape:"outlined",size:"small",text:"فروشنده",type:"warning"})]}):null})]}),H&&(0,i.jsx)(d.u,{hasArrow:!0,hasTooltip:!0,disableOnClick:!0,tooltipOffset:$?[0,0]:[-20,10],shouldHideOnOutsideClick:!1,openTooltip:W,label:(0,i.jsxs)("div",{className:"flex items-center gap-2 text-caption",children:[(0,i.jsx)("span",{children:Q}),!$&&(0,i.jsx)(c.J,{icon:"cube-nav-close",size:24,color:"white",onClick:function(){C.q.increaseSeenCount(),ee(!1)}})]}),children:(0,i.jsxs)("div",{className:"flex gap-1 items-center cursor-pointer",children:[(0,i.jsx)(r.$,{className:"h-5 w-5",autoplay:!0,loop:!0,animationFileName:"./contribution-badge.lottie"}),(0,i.jsx)("div",{className:"text-caption-strong-180 text-hint-text-success",children:H})]})})]})]}),(0,i.jsxs)("div",{className:"mr-12",children:[(0,i.jsx)("p",{className:(0,g.d)("text-body-1 text-[#5c5c5c] my-1 mr-2"),children:E}),!L&&!(0,b.x)(B)&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 my-3",children:B.map(function(e,s){return(0,i.jsx)(T,{media:e,onClick:function(){return ev(m.P8,{questionAnswer:n,questionText:y,mediaIndex:s,productId:S})}})})}),(0,i.jsxs)("div",{className:"flex items-center justify-between w-full text-dark-neutral-000",children:[(0,i.jsx)("span",{className:"text-dark-neutral-600 whitespace-nowrap truncate text-body-1-180",children:(0,j.U)(K)}),(0,i.jsx)(N.x,{classNamePadding:"pt-0",onLike:function(){ex({type:q.d.LIKE,answerId:P}).then(function(e){e.likes>ec.questionAnswerReactionsLikes?(ei(!0),n.questionAnswerUserReaction=q.d.LIKE):(ei(!1),n.questionAnswerUserReaction="")}).finally(function(){er(!1)}),(0,k.y6)({type:"Like",productId:S})},isLike:et,onDislike:function(){ef({answerId:P,type:q.d.DISLIKE}).then(function(e){e.dislikes>ec.questionAnswerReactionsDisLikes?(er(!0),n.questionAnswerUserReaction=q.d.DISLIKE):(er(!1),n.questionAnswerUserReaction="")}).finally(function(){ei(!1)}),(0,k.y6)({type:"Dislike",productId:S})},isDislike:ea,isLoadingLike:em,isLoadingDislike:ew,likeCount:null==ec?void 0:ec.questionAnswerReactionsLikes,dislikeCount:null==ec?void 0:ec.questionAnswerReactionsDisLikes,thumbsUpCroId:p.h.PDP_QUESTION_LIKE,thumbsDownCroId:p.h.PDP_QUESTION_DISLIKE})]})]})]})}},4818:function(e,s,n){"use strict";n.d(s,{D:function(){return x}});var t=n(70865),i=n(52322),o=n(64665),a=n(2784),r=n(5632),l={};function c(e){var s=l[e];void 0!==s&&window.scrollTo(0,s)}var u=n(42306),d=n(98324),p=n.n(d);function x(e){var s=e.component,n=e.getAPIMethods,d=e.layoutProps,x=e.isPrivate,m=e.noDefaultLoader,h=e.pageActivatorFeature,f=e.redirectIfLogin,w=e.afterLogin,v=e.disableSSR,A=e.dataProps,k=e.saveScrollPosition,j=void 0!==k&&k,b=function(e){return(!function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],s=(0,r.useRouter)(),n=s.pathname;(0,a.useEffect)(function(){if(e){var t=function(){l[n]=window.scrollY},i=function(){setTimeout(function(){c(n)},0)};s.events.on("routeChangeStart",t),s.events.on("routeChangeComplete",i);var o=setTimeout(function(){c(n)},1e3);return function(){clearTimeout(o),s.events.off("routeChangeStart",t),s.events.off("routeChangeComplete",i)}}},[n,s,e])}(j),(0,u.d)(o.X.LITE_PAGE_ANIMATION))?(0,i.jsx)("div",{className:p().container,children:(0,i.jsx)(s,(0,t.Z)({},e))}):(0,i.jsx)(s,(0,t.Z)({},e))};return b.getAPIMethods=n,b.layoutProps=d,b.isPrivate=x,b.noDefaultLoader=m,b.pageActivatorFeature=h,b.redirectIfLogin=f,b.afterLogin=w,b.disableSSR=v,b.dataProps=A,b.saveScrollPosition=j,b}},98324:function(e){e.exports={container:"styles_container__TOHrJ","fade-out":"styles_fade-out__Z1zNL"}}}]);